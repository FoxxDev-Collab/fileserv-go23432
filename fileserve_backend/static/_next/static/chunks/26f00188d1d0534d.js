(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30009,e=>{"use strict";e.s(["AlertDialog",()=>T,"AlertDialogAction",()=>O,"AlertDialogCancel",()=>H,"AlertDialogContent",()=>F,"AlertDialogDescription",()=>z,"AlertDialogFooter",()=>L,"AlertDialogHeader",()=>I,"AlertDialogTitle",()=>B],30009);var t=e.i(18050),a=e.i(71645),s=e.i(20783),r=e.i(26999),l=e.i(81140),i=Symbol("radix.slottable"),n="AlertDialog",[o,d]=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],l=()=>{let t=r.map(e=>a.createContext(e));return function(s){let r=(null==s?void 0:s[e])||t;return a.useMemo(()=>({["__scope".concat(e)]:{...s,[e]:r}}),[s,r])}};return l.scopeName=e,[function(s,l){let i=a.createContext(l),n=r.length;r=[...r,l];let o=s=>{var r;let{scope:l,children:o,...d}=s,c=(null==l||null==(r=l[e])?void 0:r[n])||i,u=a.useMemo(()=>d,Object.values(d));return(0,t.jsx)(c.Provider,{value:u,children:o})};return o.displayName=s+"Provider",[o,function(t,r){var o;let d=(null==r||null==(o=r[e])?void 0:o[n])||i,c=a.useContext(d);if(c)return c;if(void 0!==l)return l;throw Error("`".concat(t,"` must be used within `").concat(s,"`"))}]},function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let r=t[0];if(1===t.length)return r;let l=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let s=e.reduce((e,a)=>{let{useScope:s,scopeName:r}=a,l=s(t)["__scope".concat(r)];return{...e,...l}},{});return a.useMemo(()=>({["__scope".concat(r.scopeName)]:s}),[s])}};return l.scopeName=r.scopeName,l}(l,...s)]}(n,[r.createDialogScope]),c=(0,r.createDialogScope)(),u=e=>{let{__scopeAlertDialog:a,...s}=e,l=c(a);return(0,t.jsx)(r.Root,{...l,...s,modal:!0})};u.displayName=n,a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,i=c(s);return(0,t.jsx)(r.Trigger,{...i,...l,ref:a})}).displayName="AlertDialogTrigger";var m=e=>{let{__scopeAlertDialog:a,...s}=e,l=c(a);return(0,t.jsx)(r.Portal,{...l,...s})};m.displayName="AlertDialogPortal";var x=a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,i=c(s);return(0,t.jsx)(r.Overlay,{...i,...l,ref:a})});x.displayName="AlertDialogOverlay";var p="AlertDialogContent",[g,h]=o(p),f=function(e){let a=e=>{let{children:a}=e;return(0,t.jsx)(t.Fragment,{children:a})};return a.displayName="".concat(e,".Slottable"),a.__radixId=i,a}("AlertDialogContent"),j=a.forwardRef((e,i)=>{let{__scopeAlertDialog:n,children:o,...d}=e,u=c(n),m=a.useRef(null),x=(0,s.useComposedRefs)(i,m),h=a.useRef(null);return(0,t.jsx)(r.WarningProvider,{contentName:p,titleName:v,docsSlug:"alert-dialog",children:(0,t.jsx)(g,{scope:n,cancelRef:h,children:(0,t.jsxs)(r.Content,{role:"alertdialog",...u,...d,ref:x,onOpenAutoFocus:(0,l.composeEventHandlers)(d.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=h.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(f,{children:o}),(0,t.jsx)(S,{contentRef:m})]})})})});j.displayName=p;var v="AlertDialogTitle",b=a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,i=c(s);return(0,t.jsx)(r.Title,{...i,...l,ref:a})});b.displayName=v;var y="AlertDialogDescription",N=a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,i=c(s);return(0,t.jsx)(r.Description,{...i,...l,ref:a})});N.displayName=y;var D=a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,i=c(s);return(0,t.jsx)(r.Close,{...i,...l,ref:a})});D.displayName="AlertDialogAction";var w="AlertDialogCancel",C=a.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...i}=e,{cancelRef:n}=h(w,l),o=c(l),d=(0,s.useComposedRefs)(a,n);return(0,t.jsx)(r.Close,{...o,...i,ref:d})});C.displayName=w;var S=e=>{let{contentRef:t}=e,s="`".concat(p,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(p,"` by passing a `").concat(y,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(p,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return a.useEffect(()=>{var e;document.getElementById(null==(e=t.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},A=e.i(47163),P=e.i(67881);function T(e){let{...a}=e;return(0,t.jsx)(u,{"data-slot":"alert-dialog",...a})}function R(e){let{...a}=e;return(0,t.jsx)(m,{"data-slot":"alert-dialog-portal",...a})}function k(e){let{className:a,...s}=e;return(0,t.jsx)(x,{"data-slot":"alert-dialog-overlay",className:(0,A.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...s})}function F(e){let{className:a,...s}=e;return(0,t.jsxs)(R,{children:[(0,t.jsx)(k,{}),(0,t.jsx)(j,{"data-slot":"alert-dialog-content",className:(0,A.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...s})]})}function I(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,A.cn)("flex flex-col gap-2 text-center sm:text-left",a),...s})}function L(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,A.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...s})}function B(e){let{className:a,...s}=e;return(0,t.jsx)(b,{"data-slot":"alert-dialog-title",className:(0,A.cn)("text-lg font-semibold",a),...s})}function z(e){let{className:a,...s}=e;return(0,t.jsx)(N,{"data-slot":"alert-dialog-description",className:(0,A.cn)("text-muted-foreground text-sm",a),...s})}function O(e){let{className:a,...s}=e;return(0,t.jsx)(D,{className:(0,A.cn)((0,P.buttonVariants)(),a),...s})}function H(e){let{className:a,...s}=e;return(0,t.jsx)(C,{className:(0,A.cn)((0,P.buttonVariants)({variant:"outline"}),a),...s})}},30374,e=>{"use strict";e.s(["Dialog",()=>l,"DialogContent",()=>d,"DialogDescription",()=>x,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>m,"DialogTrigger",()=>i],30374);var t=e.i(18050),a=e.i(26999),s=e.i(41947),s=s,r=e.i(47163);function l(e){let{...s}=e;return(0,t.jsx)(a.Root,{"data-slot":"dialog",...s})}function i(e){let{...s}=e;return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...s})}function n(e){let{...s}=e;return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...s})}function o(e){let{className:s,...l}=e;return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...l})}function d(e){let{className:l,children:i,showCloseButton:d=!0,...c}=e;return(0,t.jsxs)(n,{"data-slot":"dialog-portal",children:[(0,t.jsx)(o,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",l),...c,children:[i,d&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",a),...s})}function u(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...s})}function m(e){let{className:s,...l}=e;return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",s),...l})}function x(e){let{className:s,...l}=e;return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...l})}},23750,e=>{"use strict";e.s(["Input",()=>s]);var t=e.i(18050),a=e.i(47163);function s(e){let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...l})}},10708,e=>{"use strict";e.s(["Label",()=>i],10708);var t=e.i(18050),a=e.i(71645),s=e.i(48425),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var l=e.i(47163);function i(e){let{className:a,...s}=e;return(0,t.jsx)(r,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}},99682,e=>{"use strict";e.s(["usePrevious",()=>a]);var t=e.i(71645);function a(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},7233,e=>{"use strict";e.s(["Plus",()=>t],7233);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88699,e=>{"use strict";e.s(["Pencil",()=>t],88699);let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},47473,e=>{"use strict";e.s(["default",()=>D]);var t=e.i(18050),a=e.i(71645),s=e.i(18566),r=e.i(49786),l=e.i(81868),i=e.i(67881),n=e.i(23750),o=e.i(94179),d=e.i(47627),c=e.i(30374),u=e.i(30009),m=e.i(62870),x=e.i(10708),p=e.i(98919),g=e.i(7233),h=e.i(27612),f=e.i(16715),j=e.i(88699),v=e.i(46696),b=e.i(91432);e.i(73827);var y=e.i(59467),N=e.i(54858);function D(){let[e,D]=(0,a.useState)(!1),[w,C]=(0,a.useState)(!1),[S,A]=(0,a.useState)(!1),[P,T]=(0,a.useState)(""),[R,k]=(0,a.useState)([]),[F,I]=(0,a.useState)([]),[L,B]=(0,a.useState)([]),[z,O]=(0,a.useState)(!0),{user:H,isAuthenticated:M,isLoading:_}=(0,b.useAuth)(),V=(0,s.useRouter)(),[U,E]=(0,a.useState)(null),[G,q]=(0,a.useState)(null),[W,K]=(0,a.useState)(""),[Y,J]=(0,a.useState)(""),[Q,X]=(0,a.useState)(""),[Z,$]=(0,a.useState)("read"),[ee,et]=(0,a.useState)("user");(0,a.useEffect)(()=>{_||M?_||(null==H?void 0:H.role)==="admin"||(V.push("/dashboard"),v.toast.error("Admin access required")):V.push("/login")},[_,M,H,V]);let ea=(0,a.useCallback)(async()=>{O(!0);try{let[e,t,a]=await Promise.all([N.permissionsAPI.list(),N.systemUsersAPI.list(!1),N.systemUsersAPI.listGroups()]);k(e),I(t),B(a)}catch(e){console.error("Failed to load data:",e),v.toast.error("Failed to load permissions")}finally{O(!1)}},[]);(0,a.useEffect)(()=>{M&&(null==H?void 0:H.role)==="admin"&&ea()},[M,H,ea]);let es=R.filter(e=>e.path.toLowerCase().includes(P.toLowerCase())||e.username&&e.username.toLowerCase().includes(P.toLowerCase())||e.group&&e.group.toLowerCase().includes(P.toLowerCase())),er=()=>{K(""),J(""),X(""),$("read"),et("user"),E(null)},el=async()=>{if(!W)return void v.toast.error("Path is required");if("user"===ee&&!Y)return void v.toast.error("Please select a user");if("group"===ee&&!Q)return void v.toast.error("Please select a group");try{await N.permissionsAPI.create({path:W,type:Z,username:"user"===ee?Y:void 0,group:"group"===ee?Q:void 0}),v.toast.success("Permission added successfully"),D(!1),er(),ea()}catch(e){console.error("Failed to create permission:",e),v.toast.error("Failed to create permission")}},ei=async()=>{if(U){if(!W)return void v.toast.error("Path is required");try{await N.permissionsAPI.update(U.id,{path:W,type:Z,username:"user"===ee?Y:void 0,group:"group"===ee?Q:void 0}),v.toast.success("Permission updated successfully"),C(!1),er(),ea()}catch(e){console.error("Failed to update permission:",e),v.toast.error("Failed to update permission")}}},en=async()=>{if(G)try{await N.permissionsAPI.delete(G.id),v.toast.success("Permission deleted"),A(!1),q(null),ea()}catch(e){console.error("Failed to delete permission:",e),v.toast.error("Failed to delete permission")}};if(_&&!H||!M||H&&"admin"!==H.role)return(0,t.jsx)(y.PageSkeleton,{title:"Permissions"});let eo=()=>(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"perm-path",children:"Path"}),(0,t.jsx)(n.Input,{id:"perm-path",placeholder:"/path/to/folder",value:W,onChange:e=>K(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{children:"Assign to"}),(0,t.jsxs)(m.Select,{value:ee,onValueChange:e=>et(e),children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"user",children:"User"}),(0,t.jsx)(m.SelectItem,{value:"group",children:"Group"})]})]})]}),"user"===ee?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"perm-user",children:"User"}),(0,t.jsxs)(m.Select,{value:Y,onValueChange:J,children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{placeholder:"Select a user..."})}),(0,t.jsx)(m.SelectContent,{children:F.map(e=>(0,t.jsxs)(m.SelectItem,{value:e.username,children:[e.username," ",e.name&&"(".concat(e.name,")")]},e.username))})]})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"perm-group",children:"Group"}),(0,t.jsxs)(m.Select,{value:Q,onValueChange:X,children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{placeholder:"Select a group..."})}),(0,t.jsx)(m.SelectContent,{children:L.map(e=>(0,t.jsx)(m.SelectItem,{value:e.name,children:e.name},e.name))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"perm-access",children:"Permission Level"}),(0,t.jsxs)(m.Select,{value:Z,onValueChange:e=>$(e),children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"read",children:"Read Only"}),(0,t.jsx)(m.SelectItem,{value:"write",children:"Read & Write"}),(0,t.jsx)(m.SelectItem,{value:"delete",children:"Full Access (Read, Write, Delete)"})]})]})]})]});return(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsx)(l.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(r.Header,{title:"Permissions Management"}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage file and folder access permissions"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{variant:"outline",size:"icon",onClick:ea,disabled:z,children:(0,t.jsx)(f.RefreshCw,{className:"h-4 w-4 ".concat(z?"animate-spin":"")})}),(0,t.jsxs)(c.Dialog,{open:e,onOpenChange:e=>{D(e),e||er()},children:[(0,t.jsx)(c.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{children:[(0,t.jsx)(g.Plus,{className:"mr-2 h-4 w-4"}),"Add Permission"]})}),(0,t.jsxs)(c.DialogContent,{children:[(0,t.jsxs)(c.DialogHeader,{children:[(0,t.jsx)(c.DialogTitle,{children:"Add New Permission"}),(0,t.jsx)(c.DialogDescription,{children:"Grant access to a specific path for a user or group."})]}),(0,t.jsx)(eo,{}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:el,children:"Add Permission"})]})]})]})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.Input,{type:"search",placeholder:"Search by path, username, or group...",value:P,onChange:e=>T(e.target.value),className:"max-w-md"})}),(0,t.jsx)("div",{className:"border rounded-lg p-4 bg-muted/50",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(p.Shield,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Permission Levels"}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)(o.Badge,{variant:"outline",className:"mr-2",children:"read"})," View and download files"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(o.Badge,{variant:"secondary",className:"mr-2",children:"write"})," Upload and modify files"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(o.Badge,{variant:"default",className:"mr-2",children:"delete"})," Full access including deletion"]})]})]})]})}),(0,t.jsx)("div",{className:"border rounded-lg",children:z?(0,t.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"Loading permissions..."}):0===R.length?(0,t.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"No permissions configured. Admins have full access by default."}):(0,t.jsxs)(d.Table,{children:[(0,t.jsx)(d.TableHeader,{children:(0,t.jsxs)(d.TableRow,{children:[(0,t.jsx)(d.TableHead,{children:"Path"}),(0,t.jsx)(d.TableHead,{children:"User/Group"}),(0,t.jsx)(d.TableHead,{children:"Access Level"}),(0,t.jsx)(d.TableHead,{children:"Created"}),(0,t.jsx)(d.TableHead,{className:"w-24"})]})}),(0,t.jsx)(d.TableBody,{children:es.map(e=>(0,t.jsxs)(d.TableRow,{children:[(0,t.jsx)(d.TableCell,{className:"font-mono text-sm",children:e.path}),(0,t.jsxs)(d.TableCell,{className:"font-medium",children:[e.username||e.group||"-",e.group&&(0,t.jsx)(o.Badge,{variant:"outline",className:"ml-2",children:"group"})]}),(0,t.jsx)(d.TableCell,{children:(0,t.jsx)(o.Badge,{variant:"delete"===e.type?"default":"write"===e.type?"secondary":"outline",children:e.type||"read"})}),(0,t.jsx)(d.TableCell,{children:new Date(e.created_at).toLocaleDateString()}),(0,t.jsx)(d.TableCell,{children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>{E(e),K(e.path),$(e.type),e.username?(et("user"),J(e.username),X("")):(et("group"),X(e.group||""),J("")),C(!0)},children:(0,t.jsx)(j.Pencil,{className:"h-4 w-4"})}),(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>{q(e),A(!0)},className:"text-destructive hover:text-destructive",children:(0,t.jsx)(h.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})}),(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",es.length," of ",R.length," permissions"]})})]})})]}),(0,t.jsx)(c.Dialog,{open:w,onOpenChange:e=>{C(e),e||er()},children:(0,t.jsxs)(c.DialogContent,{children:[(0,t.jsxs)(c.DialogHeader,{children:[(0,t.jsx)(c.DialogTitle,{children:"Edit Permission"}),(0,t.jsx)(c.DialogDescription,{children:"Modify the permission settings."})]}),(0,t.jsx)(eo,{}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:ei,children:"Save Changes"})]})]})}),(0,t.jsx)(u.AlertDialog,{open:S,onOpenChange:A,children:(0,t.jsxs)(u.AlertDialogContent,{children:[(0,t.jsxs)(u.AlertDialogHeader,{children:[(0,t.jsx)(u.AlertDialogTitle,{children:"Delete Permission"}),(0,t.jsxs)(u.AlertDialogDescription,{children:["Are you sure you want to delete this permission for"," ",(0,t.jsx)("strong",{children:(null==G?void 0:G.username)||(null==G?void 0:G.group)})," on"," ",(0,t.jsx)("code",{className:"bg-muted px-1 rounded",children:null==G?void 0:G.path}),"? This action cannot be undone."]})]}),(0,t.jsxs)(u.AlertDialogFooter,{children:[(0,t.jsx)(u.AlertDialogCancel,{children:"Cancel"}),(0,t.jsx)(u.AlertDialogAction,{onClick:en,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}}]);