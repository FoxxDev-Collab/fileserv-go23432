(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";e.s(["AlertTriangle",()=>t.default]);var t=e.i(82458)},69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},84762,19036,e=>{"use strict";e.s(["Textarea",()=>s],84762);var t=e.i(18050),a=e.i(47163);function s(e){let{className:s,...l}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...l})}e.s(["Switch",()=>_],19036);var l=e.i(71645),r=e.i(81140),i=e.i(20783),n=e.i(69340),o=e.i(99682),d=e.i(35804);e.i(74080);var c=Symbol("radix.slottable");function u(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}var x=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let s=function(e){let a=function(e){let t=l.forwardRef((e,t)=>{let{children:a,...s}=e;if(l.isValidElement(a)){var r,n,o;let e,d,c=(d=(e=null==(n=Object.getOwnPropertyDescriptor((r=a).props,"ref"))?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning)?r.ref:(d=(e=null==(o=Object.getOwnPropertyDescriptor(r,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?r.props.ref:r.props.ref||r.ref,u=function(e,t){let a={...t};for(let s in t){let l=e[s],r=t[s];/^on[A-Z]/.test(s)?l&&r?a[s]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let s=r(...t);return l(...t),s}:l&&(a[s]=l):"style"===s?a[s]={...l,...r}:"className"===s&&(a[s]=[l,r].filter(Boolean).join(" "))}return{...e,...a}}(s,a.props);return a.type!==l.Fragment&&(u.ref=t?(0,i.composeRefs)(t,c):c),l.cloneElement(a,u)}return l.Children.count(a)>1?l.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),s=l.forwardRef((e,s)=>{let{children:r,...i}=e,n=l.Children.toArray(r),o=n.find(u);if(o){let e=o.props.children,r=n.map(t=>t!==o?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,t.jsx)(a,{...i,ref:s,children:l.isValidElement(e)?l.cloneElement(e,void 0,r):null})}return(0,t.jsx)(a,{...i,ref:s,children:r})});return s.displayName="".concat(e,".Slot"),s}("Primitive.".concat(a)),r=l.forwardRef((e,l)=>{let{asChild:r,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?s:a,{...i,ref:l})});return r.displayName="Primitive.".concat(a),{...e,[a]:r}},{}),p="Switch",[m,h]=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[],r=()=>{let t=s.map(e=>l.createContext(e));return function(a){let s=(null==a?void 0:a[e])||t;return l.useMemo(()=>({["__scope".concat(e)]:{...a,[e]:s}}),[a,s])}};return r.scopeName=e,[function(a,r){let i=l.createContext(r),n=s.length;s=[...s,r];let o=a=>{var s;let{scope:r,children:o,...d}=a,c=(null==r||null==(s=r[e])?void 0:s[n])||i,u=l.useMemo(()=>d,Object.values(d));return(0,t.jsx)(c.Provider,{value:u,children:o})};return o.displayName=a+"Provider",[o,function(t,s){var o;let d=(null==s||null==(o=s[e])?void 0:o[n])||i,c=l.useContext(d);if(c)return c;if(void 0!==r)return r;throw Error("`".concat(t,"` must be used within `").concat(a,"`"))}]},function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let s=t[0];if(1===t.length)return s;let r=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let a=e.reduce((e,a)=>{let{useScope:s,scopeName:l}=a,r=s(t)["__scope".concat(l)];return{...e,...r}},{});return l.useMemo(()=>({["__scope".concat(s.scopeName)]:a}),[a])}};return r.scopeName=s.scopeName,r}(r,...a)]}(p),[f,g]=m(p),b=l.forwardRef((e,a)=>{let{__scopeSwitch:s,name:o,checked:d,defaultChecked:c,required:u,disabled:m,value:h="on",onCheckedChange:g,form:b,...j}=e,[v,_]=l.useState(null),w=(0,i.useComposedRefs)(a,e=>_(e)),C=l.useRef(!1),k=!v||b||!!v.closest("form"),[T,P]=(0,n.useControllableState)({prop:d,defaultProp:null!=c&&c,onChange:g,caller:p});return(0,t.jsxs)(f,{scope:s,checked:T,disabled:m,children:[(0,t.jsx)(x.button,{type:"button",role:"switch","aria-checked":T,"aria-required":u,"data-state":N(T),"data-disabled":m?"":void 0,disabled:m,value:h,...j,ref:w,onClick:(0,r.composeEventHandlers)(e.onClick,e=>{P(e=>!e),k&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),k&&(0,t.jsx)(y,{control:v,bubbles:!C.current,name:o,value:h,checked:T,required:u,disabled:m,form:b,style:{transform:"translateX(-100%)"}})]})});b.displayName=p;var j="SwitchThumb",v=l.forwardRef((e,a)=>{let{__scopeSwitch:s,...l}=e,r=g(j,s);return(0,t.jsx)(x.span,{"data-state":N(r.checked),"data-disabled":r.disabled?"":void 0,...l,ref:a})});v.displayName=j;var y=l.forwardRef((e,a)=>{let{__scopeSwitch:s,control:r,checked:n,bubbles:c=!0,...u}=e,x=l.useRef(null),p=(0,i.useComposedRefs)(x,a),m=(0,o.usePrevious)(n),h=(0,d.useSize)(r);return l.useEffect(()=>{let e=x.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==n&&t){let a=new Event("click",{bubbles:c});t.call(e,n),e.dispatchEvent(a)}},[m,n,c]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...u,tabIndex:-1,ref:p,style:{...u.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}function _(e){let{className:s,...l}=e;return(0,t.jsx)(b,{"data-slot":"switch",className:(0,a.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:(0,t.jsx)(v,{"data-slot":"switch-thumb",className:(0,a.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}y.displayName="SwitchBubbleInput"},23750,e=>{"use strict";e.s(["Input",()=>s]);var t=e.i(18050),a=e.i(47163);function s(e){let{className:s,type:l,...r}=e;return(0,t.jsx)("input",{type:l,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}},10708,e=>{"use strict";e.s(["Label",()=>i],10708);var t=e.i(18050),a=e.i(71645),s=e.i(48425),l=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var r=e.i(47163);function i(e){let{className:a,...s}=e;return(0,t.jsx)(l,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}},99682,e=>{"use strict";e.s(["usePrevious",()=>a]);var t=e.i(71645);function a(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},30374,e=>{"use strict";e.s(["Dialog",()=>r,"DialogContent",()=>d,"DialogDescription",()=>p,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>x,"DialogTrigger",()=>i],30374);var t=e.i(18050),a=e.i(26999),s=e.i(41947),s=s,l=e.i(47163);function r(e){let{...s}=e;return(0,t.jsx)(a.Root,{"data-slot":"dialog",...s})}function i(e){let{...s}=e;return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...s})}function n(e){let{...s}=e;return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...s})}function o(e){let{className:s,...r}=e;return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...r})}function d(e){let{className:r,children:i,showCloseButton:d=!0,...c}=e;return(0,t.jsxs)(n,{"data-slot":"dialog-portal",children:[(0,t.jsx)(o,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...c,children:[i,d&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",a),...s})}function u(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...s})}function x(e){let{className:s,...r}=e;return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",s),...r})}function p(e){let{className:s,...r}=e;return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",s),...r})}},7233,e=>{"use strict";e.s(["Plus",()=>t],7233);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88699,e=>{"use strict";e.s(["Pencil",()=>t],88699);let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},63868,e=>{"use strict";e.s(["default",()=>S]);var t=e.i(18050),a=e.i(71645),s=e.i(18566),l=e.i(49786),r=e.i(81868),i=e.i(70065),n=e.i(94179),o=e.i(67881),d=e.i(87336),c=e.i(47627),u=e.i(30374),x=e.i(23750),p=e.i(10708),m=e.i(84762),h=e.i(19036),f=e.i(91432),g=e.i(54858);e.i(73827);var b=e.i(59467),j=e.i(46696),v=e.i(58041),y=e.i(16715),N=e.i(7233),_=e.i(88699),w=e.i(27612),C=e.i(52786),k=e.i(75505),T=e.i(78894),P=e.i(69638);function D(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB","PB"][t]}function S(){let e=(0,s.useRouter)(),{user:S,isAuthenticated:z,isLoading:B}=(0,f.useAuth)(),[R,q]=(0,a.useState)([]),[A,H]=(0,a.useState)(!0),[M,F]=(0,a.useState)(!1),[E,I]=(0,a.useState)(!1),[L,O]=(0,a.useState)(!1),[U,G]=(0,a.useState)(null),[V,W]=(0,a.useState)({name:"",path:"",description:"",enabled:!0,reserved:0,max_file_size:0,default_user_quota:0,default_group_quota:0,allowed_types:"",denied_types:""});(0,a.useEffect)(()=>{if(!B){if(!z)return void e.replace("/");S&&"user"===S.role&&e.replace("/dashboard")}},[B,z,S,e]);let K=async()=>{try{let e=await g.poolsAPI.list();q(e||[])}catch(e){j.toast.error("Failed to load storage pools: ".concat(e))}finally{H(!1),F(!1)}};(0,a.useEffect)(()=>{z&&(null==S?void 0:S.role)==="admin"&&K()},[z,S]);let Q=async()=>{if(U)try{let e={name:V.name,description:V.description,enabled:V.enabled,reserved:1024*V.reserved*1048576,max_file_size:1024*V.max_file_size*1024,default_user_quota:1024*V.default_user_quota*1048576,default_group_quota:1024*V.default_group_quota*1048576,allowed_types:V.allowed_types?V.allowed_types.split(",").map(e=>e.trim()):[],denied_types:V.denied_types?V.denied_types.split(",").map(e=>e.trim()):[]};await g.poolsAPI.update(U.id,e),j.toast.success("Storage pool updated successfully"),I(!1),W({name:"",path:"",description:"",enabled:!0,reserved:0,max_file_size:0,default_user_quota:0,default_group_quota:0,allowed_types:"",denied_types:""}),G(null),K()}catch(e){j.toast.error("Failed to update pool: ".concat(e))}},X=async()=>{if(U)try{await g.poolsAPI.delete(U.id),j.toast.success("Storage pool deleted successfully"),O(!1),G(null),K()}catch(e){j.toast.error("Failed to delete pool: ".concat(e))}};return B&&!S||!z||S&&"admin"!==S.role||A?(0,t.jsx)(b.PageSkeleton,{title:"Storage Pools"}):(0,t.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,t.jsx)(r.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(l.Header,{}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Storage Pools"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Configure storage locations where shares and user data can exist"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>{F(!0),K()},disabled:M,children:[(0,t.jsx)(y.RefreshCw,{className:"h-4 w-4 mr-2 ".concat(M?"animate-spin":"")}),"Refresh"]}),(0,t.jsxs)(o.Button,{size:"sm",onClick:()=>e.push("/admin/storage/pools/create"),children:[(0,t.jsx)(N.Plus,{className:"h-4 w-4 mr-2"}),"Add Pool"]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Total Pools"}),(0,t.jsx)(v.Database,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:R.length})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Active Pools"}),(0,t.jsx)(P.CheckCircle,{className:"h-4 w-4 text-green-500"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:R.filter(e=>e.enabled).length})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Total Capacity"}),(0,t.jsx)(C.HardDrive,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:D(R.reduce((e,t)=>e+t.total_space,0))})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Used Space"}),(0,t.jsx)(k.FolderOpen,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:D(R.reduce((e,t)=>e+t.used_space,0))})})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:"Storage Pools"}),(0,t.jsx)(i.CardDescription,{children:"Manage your storage pool configurations"})]}),(0,t.jsx)(i.CardContent,{children:0===R.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(v.Database,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium",children:"No Storage Pools"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"Create a storage pool to define where shares can be stored"}),(0,t.jsxs)(o.Button,{onClick:()=>e.push("/admin/storage/pools/create"),children:[(0,t.jsx)(N.Plus,{className:"h-4 w-4 mr-2"}),"Add Pool"]})]}):(0,t.jsxs)(c.Table,{children:[(0,t.jsx)(c.TableHeader,{children:(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableHead,{children:"Name"}),(0,t.jsx)(c.TableHead,{children:"Path"}),(0,t.jsx)(c.TableHead,{children:"Status"}),(0,t.jsx)(c.TableHead,{children:"Usage"}),(0,t.jsx)(c.TableHead,{children:"Capacity"}),(0,t.jsx)(c.TableHead,{children:"Default Quota"}),(0,t.jsx)(c.TableHead,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(c.TableBody,{children:R.map(e=>{let a=0===e.total_space?0:e.used_space/e.total_space*100;return(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableCell,{className:"font-medium",children:e.name}),(0,t.jsx)(c.TableCell,{className:"font-mono text-sm",children:e.path}),(0,t.jsx)(c.TableCell,{children:(0,t.jsx)(n.Badge,{variant:e.enabled?"default":"secondary",children:e.enabled?"Active":"Disabled"})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsxs)("div",{className:"w-32",children:[(0,t.jsx)("div",{className:"flex items-center justify-between text-sm mb-1",children:(0,t.jsxs)("span",{className:a>=90?"text-red-500":a>=75?"text-yellow-500":"text-green-500",children:[a.toFixed(1),"%"]})}),(0,t.jsx)(d.Progress,{value:a,className:"h-2"})]})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("div",{children:[D(e.used_space)," used"]}),(0,t.jsxs)("div",{className:"text-muted-foreground",children:[D(e.free_space)," free"]})]})}),(0,t.jsx)(c.TableCell,{children:e.default_user_quota>0?D(e.default_user_quota):"Unlimited"}),(0,t.jsx)(c.TableCell,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"sm",onClick:()=>{var t,a;G(e),W({name:e.name,path:e.path,description:e.description,enabled:e.enabled,reserved:e.reserved/1024/1024/1024,max_file_size:e.max_file_size/1024/1024,default_user_quota:e.default_user_quota/1024/1024/1024,default_group_quota:e.default_group_quota/1024/1024/1024,allowed_types:(null==(t=e.allowed_types)?void 0:t.join(", "))||"",denied_types:(null==(a=e.denied_types)?void 0:a.join(", "))||""}),I(!0)},children:(0,t.jsx)(_.Pencil,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"sm",onClick:()=>{G(e),O(!0)},children:(0,t.jsx)(w.Trash2,{className:"h-4 w-4 text-red-500"})})]})})]},e.id)})})]})})]})]})})]}),(0,t.jsx)(u.Dialog,{open:E,onOpenChange:I,children:(0,t.jsxs)(u.DialogContent,{className:"max-w-lg",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsx)(u.DialogTitle,{children:"Edit Storage Pool"}),(0,t.jsx)(u.DialogDescription,{children:"Modify storage pool configuration"})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(p.Label,{htmlFor:"edit-name",children:"Name"}),(0,t.jsx)(x.Input,{id:"edit-name",value:V.name,onChange:e=>W({...V,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(p.Label,{children:"Path"}),(0,t.jsx)(x.Input,{value:V.path,disabled:!0,className:"bg-muted"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pool path cannot be changed after creation"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(p.Label,{htmlFor:"edit-description",children:"Description"}),(0,t.jsx)(m.Textarea,{id:"edit-description",value:V.description,onChange:e=>W({...V,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"edit-enabled",children:"Enabled"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Allow shares in this pool"})]}),(0,t.jsx)(h.Switch,{id:"edit-enabled",checked:V.enabled,onCheckedChange:e=>W({...V,enabled:e})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(p.Label,{htmlFor:"edit-reserved",children:"Reserved Space (GB)"}),(0,t.jsx)(x.Input,{id:"edit-reserved",type:"number",value:V.reserved,onChange:e=>W({...V,reserved:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(p.Label,{htmlFor:"edit-max_file_size",children:"Max File Size (MB)"}),(0,t.jsx)(x.Input,{id:"edit-max_file_size",type:"number",value:V.max_file_size,onChange:e=>W({...V,max_file_size:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(p.Label,{htmlFor:"edit-user_quota",children:"Default User Quota (GB)"}),(0,t.jsx)(x.Input,{id:"edit-user_quota",type:"number",value:V.default_user_quota,onChange:e=>W({...V,default_user_quota:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(p.Label,{htmlFor:"edit-group_quota",children:"Default Group Quota (GB)"}),(0,t.jsx)(x.Input,{id:"edit-group_quota",type:"number",value:V.default_group_quota,onChange:e=>W({...V,default_group_quota:Number(e.target.value)})})]})]})]}),(0,t.jsxs)(u.DialogFooter,{children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),(0,t.jsx)(o.Button,{onClick:Q,children:"Save Changes"})]})]})}),(0,t.jsx)(u.Dialog,{open:L,onOpenChange:O,children:(0,t.jsxs)(u.DialogContent,{children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsxs)(u.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(T.AlertTriangle,{className:"h-5 w-5 text-red-500"}),"Delete Storage Pool"]}),(0,t.jsxs)(u.DialogDescription,{children:['Are you sure you want to delete the storage pool "',null==U?void 0:U.name,'"? This action cannot be undone. All zones in this pool must be deleted first.']})]}),(0,t.jsxs)(u.DialogFooter,{children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),(0,t.jsx)(o.Button,{variant:"destructive",onClick:X,children:"Delete Pool"})]})]})})]})}}]);