(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84614,e=>{"use strict";e.s(["User",()=>n],84614);let n=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},33525,(e,n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},18566,(e,n,r)=>{n.exports=e.r(76562)},98183,(e,n,r)=>{"use strict";function t(e){let n={};for(let[r,t]of e.entries()){let e=n[r];void 0===e?n[r]=t:Array.isArray(e)?e.push(t):n[r]=[e,t]}return n}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let n=new URLSearchParams;for(let[r,t]of Object.entries(e))if(Array.isArray(t))for(let e of t)n.append(r,s(e));else n.set(r,s(t));return n}function a(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];for(let n of r){for(let r of n.keys())e.delete(r);for(let[r,t]of n.entries())e.append(r,t)}return e}Object.defineProperty(r,"__esModule",{value:!0}),!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(r,{assign:function(){return a},searchParamsToUrlQuery:function(){return t},urlQueryToSearchParams:function(){return o}})},95057,(e,n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(r,{formatUrl:function(){return o},formatWithValidation:function(){return i},urlObjectKeys:function(){return a}});let t=e.r(90809)._(e.r(98183)),s=/https?|ftp|gopher|file/;function o(e){let{auth:n,hostname:r}=e,o=e.protocol||"",a=e.pathname||"",i=e.hash||"",l=e.query||"",u=!1;n=n?encodeURIComponent(n).replace(/%3A/i,":")+"@":"",e.host?u=n+e.host:r&&(u=n+(~r.indexOf(":")?"["+r+"]":r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(t.urlQueryToSearchParams(l)));let c=e.search||l&&"?"+l||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||s.test(o))&&!1!==u?(u="//"+(u||""),a&&"/"!==a[0]&&(a="/"+a)):u||(u=""),i&&"#"!==i[0]&&(i="#"+i),c&&"?"!==c[0]&&(c="?"+c),""+o+u+(a=a.replace(/[?#]/g,encodeURIComponent))+(c=c.replace("#","%23"))+i}let a=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function i(e){return o(e)}},18581,(e,n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let t=e.r(71645);function s(e,n){let r=(0,t.useRef)(null),s=(0,t.useRef)(null);return(0,t.useCallback)(t=>{if(null===t){let e=r.current;e&&(r.current=null,e());let n=s.current;n&&(s.current=null,n())}else e&&(r.current=o(e,t)),n&&(s.current=o(n,t))},[e,n])}function o(e,n){if("function"!=typeof e)return e.current=n,()=>{e.current=null};{let r=e(n);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),n.exports=r.default)},18967,(e,n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(r,{DecodeError:function(){return m},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return S},NormalizeError:function(){return g},PageNotFoundError:function(){return y},SP:function(){return p},ST:function(){return f},WEB_VITALS:function(){return t},execOnce:function(){return s},getDisplayName:function(){return u},getLocationOrigin:function(){return i},getURL:function(){return l},isAbsoluteUrl:function(){return a},isResSent:function(){return c},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return d},stringifyError:function(){return w}});let t=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let n,r=!1;return function(){for(var t=arguments.length,s=Array(t),o=0;o<t;o++)s[o]=arguments[o];return r||(r=!0,n=e(...s)),n}}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,a=e=>o.test(e);function i(){let{protocol:e,hostname:n,port:r}=window.location;return e+"//"+n+(r?":"+r:"")}function l(){let{href:e}=window.location,n=i();return e.substring(n.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function d(e){let n=e.split("?");return n[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(n[1]?"?"+n.slice(1).join("?"):"")}async function h(e,n){let r=n.res||n.ctx&&n.ctx.res;if(!e.getInitialProps)return n.ctx&&n.Component?{pageProps:await h(n.Component,n.ctx)}:{};let t=await e.getInitialProps(n);if(r&&c(r))return t;if(!t)throw Object.defineProperty(Error('"'+u(e)+'.getInitialProps()" should resolve to an object. But found "'+t+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}let p="undefined"!=typeof performance,f=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class m extends Error{}class g extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class S extends Error{constructor(e,n){super(),this.message="Failed to load static file for page: "+e+" "+n}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return o}});let t=e.r(18967),s=e.r(52817);function o(e){if(!(0,t.isAbsoluteUrl)(e))return!0;try{let n=(0,t.getLocationOrigin)(),r=new URL(e,n);return r.origin===n&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},22016,(e,n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(r,{default:function(){return g},useLinkStatus:function(){return S}});let t=e.r(90809),s=e.r(18050),o=t._(e.r(71645)),a=e.r(95057),i=e.r(8372),l=e.r(18581),u=e.r(18967),c=e.r(5550);e.r(33525);let d=e.r(91949),h=e.r(73668),p=e.r(99781);e.r(84508);let f=e.r(65165);function m(e){return"string"==typeof e?e:(0,a.formatUrl)(e)}function g(e){var n;let r,t,a,[g,S]=(0,o.useOptimistic)(d.IDLE_LINK_STATUS),v=(0,o.useRef)(null),{href:w,as:b,children:k,prefetch:P=null,passHref:C,replace:A,shallow:F,scroll:U,onClick:T,onMouseEnter:M,onTouchStart:D,legacyBehavior:N=!1,onNavigate:E,ref:x,unstable_dynamicOnHover:R,...I}=e;r=k,N&&("string"==typeof r||"number"==typeof r)&&(r=(0,s.jsx)("a",{children:r}));let O=o.default.useContext(i.AppRouterContext),B=!1!==P,L=!1!==P?null===(n=P)||"auto"===n?f.FetchStrategy.PPR:f.FetchStrategy.Full:f.FetchStrategy.PPR,{href:j,as:z}=o.default.useMemo(()=>{let e=m(w);return{href:e,as:b?m(b):e}},[w,b]);N&&(t=o.default.Children.only(r));let W=N?t&&"object"==typeof t&&t.ref:x,_=o.default.useCallback(e=>(null!==O&&(v.current=(0,d.mountLinkInstance)(e,j,O,L,B,S)),()=>{v.current&&((0,d.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,d.unmountPrefetchableInstance)(e)}),[B,j,O,L,S]),Z={ref:(0,l.useMergedRef)(_,W),onClick(e){N||"function"!=typeof T||T(e),N&&t.props&&"function"==typeof t.props.onClick&&t.props.onClick(e),O&&(e.defaultPrevented||function(e,n,r,t,s,a,i){let{nodeName:l}=e.currentTarget;if(!("A"===l.toUpperCase()&&function(e){let n=e.currentTarget.getAttribute("target");return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,h.isLocalURL)(n)){s&&(e.preventDefault(),location.replace(n));return}if(e.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}o.default.startTransition(()=>{(0,p.dispatchNavigateAction)(r||n,s?"replace":"push",null==a||a,t.current)})}}(e,j,z,v,A,U,E))},onMouseEnter(e){N||"function"!=typeof M||M(e),N&&t.props&&"function"==typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),O&&B&&(0,d.onNavigationIntent)(e.currentTarget,!0===R)},onTouchStart:function(e){N||"function"!=typeof D||D(e),N&&t.props&&"function"==typeof t.props.onTouchStart&&t.props.onTouchStart(e),O&&B&&(0,d.onNavigationIntent)(e.currentTarget,!0===R)}};return(0,u.isAbsoluteUrl)(z)?Z.href=z:N&&!C&&("a"!==t.type||"href"in t.props)||(Z.href=(0,c.addBasePath)(z)),a=N?o.default.cloneElement(t,Z):(0,s.jsx)("a",{...I,...Z,children:r}),(0,s.jsx)(y.Provider,{value:g,children:a})}let y=(0,o.createContext)(d.IDLE_LINK_STATUS),S=()=>(0,o.useContext)(y);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),n.exports=r.default)},63059,e=>{"use strict";e.s(["ChevronRight",()=>n.default]);var n=e.i(46349)},73375,e=>{"use strict";e.s(["ChevronLeft",()=>n],73375);let n=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},10980,e=>{"use strict";e.s(["BookOpen",()=>n],10980);let n=(0,e.i(75254).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},17177,e=>{"use strict";e.s(["default",()=>t]);var n=e.i(18050),r=e.i(90917);function t(){return(0,n.jsx)(r.DocLayout,{title:"Administrator Guide",content:'# FileServ Administrator Guide\n\nA comprehensive, beginner-friendly guide for first-time system administrators managing FileServ.\n\n---\n\n## Welcome to FileServ Administration\n\nCongratulations! You\'ve been tasked with managing FileServ, a modern file sharing and storage management platform. This guide is designed specifically for first-time system administrators and will walk you through everything you need to know.\n\n### What is FileServ?\n\nFileServ is a web-based file server that allows users to:\n- Store and organize files in designated storage areas\n- Share files with other users or external parties via secure links\n- Access files through both the web interface and traditional network protocols (SMB/NFS)\n\nAs an administrator, you\'ll be responsible for:\n- Setting up where files are stored (storage pools and zones)\n- Managing who can access what (users and permissions)\n- Configuring network shares for desktop access\n- Monitoring server health and storage usage\n\n### Before You Begin\n\nMake sure you have:\n- ✅ Access to the FileServ web interface\n- ✅ Administrator login credentials\n- ✅ Basic understanding of file systems and directories\n- ✅ (Optional) SSH access to the server for advanced tasks\n\n---\n\n## Understanding FileServ\n\nBefore diving into administration tasks, let\'s understand how FileServ organizes storage.\n\n### The Storage Hierarchy\n\nFileServ uses a three-level hierarchy:\n\n```\n┌─────────────────────────────────────────────────────────┐\n│                    STORAGE POOLS                         │\n│  Physical storage locations on the server               │\n│  Example: /srv/data, /mnt/storage                       │\n├─────────────────────────────────────────────────────────┤\n│                     SHARE ZONES                          │\n│  Designated areas within pools for user access          │\n│  Example: Personal Files, Team Projects, Public Docs    │\n├─────────────────────────────────────────────────────────┤\n│                    USER FILES                            │\n│  Actual files and folders users work with               │\n│  Organized within their accessible zones                │\n└─────────────────────────────────────────────────────────┘\n```\n\n### Why This Matters\n\n- **Storage Pools** = Where files physically live on the disk\n- **Share Zones** = Logical boundaries that control access\n- **Files** = The actual content users create and manage\n\nThink of it like an office building:\n- **Storage Pool** = The building itself\n- **Share Zone** = Different departments/floors\n- **Files** = Documents in each department\n\n---\n\n## Getting Started: Your First Steps\n\n### Step 1: Log In as Administrator\n\n1. Open your web browser and navigate to your FileServ URL\n2. Enter the admin credentials:\n   - **Default Username**: `admin`\n   - **Default Password**: `admin`\n3. Click **Sign In**\n\n⚠️ **CRITICAL FIRST ACTION**: Change the default password immediately!\n\n### Step 2: Change Your Password\n\n1. After logging in, click on your username in the sidebar\n2. Navigate to **Settings**\n3. Find the **Change Password** section\n4. Enter a strong password (at least 12 characters, mix of letters, numbers, symbols)\n5. Click **Update Password**\n\n### Step 3: Verify Admin Access\n\nYou should see these admin-only sections in the sidebar:\n- **Admin Dashboard** (or just "Admin")\n- **Users**\n- **Permissions**\n- **Storage** (Pools, Zones, Disks)\n- **System Users**\n\nIf you don\'t see these, you may not have admin privileges.\n\n### Step 4: Plan Your Storage Structure\n\nBefore creating anything, plan how you want to organize storage:\n\n**Example Organization:**\n\n| Pool | Purpose | Path |\n|------|---------|------|\n| Primary Storage | Main user files | `/srv/fileserv/data` |\n| Archive Storage | Long-term backups | `/srv/fileserv/archive` |\n\n| Zone | Pool | Type | Who Uses It |\n|------|------|------|-------------|\n| Personal Files | Primary | Personal | All users (each gets own folder) |\n| Engineering | Primary | Group | Engineering team |\n| Company Docs | Primary | Public | All users |\n\n---\n\n## The Admin Dashboard\n\nThe Admin Dashboard is your command center. Here\'s what each section shows:\n\n### Statistics Cards\n\n| Card | What It Shows | Why It Matters |\n|------|---------------|----------------|\n| **Total Users** | Number of registered users | Track user growth |\n| **Total Files** | Count of all files in the system | Monitor usage patterns |\n| **Storage Used** | Total disk space consumed | Plan for capacity |\n| **System Status** | Overall health indicator | Spot problems quickly |\n\n### Quick Actions\n\nThe dashboard provides shortcuts to common tasks:\n- **User Management** → Add or modify users\n- **Permissions** → Control file access\n- **Browse Files** → View all system files\n\n---\n\n## User Management\n\nUsers are the people who access FileServ. There are two types of users:\n\n### Internal Users vs System Users\n\n| Type | Description | Use Case |\n|------|-------------|----------|\n| **Internal Users** | Created in FileServ\'s database | Web interface access, share links |\n| **System Users** | Linux users on the server | SMB/NFS network access |\n\nMost of the time, you\'ll work with **Internal Users**.\n\n### Creating a New User\n\n1. Navigate to **Users** in the sidebar\n2. Click the **Add User** button\n3. Fill in the required fields:\n\n| Field | Required | Description |\n|-------|----------|-------------|\n| **Username** | Yes | Login name (e.g., `john.doe`) |\n| **Password** | Yes | Initial password (user should change it) |\n| **Email** | No | Contact email |\n| **Admin** | No | Check to give admin privileges |\n\n4. Click **Create User**\n\n### User Roles Explained\n\n| Role | Capabilities |\n|------|--------------|\n| **Regular User** | Access assigned zones, manage own files, create share links |\n| **Admin** | Everything above + full system access, user management, storage configuration |\n\n### Editing a User\n\n1. Find the user in the list\n2. Click the **⋮** (more options) menu\n3. Select the action:\n   - **Make Admin** / **Remove Admin** - Toggle admin status\n   - **Delete** - Remove the user (cannot be undone!)\n\n### Best Practices for User Management\n\n✅ **Do:**\n- Use descriptive usernames (e.g., `john.smith` not `user1`)\n- Require users to change their initial password\n- Remove users promptly when they leave the organization\n- Limit admin accounts to those who truly need them\n\n❌ **Don\'t:**\n- Share user accounts between people\n- Use weak or obvious passwords\n- Give admin rights unnecessarily\n- Delete users without backing up their files first\n\n---\n\n## Storage Pools & Zones\n\nThis is the core of FileServ configuration. Understanding this well will make everything else easier.\n\n### What is a Storage Pool?\n\nA Storage Pool is a **physical location on the server** where files are stored. Think of it as a designated hard drive or folder that FileServ manages.\n\n#### Creating a Storage Pool\n\n1. Navigate to **Storage** → **Pools** (or find the Storage section)\n2. Click **Create Pool**\n3. Configure the pool:\n\n| Setting | Description | Example |\n|---------|-------------|---------|\n| **Name** | Display name | "Primary Storage" |\n| **Path** | Full server path | `/srv/fileserv/data` |\n| **Description** | What it\'s for | "Main storage for user files" |\n| **Enabled** | Active or disabled | ✓ Enabled |\n| **Max File Size** | Largest allowed file (0=unlimited) | 5368709120 (5 GB) |\n| **Allowed Types** | File extensions allowed (empty=all) | Leave empty |\n| **Denied Types** | Blocked file extensions | `exe,bat,sh` |\n| **Default Quota** | Storage limit per user | 10737418240 (10 GB) |\n\n4. Click **Create**\n\n⚠️ **Important**: The path must exist on the server and be writable by FileServ!\n\n#### Storage Pool Settings Explained\n\n**Max File Size:**\n- Prevents users from uploading extremely large files\n- Set to 0 for unlimited\n- Value is in bytes (5 GB = 5,368,709,120 bytes)\n\n**Allowed/Denied Types:**\n- Controls what file types can be uploaded\n- Leave "Allowed Types" empty to allow everything\n- Common denied types: `exe,bat,cmd,sh,ps1` (executable files)\n\n**Default Quota:**\n- How much space each user gets by default\n- Can be overridden per-user\n- Value is in bytes\n\n### What is a Share Zone?\n\nA Share Zone is a **logical subdivision** within a Storage Pool that users can access. It defines:\n- Which users/groups can access it\n- What type of access they have\n- How files are organized\n\n#### Zone Types\n\n| Type | Description | Best For |\n|------|-------------|----------|\n| **Personal** | Each user gets their own private folder | User home directories |\n| **Group** | Shared folder for specific groups | Team collaboration |\n| **Public** | Accessible to all authenticated users | Company-wide resources |\n\n#### Creating a Share Zone\n\nFileServ uses a comprehensive zone creation wizard that guides you through all configuration options.\n\n1. Navigate to **Storage** → **Zones**\n2. Click **Create Zone** (opens the zone creation wizard)\n3. The wizard has 6 steps:\n\n**Step 1: Basic Information**\n\n| Setting | Description |\n|---------|-------------|\n| **Pool** | Which storage pool to use |\n| **Name** | Display name users will see |\n| **Path** | Folder within the pool (relative or browse) |\n| **Zone Type** | Personal, Group, or Public |\n| **Description** | Help text for users |\n\n**Step 2: Access Control**\n\n| Setting | Description |\n|---------|-------------|\n| **Allowed Users** | Usernames with access (* = all) |\n| **Allowed Groups** | Groups with access |\n| **Deny Users** | Users explicitly denied access |\n| **Deny Groups** | Groups explicitly denied access |\n| **Auto-Provision** | Create user folders automatically |\n| **User Quota** | Storage limit per user in this zone |\n\n**Step 3: SMB Configuration** (optional)\n\n| Setting | Description |\n|---------|-------------|\n| **Enable SMB** | Share this zone via SMB/Samba |\n| **Share Name** | Network name for the share (no spaces) |\n| **Comment** | Description shown to clients |\n| **Browsable** | Show in network browser |\n| **Read Only** | Prevent modifications via SMB |\n| **Guest Access** | Allow anonymous access (security risk!) |\n| **Create/Directory Mask** | Default permissions for new files/folders |\n| **Force User/Group** | Run all operations as specific user/group |\n| **Veto Files** | File patterns to hide/block |\n\n**Step 4: NFS Configuration** (optional)\n\n| Setting | Description |\n|---------|-------------|\n| **Enable NFS** | Export this zone via NFS |\n| **Export Path** | Custom export path (optional) |\n| **Allowed Hosts** | Hosts/networks allowed (e.g., `192.168.1.0/24`) |\n| **Root Squash** | Map root to nobody (recommended) |\n| **All Squash** | Map all users to anonymous |\n| **Anon UID/GID** | Anonymous user/group IDs |\n| **Sync** | Write changes immediately |\n| **Secure** | Require privileged ports |\n\n**Step 5: Web Sharing** (optional)\n\n| Setting | Description |\n|---------|-------------|\n| **Allow Web Shares** | Users can create share links |\n| **Public Links** | Allow public (unauthenticated) links |\n| **Max Link Expiry** | Maximum days a share link is valid |\n| **Allow Download** | Users can download files |\n| **Allow Upload** | Users can upload files |\n| **Allow Preview** | Users can preview files in browser |\n| **Allow Listing** | Users can see directory contents |\n| **Require Auth** | Require authentication for access |\n\n**Step 6: Review & Create**\n\nReview all settings and click **Create Zone**.\n\n4. After creation, you can edit any settings from the Zones list page\n\n#### Example Zone Configurations\n\n**Personal User Storage:**\n```\nName: My Files\nPool: Primary Storage\nPath: users\nZone Type: Personal\nAuto-Provision: ✓ Yes\nAllowed Users: *\nAllow Web Shares: ✓ Yes\n```\n*Each user gets their own private folder within `/srv/fileserv/data/users/`*\n\n**Engineering Team Folder:**\n```\nName: Engineering Projects\nPool: Primary Storage\nPath: teams/engineering\nZone Type: Group\nAllowed Groups: engineering, devops\nAllow Web Shares: ✓ Yes\n```\n*Only engineering and devops group members can access*\n\n**Company-Wide Resources:**\n```\nName: Company Documents\nPool: Primary Storage\nPath: public\nZone Type: Public\nAllowed Users: *\nAllow Web Shares: ✗ No\n```\n*Everyone can access, but no external sharing allowed*\n\n### Understanding Auto-Provisioning\n\nWhen enabled for Personal zones:\n1. User logs in for the first time\n2. FileServ automatically creates a folder named after their username\n3. User only sees and accesses their own folder\n4. Other users\' folders are completely invisible\n\n**Example:**\n- Zone path: `/srv/fileserv/data/users`\n- User `john` logs in → `/srv/fileserv/data/users/john/` is created\n- User `jane` logs in → `/srv/fileserv/data/users/jane/` is created\n- John can only see his folder, Jane can only see hers\n\n---\n\n## Permissions Management\n\nPermissions control who can do what with files. FileServ uses a simple but powerful permission system.\n\n### Permission Levels\n\n| Level | What It Allows |\n|-------|----------------|\n| **Read** | View and download files |\n| **Write** | Upload, create folders, modify files |\n| **Delete** | Remove files and folders (includes read & write) |\n\n*Note: Higher levels include lower levels. Delete permission includes read and write.*\n\n### How Permissions Work\n\nPermissions are applied based on:\n1. **Path** - The folder being accessed\n2. **User or Group** - Who the permission applies to\n3. **Type** - What they can do (read/write/delete)\n\n**Example:**\n```\nPath: /projects/website\nUser: john\nPermission: write\n```\n*John can read and write to the website project folder*\n\n### Creating a Permission\n\n1. Navigate to **Permissions**\n2. Click **Add Permission**\n3. Configure:\n\n| Field | Description |\n|-------|-------------|\n| **Path** | The folder path (e.g., `/projects/`) |\n| **Assign to** | User or Group |\n| **User/Group** | Select from dropdown |\n| **Permission Level** | Read Only, Read & Write, or Full Access |\n\n4. Click **Add Permission**\n\n### Permission Tips\n\n✅ **Best Practices:**\n- Use group permissions when possible (easier to manage)\n- Start with read-only, grant write only when needed\n- Document why permissions were granted\n- Review permissions periodically\n\n⚠️ **Important Notes:**\n- Admins have full access to everything automatically\n- Permissions are inherited (applies to subfolders too)\n- More specific paths override general ones\n- User permissions override group permissions\n\n---\n\n## Network Shares (SMB/NFS)\n\nNetwork shares allow users to access FileServ files directly from their desktop, like a network drive. In FileServ, network sharing is **integrated into Share Zones**, giving you one central place to manage storage locations, access control, and network sharing.\n\n### SMB vs NFS: Which to Use?\n\n| Protocol | Best For | Typical Users |\n|----------|----------|---------------|\n| **SMB** (Samba) | Windows, macOS | Office workers, Windows environments |\n| **NFS** | Linux, Unix | Developers, Linux workstations, servers |\n\n*When in doubt, use SMB – it works on all platforms.*\n\n### Enabling Network Shares on a Zone\n\nNetwork sharing is configured as part of a Share Zone. To enable SMB or NFS:\n\n1. Navigate to **Storage** → **Zones**\n2. Either **Create Zone** (opens the wizard) or click **⋮** → **Edit** on an existing zone\n3. Enable SMB and/or NFS in the respective tabs\n4. Configure the protocol-specific options (see Zone creation steps above)\n\n#### Example: Enabling SMB on an Existing Zone\n\n1. Find the zone in the list (e.g., "Company Documents")\n2. Click **⋮** → **Edit**\n3. Switch to the **SMB** tab\n4. Toggle **Enable SMB** on\n5. Set the **Share Name** (e.g., `company-docs`)\n6. Configure other options as needed\n7. Click **Save Changes**\n\nThe zone is now accessible via SMB using the share name you specified.\n\n### Viewing Network-Enabled Zones\n\nOn the Zones list page, you can quickly see which zones have network sharing enabled:\n- **SMB** badge = Zone is shared via SMB/Samba\n- **NFS** badge = Zone is exported via NFS\n- **Web** badge = Zone allows web share links\n\n### Connecting to SMB Shares\n\n**From Windows:**\n1. Open File Explorer\n2. Type in address bar: `\\\\server-address\\sharename`\n3. Enter username and password when prompted\n\n**From macOS:**\n1. Open Finder\n2. Press `Cmd + K`\n3. Type: `smb://server-address/sharename`\n4. Enter credentials\n\n**From Linux:**\n1. Open file manager\n2. Type: `smb://server-address/sharename`\n3. Or mount from terminal:\n   ```bash\n   mount -t cifs //server-address/sharename /mnt/point -o username=youruser\n   ```\n\n### Connecting to NFS Exports\n\n**From Linux:**\n```bash\n# Mount NFS export\nmount -t nfs server-address:/export/path /mnt/point\n\n# Or add to /etc/fstab for automatic mounting\nserver-address:/export/path /mnt/point nfs defaults 0 0\n```\n\n**From macOS:**\n1. Open Finder\n2. Press `Cmd + K`\n3. Type: `nfs://server-address/export/path`\n\n---\n\n## System Users & Groups\n\nSystem users are the Linux accounts on the server itself. They\'re important for:\n- Network share authentication (SMB/NFS)\n- File ownership and permissions\n- Service accounts\n\n### Viewing System Users\n\n1. Navigate to **System Users**\n2. View the list of local Linux users\n3. Use **Show system accounts** to see service accounts\n\n### Understanding the User List\n\n| Column | Description |\n|--------|-------------|\n| **Username** | Linux login name |\n| **Name** | Full name (from GECOS field) |\n| **UID/GID** | User and Group IDs |\n| **Groups** | Additional group memberships |\n| **Home** | Home directory path |\n| **Shell** | Login shell (e.g., /bin/bash) |\n\n### Why System Users Matter\n\nFor SMB shares to work properly:\n1. The user authenticating must exist as a system user\n2. That system user needs file permissions on the shared directory\n3. The user must have a Samba password set\n\nIf users can\'t access network shares, check:\n- Does the system user exist?\n- Is the user in the right groups?\n- Has a Samba password been set? (`smbpasswd -a username`)\n\n---\n\n## Storage & Disk Management\n\nThe Storage section provides comprehensive disk and volume management.\n\n### Storage Overview\n\nThe overview shows:\n- **Total Capacity** - All available storage\n- **Used Storage** - Currently consumed space\n- **Free Space** - Available for use\n- **Storage Features** - LVM, RAID, ZFS status\n\n### Health Monitoring\n\nWatch for these indicators:\n\n| Status | Color | Action Required |\n|--------|-------|-----------------|\n| Healthy | Green | None |\n| Warning | Yellow | Investigate soon |\n| Critical | Red | Immediate attention |\n\n### Understanding Mount Points\n\nMount points show where storage is attached:\n\n| Mount Path | Typical Use |\n|------------|-------------|\n| `/` | System root |\n| `/home` | User home directories |\n| `/srv` | Service data (FileServ usually here) |\n| `/var` | Variable data, logs |\n\nMonitor usage on these paths to prevent full disk issues.\n\n### Disk Alerts\n\nFileServ monitors for:\n- **High usage** - When partitions exceed 80-90%\n- **Disk health issues** - SMART warnings\n- **Temperature warnings** - Overheating disks\n\nWhen you see alerts:\n1. Identify the affected storage\n2. Check what\'s consuming space\n3. Clean up or expand storage\n4. Address hardware issues promptly\n\n---\n\n## Security Best Practices\n\nSecurity is everyone\'s responsibility. Follow these practices to keep FileServ safe.\n\n### Essential Security Measures\n\n#### 1. Use HTTPS (TLS/SSL)\n\nNever run FileServ in production without HTTPS!\n\n```bash\n# Set environment variables for TLS\nexport TLS_CERT=/path/to/certificate.pem\nexport TLS_KEY=/path/to/private-key.pem\n```\n\nOr use a reverse proxy (nginx, Caddy) for TLS termination.\n\n#### 2. Strong Passwords\n\nEnforce these rules:\n- Minimum 12 characters\n- Mix of uppercase, lowercase, numbers, symbols\n- No dictionary words\n- Different for each service\n\n#### 3. Limit Admin Accounts\n\n- Only give admin rights when absolutely necessary\n- Use regular accounts for daily work\n- Document who has admin access and why\n\n#### 4. Regular Updates\n\nKeep the server updated:\n```bash\n# For Ubuntu/Debian\nsudo apt update && sudo apt upgrade\n\n# For RHEL/Rocky/Alma\nsudo dnf update\n```\n\n#### 5. Firewall Configuration\n\nOnly allow necessary ports:\n\n| Port | Service | Should Be Open? |\n|------|---------|-----------------|\n| 443 | HTTPS | Yes (web access) |\n| 80 | HTTP | Only for redirect |\n| 445 | SMB | If using network shares |\n| 2049 | NFS | If using NFS |\n| 22 | SSH | Admin only, restricted IPs |\n\n### Access Control Checklist\n\n- [ ] Changed default admin password\n- [ ] Using HTTPS\n- [ ] Firewall configured\n- [ ] Regular backups running\n- [ ] Logs being monitored\n- [ ] Unused accounts removed\n- [ ] Permissions reviewed monthly\n\n---\n\n## Backup & Recovery\n\nBackups are your safety net. Set them up before you need them!\n\n### What to Backup\n\n| Component | Location | Priority |\n|-----------|----------|----------|\n| **Configuration** | `storage.json` | Critical |\n| **User Files** | Storage pool paths | Critical |\n| **TLS Certificates** | Usually `/etc/ssl/` | Important |\n| **Custom Configs** | Service files | Important |\n\n### Backup Strategy\n\nFollow the **3-2-1 Rule**:\n- **3** copies of your data\n- **2** different storage media\n- **1** copy offsite\n\n### Automated Backup Script\n\nSave this as `/opt/fileserv/backup.sh`:\n\n```bash\n#!/bin/bash\n# FileServ Backup Script\n\nBACKUP_DIR="/backup/fileserv/$(date +%Y%m%d)"\nDATA_PATH="/srv/fileserv"\nCONFIG_PATH="/var/lib/fileserv/storage.json"\n\n# Create backup directory\nmkdir -p "$BACKUP_DIR"\n\n# Backup configuration\necho "Backing up configuration..."\ncp "$CONFIG_PATH" "$BACKUP_DIR/"\n\n# Backup data\necho "Backing up data..."\nrsync -av --delete "$DATA_PATH/" "$BACKUP_DIR/data/"\n\n# Compress\necho "Compressing..."\ntar -czf "$BACKUP_DIR.tar.gz" -C /backup/fileserv "$(date +%Y%m%d)"\nrm -rf "$BACKUP_DIR"\n\n# Clean old backups (keep 30 days)\nfind /backup/fileserv -name "*.tar.gz" -mtime +30 -delete\n\necho "Backup completed: $BACKUP_DIR.tar.gz"\n```\n\nSchedule with cron:\n```bash\n# Daily backup at 2 AM\n0 2 * * * /opt/fileserv/backup.sh\n```\n\n### Recovery Procedure\n\nIf you need to restore:\n\n1. **Stop FileServ**\n   ```bash\n   sudo systemctl stop fileserv\n   ```\n\n2. **Restore Configuration**\n   ```bash\n   cp /backup/fileserv/YYYYMMDD/storage.json /var/lib/fileserv/\n   ```\n\n3. **Restore Data**\n   ```bash\n   rsync -av /backup/fileserv/YYYYMMDD/data/ /srv/fileserv/\n   ```\n\n4. **Start FileServ**\n   ```bash\n   sudo systemctl start fileserv\n   ```\n\n5. **Verify**\n   - Log in and check files\n   - Verify user accounts\n   - Test file access\n\n---\n\n## Troubleshooting Guide\n\n### Common Problems and Solutions\n\n#### Users Can\'t Log In\n\n**Symptoms:** "Invalid credentials" error\n\n**Check:**\n1. Is the username spelled correctly?\n2. Is the account enabled?\n3. Has the password expired?\n\n**Solutions:**\n- Reset the user\'s password\n- Create a new account if needed\n- Check for typos in username\n\n---\n\n#### "No Storage Zones Available"\n\n**Symptoms:** Users see no zones in the file browser\n\n**Check:**\n1. Are zones configured?\n2. Is the user in allowed users/groups?\n3. Is the zone enabled?\n\n**Solutions:**\n- Add user to zone\'s allowed users\n- Add user to a group that has access\n- Create a zone for the user\n\n---\n\n#### File Upload Fails\n\n**Symptoms:** Upload error or timeout\n\n**Check:**\n1. File size vs. pool limit\n2. File type vs. allowed/denied types\n3. Available disk space\n4. User quota\n\n**Solutions:**\n- Increase pool max file size\n- Allow the file type\n- Free up disk space\n- Increase user quota\n\n---\n\n#### Network Share Not Accessible\n\n**Symptoms:** Can\'t connect via SMB/NFS\n\n**Check:**\n1. Is SMB/NFS enabled on the zone? (check zone settings)\n2. Does the user have access to the zone?\n3. Is the Samba/NFS service running?\n4. Firewall blocking ports?\n\n**Solutions:**\n- Edit the zone and enable SMB or NFS\n- Add user to zone\'s allowed users or groups\n- Start Samba: `sudo systemctl start smb`\n- Start NFS: `sudo systemctl start nfs-server`\n- Open firewall ports (445 for SMB, 2049 for NFS)\n\n---\n\n#### Slow Performance\n\n**Symptoms:** Pages load slowly, uploads/downloads are slow\n\n**Check:**\n1. Server CPU/memory usage\n2. Disk I/O (is disk busy?)\n3. Network bandwidth\n4. Number of concurrent users\n\n**Solutions:**\n- Upgrade server resources\n- Move to faster storage\n- Optimize network\n- Add caching\n\n---\n\n#### Disk Full Errors\n\n**Symptoms:** "No space left on device" errors\n\n**Check:**\n1. Which partition is full?\n2. What\'s consuming space?\n\nFind large files:\n```bash\ndu -h /srv/fileserv | sort -rh | head -20\n```\n\n**Solutions:**\n- Clean up old/unnecessary files\n- Move data to larger storage\n- Expand the partition\n- Set up log rotation\n\n---\n\n### Getting Help\n\nIf you\'re stuck:\n\n1. **Check the logs** - Most answers are there\n2. **Review this guide** - Common issues are covered\n3. **Check permissions** - Many issues are permission-related\n4. **Restart the service** - Sometimes it just helps\n5. **Ask for help** - Document what you\'ve tried\n\nWhen asking for help, provide:\n- What you were trying to do\n- What happened instead\n- Any error messages\n- Relevant log entries\n- What you\'ve already tried\n\n---\n\n## Glossary\n\n| Term | Definition |\n|------|------------|\n| **Admin** | User with full system access |\n| **Auto-Provision** | Automatically create user folders |\n| **Firewall** | Network security filter |\n| **Group** | Collection of users for permission management |\n| **LVM** | Logical Volume Manager (flexible disk management) |\n| **Mount Point** | Where a disk is attached in the file system |\n| **NFS** | Network File System (Unix file sharing) |\n| **Partition** | Division of a physical disk |\n| **Pool** | Physical storage location |\n| **Quota** | Storage limit for a user/group |\n| **RAID** | Redundant Array of Independent Disks |\n| **SMB** | Server Message Block (Windows file sharing, Samba) |\n| **TLS/SSL** | Encryption for network traffic (HTTPS) |\n| **Zone** | Logical storage area with access controls |\n| **ZFS** | Advanced file system with built-in features |\n\n---\n\n## Quick Reference Card\n\n### Daily Checklist\n- [ ] Check admin dashboard for alerts\n- [ ] Review storage usage\n- [ ] Check for failed logins\n\n### New User Setup\n1. Create internal user account\n2. Assign to appropriate groups\n3. Verify zone access\n4. (Optional) Create system user for SMB access\n5. Communicate credentials securely\n\n### New Storage Area\n1. Ensure path exists on server\n2. Create storage pool (if needed)\n3. Create share zone with the wizard:\n   - Set basic info and zone type\n   - Configure access (users/groups)\n   - Enable SMB/NFS if network sharing needed\n   - Configure web sharing options\n4. Test access (web, SMB, NFS as applicable)\n\n---\n\n*FileServ Administrator Guide - Version 2.1*\n*Last Updated: December 2024*\n*Zone-based network sharing architecture*\n',prevDoc:{title:"User Guide",href:"/docs/user-guide"},requireAdmin:!0})}}]);