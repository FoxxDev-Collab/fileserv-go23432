(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84614,e=>{"use strict";e.s(["User",()=>t],84614);let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},18566,(e,t,s)=>{t.exports=e.r(76562)},98183,(e,t,s)=>{"use strict";function r(e){let t={};for(let[s,r]of e.entries()){let e=t[s];void 0===e?t[s]=r:Array.isArray(e)?e.push(r):t[s]=[e,r]}return t}function a(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function n(e){let t=new URLSearchParams;for(let[s,r]of Object.entries(e))if(Array.isArray(r))for(let e of r)t.append(s,a(e));else t.set(s,a(r));return t}function l(e){for(var t=arguments.length,s=Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];for(let t of s){for(let s of t.keys())e.delete(s);for(let[s,r]of t.entries())e.append(s,r)}return e}Object.defineProperty(s,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(s,{assign:function(){return l},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return n}})},95057,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(s,{formatUrl:function(){return n},formatWithValidation:function(){return i},urlObjectKeys:function(){return l}});let r=e.r(90809)._(e.r(98183)),a=/https?|ftp|gopher|file/;function n(e){let{auth:t,hostname:s}=e,n=e.protocol||"",l=e.pathname||"",i=e.hash||"",d=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:s&&(c=t+(~s.indexOf(":")?"["+s+"]":s),e.port&&(c+=":"+e.port)),d&&"object"==typeof d&&(d=String(r.urlQueryToSearchParams(d)));let o=e.search||d&&"?"+d||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||a.test(n))&&!1!==c?(c="//"+(c||""),l&&"/"!==l[0]&&(l="/"+l)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),o&&"?"!==o[0]&&(o="?"+o),""+n+c+(l=l.replace(/[?#]/g,encodeURIComponent))+(o=o.replace("#","%23"))+i}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function i(e){return n(e)}},18581,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useMergedRef",{enumerable:!0,get:function(){return a}});let r=e.r(71645);function a(e,t){let s=(0,r.useRef)(null),a=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=s.current;e&&(s.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(s.current=n(e,r)),t&&(a.current=n(t,r))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},18967,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(s,{DecodeError:function(){return f},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return j},NormalizeError:function(){return p},PageNotFoundError:function(){return g},SP:function(){return h},ST:function(){return m},WEB_VITALS:function(){return r},execOnce:function(){return a},getDisplayName:function(){return c},getLocationOrigin:function(){return i},getURL:function(){return d},isAbsoluteUrl:function(){return l},isResSent:function(){return o},loadGetInitialProps:function(){return x},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return y}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function a(e){let t,s=!1;return function(){for(var r=arguments.length,a=Array(r),n=0;n<r;n++)a[n]=arguments[n];return s||(s=!0,t=e(...a)),t}}let n=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>n.test(e);function i(){let{protocol:e,hostname:t,port:s}=window.location;return e+"//"+t+(s?":"+s:"")}function d(){let{href:e}=window.location,t=i();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function o(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function x(e,t){let s=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await x(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(s&&o(s))return r;if(!r)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+r+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let h="undefined"!=typeof performance,m=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class p extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class j extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function y(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"isLocalURL",{enumerable:!0,get:function(){return n}});let r=e.r(18967),a=e.r(52817);function n(e){if(!(0,r.isAbsoluteUrl)(e))return!0;try{let t=(0,r.getLocationOrigin)(),s=new URL(e,t);return s.origin===t&&(0,a.hasBasePath)(s.pathname)}catch(e){return!1}}},84508,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},22016,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(s,{default:function(){return p},useLinkStatus:function(){return j}});let r=e.r(90809),a=e.r(18050),n=r._(e.r(71645)),l=e.r(95057),i=e.r(8372),d=e.r(18581),c=e.r(18967),o=e.r(5550);e.r(33525);let u=e.r(91949),x=e.r(73668),h=e.r(99781);e.r(84508);let m=e.r(65165);function f(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function p(e){var t;let s,r,l,[p,j]=(0,n.useOptimistic)(u.IDLE_LINK_STATUS),v=(0,n.useRef)(null),{href:y,as:N,children:b,prefetch:C=null,passHref:w,replace:k,shallow:_,scroll:S,onClick:M,onMouseEnter:P,onTouchStart:T,legacyBehavior:A=!1,onNavigate:L,ref:O,unstable_dynamicOnHover:F,...E}=e;s=b,A&&("string"==typeof s||"number"==typeof s)&&(s=(0,a.jsx)("a",{children:s}));let R=n.default.useContext(i.AppRouterContext),z=!1!==C,U=!1!==C?null===(t=C)||"auto"===t?m.FetchStrategy.PPR:m.FetchStrategy.Full:m.FetchStrategy.PPR,{href:D,as:I}=n.default.useMemo(()=>{let e=f(y);return{href:e,as:N?f(N):e}},[y,N]);A&&(r=n.default.Children.only(s));let B=A?r&&"object"==typeof r&&r.ref:O,H=n.default.useCallback(e=>(null!==R&&(v.current=(0,u.mountLinkInstance)(e,D,R,U,z,j)),()=>{v.current&&((0,u.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,u.unmountPrefetchableInstance)(e)}),[z,D,R,U,j]),K={ref:(0,d.useMergedRef)(H,B),onClick(e){A||"function"!=typeof M||M(e),A&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),R&&(e.defaultPrevented||function(e,t,s,r,a,l,i){let{nodeName:d}=e.currentTarget;if(!("A"===d.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,x.isLocalURL)(t)){a&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}n.default.startTransition(()=>{(0,h.dispatchNavigateAction)(s||t,a?"replace":"push",null==l||l,r.current)})}}(e,D,I,v,k,S,L))},onMouseEnter(e){A||"function"!=typeof P||P(e),A&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),R&&z&&(0,u.onNavigationIntent)(e.currentTarget,!0===F)},onTouchStart:function(e){A||"function"!=typeof T||T(e),A&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),R&&z&&(0,u.onNavigationIntent)(e.currentTarget,!0===F)}};return(0,c.isAbsoluteUrl)(I)?K.href=I:A&&!w&&("a"!==r.type||"href"in r.props)||(K.href=(0,o.addBasePath)(I)),l=A?n.default.cloneElement(r,K):(0,a.jsx)("a",{...E,...K,children:s}),(0,a.jsx)(g.Provider,{value:p,children:l})}let g=(0,n.createContext)(u.IDLE_LINK_STATUS),j=()=>(0,n.useContext)(g);("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},70065,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>l,"CardFooter",()=>d,"CardHeader",()=>a,"CardTitle",()=>n]);var t=e.i(18050),s=e.i(47163);function r(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...a})}function a(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...a})}function n(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",r),...a})}function l(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",r),...a})}function i(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",r),...a})}function d(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",r),...a})}},94179,e=>{"use strict";e.s(["Badge",()=>l]);var t=e.i(18050),s=e.i(91918),r=e.i(25913),a=e.i(47163);let n=(0,r.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:r,variant:l,asChild:i=!1,...d}=e,c=i?s.Slot:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,a.cn)(n({variant:l}),r),...d})}},16715,e=>{"use strict";e.s(["RefreshCw",()=>t],16715);let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},78894,e=>{"use strict";e.s(["AlertTriangle",()=>t.default]);var t=e.i(82458)},73884,e=>{"use strict";e.s(["XCircle",()=>t],73884);let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},72520,e=>{"use strict";e.s(["ArrowRight",()=>t],72520);let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},52571,e=>{"use strict";e.s(["Info",()=>t.default]);var t=e.i(79664)},75782,e=>{"use strict";e.s(["Files",()=>t],75782);let t=(0,e.i(75254).default)("files",[["path",{d:"M15 2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"14sh0y"}],["path",{d:"M16.706 2.706A2.4 2.4 0 0 0 15 2v5a1 1 0 0 0 1 1h5a2.4 2.4 0 0 0-.706-1.706z",key:"1970lx"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]])},66992,e=>{"use strict";e.s(["Cpu",()=>t],66992);let t=(0,e.i(75254).default)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]])},14125,e=>{"use strict";e.s(["MemoryStick",()=>t],14125);let t=(0,e.i(75254).default)("memory-stick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]])},23261,e=>{"use strict";e.s(["default",()=>L]);var t=e.i(18050),s=e.i(71645),r=e.i(18566),a=e.i(22016),n=e.i(49786),l=e.i(81868),i=e.i(70065),d=e.i(94179),c=e.i(67881),o=e.i(87336),u=e.i(69035),x=e.i(91432),h=e.i(54858),m=e.i(61911),f=e.i(75782),p=e.i(52786),g=e.i(72520),j=e.i(18393),v=e.i(66992),y=e.i(14125),N=e.i(78894),b=e.i(95468),C=e.i(73884),w=e.i(16715),k=e.i(87523),_=e.i(73014),S=e.i(58524),M=e.i(58041),P=e.i(94827),T=e.i(63209),A=e.i(52571);function L(){var e,L,O,F,E,R,z,U,D,I,B,H,K,V,q,W,Z,G;let X=(0,r.useRouter)(),{user:Q,isAuthenticated:J,isLoading:Y}=(0,x.useAuth)(),[$,ee]=(0,s.useState)({stats:null,storage:null,system:null,pools:[],zones:[],shareLinks:[],users:[]}),[et,es]=(0,s.useState)(!0),[er,ea]=(0,s.useState)(!1),[en,el]=(0,s.useState)(null);(0,s.useEffect)(()=>{!Y&&(J?Q&&"admin"!==Q.role&&X.replace("/dashboard"):X.replace("/"))},[Y,J,Q,X]);let ei=(0,s.useCallback)(async()=>{try{let[e,t,s,r,a,n,l]=await Promise.allSettled([h.adminAPI.getStats(),h.storageAPI.getOverview(),h.systemAPI.getResources(),h.poolsAPI.list(),h.zonesAPI.list(),h.shareLinksAPI.listAll(),h.usersAPI.list()]);ee({stats:"fulfilled"===e.status?e.value:null,storage:"fulfilled"===t.status?t.value:null,system:"fulfilled"===s.status?s.value:null,pools:"fulfilled"===r.status&&r.value||[],zones:"fulfilled"===a.status&&a.value||[],shareLinks:"fulfilled"===n.status&&n.value||[],users:"fulfilled"===l.status&&l.value||[]}),el(new Date)}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{es(!1),ea(!1)}},[]);(0,s.useEffect)(()=>{if(J&&(null==Q?void 0:Q.role)==="admin"){ei();let e=setInterval(ei,3e4);return()=>clearInterval(e)}},[J,Q,ei]);let ed=e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB","PB"][t]},ec=$.shareLinks.filter(e=>e.enabled&&(!e.expires_at||new Date(e.expires_at)>new Date)),eo=$.pools.filter(e=>e.enabled),eu=$.zones.filter(e=>e.enabled),ex=$.users.filter(e=>e.is_admin),eh=(()=>{var e;let t=(null==(e=$.storage)?void 0:e.alerts)||[],s=t.filter(e=>"critical"===e.level).length,r=t.filter(e=>"warning"===e.level).length;return s>0?{status:"Critical",color:"bg-red-500",icon:C.XCircle}:r>0?{status:"Warning",color:"bg-yellow-500",icon:N.AlertTriangle}:{status:"Operational",color:"bg-green-500",icon:b.CheckCircle2}})(),em=eh.icon;return Y||J&&(null==Q?void 0:Q.role)==="admin"&&et?(0,t.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,t.jsx)(l.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(n.Header,{title:"Admin Dashboard"}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,t.jsx)(w.RefreshCw,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading dashboard data..."})]})})})})]})]}):(0,t.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,t.jsx)(l.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(n.Header,{title:"Admin Dashboard"}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"System Overview"}),en&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",en.toLocaleTimeString()]})]}),(0,t.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:()=>{ea(!0),ei()},disabled:er,children:[(0,t.jsx)(w.RefreshCw,{className:"h-4 w-4 mr-2 ".concat(er?"animate-spin":"")}),"Refresh"]})]}),(0,t.jsx)(i.Card,{className:"border-l-4 ".concat("Critical"===eh.status?"border-l-red-500":"Warning"===eh.status?"border-l-yellow-500":"border-l-green-500"),children:(0,t.jsx)(i.CardContent,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(em,{className:"h-6 w-6 ".concat("Critical"===eh.status?"text-red-500":"Warning"===eh.status?"text-yellow-500":"text-green-500")}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold",children:["System Status: ",eh.status]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(null==(L=$.storage)||null==(e=L.alerts)?void 0:e.length)||0," active alerts",(null==(O=$.system)?void 0:O.uptime_human)&&" • Uptime: ".concat($.system.uptime_human)]})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:$.system&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Badge,{variant:"outline",className:"flex items-center gap-1",children:[(0,t.jsx)(v.Cpu,{className:"h-3 w-3"}),(null==(F=$.system.cpu_usage)?void 0:F.toFixed(1))||0,"%"]}),(0,t.jsxs)(d.Badge,{variant:"outline",className:"flex items-center gap-1",children:[(0,t.jsx)(y.MemoryStick,{className:"h-3 w-3"}),(null==(E=$.system.memory_percent)?void 0:E.toFixed(1))||0,"%"]})]})})]})})}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Internal Users"}),(0,t.jsx)(m.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:$.users.length}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[ex.length," admin",1!==ex.length?"s":""]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Files Managed"}),(0,t.jsx)(f.Files,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:((null==(R=$.stats)?void 0:R.total_files)||0).toLocaleString()}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[((null==(z=$.stats)?void 0:z.total_folders)||0).toLocaleString()," folders"]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Storage Pools"}),(0,t.jsx)(k.Container,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:$.pools.length}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[eo.length," active"]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Share Zones"}),(0,t.jsx)(_.FolderTree,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:$.zones.length}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[eu.length," enabled"]})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.HardDrive,{className:"h-5 w-5"}),"Storage Capacity"]}),(0,t.jsx)(i.CardDescription,{children:"System-wide storage utilization"})]}),(0,t.jsx)(i.CardContent,{className:"space-y-4",children:$.storage?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{children:["Used: ",$.storage.used_human||ed($.storage.total_used)]}),(0,t.jsxs)("span",{children:["Total: ",$.storage.capacity_human||ed($.storage.total_capacity)]})]}),(0,t.jsx)(o.Progress,{value:$.storage.used_percent||0,className:"h-3"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-right",children:[$.storage.free_human||ed($.storage.total_free)," available (",(100-($.storage.used_percent||0)).toFixed(1),"%)"]})]}),(0,t.jsx)(u.Separator,{}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.storage.total_disks||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Disks"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.storage.volume_groups||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Volume Groups"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:(null==(U=$.storage.mount_points)?void 0:U.length)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Mount Points"})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(p.HardDrive,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"Storage data unavailable"})]})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Server,{className:"h-5 w-5"}),"System Resources"]}),(0,t.jsxs)(i.CardDescription,{children:[(null==(D=$.system)?void 0:D.hostname)||"Server"," • ",(null==(I=$.system)?void 0:I.os_release)||"Linux"]})]}),(0,t.jsx)(i.CardContent,{className:"space-y-4",children:$.system?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(v.Cpu,{className:"h-3 w-3"})," CPU"]}),(0,t.jsxs)("span",{children:[(null==(B=$.system.cpu_usage)?void 0:B.toFixed(1))||0,"%"]})]}),(0,t.jsx)(o.Progress,{value:$.system.cpu_usage||0,className:"h-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(y.MemoryStick,{className:"h-3 w-3"})," Memory"]}),(0,t.jsxs)("span",{children:[(null==(H=$.system.memory_percent)?void 0:H.toFixed(1))||0,"%"]})]}),(0,t.jsx)(o.Progress,{value:$.system.memory_percent||0,className:"h-2"})]}),$.system.swap_total>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(M.Database,{className:"h-3 w-3"})," Swap"]}),(0,t.jsxs)("span",{children:[(null==(K=$.system.swap_percent)?void 0:K.toFixed(1))||0,"%"]})]}),(0,t.jsx)(o.Progress,{value:$.system.swap_percent||0,className:"h-2"})]})]}),(0,t.jsx)(u.Separator,{}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"CPU"}),(0,t.jsx)("p",{className:"font-medium truncate",children:$.system.cpu_model||"".concat($.system.cpu_cores," cores")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Memory"}),(0,t.jsx)("p",{className:"font-medium",children:ed($.system.memory_total)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Load Average"}),(0,t.jsxs)("p",{className:"font-medium",children:[null==(V=$.system.load_avg_1)?void 0:V.toFixed(2)," / ",null==(q=$.system.load_avg_5)?void 0:q.toFixed(2)," / ",null==(W=$.system.load_avg_15)?void 0:W.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Uptime"}),(0,t.jsx)("p",{className:"font-medium",children:$.system.uptime_human||"N/A"})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(j.Server,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"System data unavailable"})]})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(S.Link2,{className:"h-5 w-5"}),"Share Links"]}),(0,t.jsx)(i.CardDescription,{children:"Public file sharing statistics"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.shareLinks.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Links"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:ec.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:$.shareLinks.reduce((e,t)=>e+(t.download_count||0),0)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Downloads"})]})]}),(0,t.jsx)(u.Separator,{className:"my-4"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"File shares"}),(0,t.jsx)("span",{children:$.shareLinks.filter(e=>"file"===e.target_type).length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Folder shares"}),(0,t.jsx)("span",{children:$.shareLinks.filter(e=>"folder"===e.target_type).length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Password protected"}),(0,t.jsx)("span",{children:$.shareLinks.filter(e=>e.password_hash).length})]})]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(P.Gauge,{className:"h-5 w-5"}),"Disk Health"]}),(0,t.jsx)(i.CardDescription,{children:"SMART status and disk health monitoring"})]}),(0,t.jsx)(i.CardContent,{children:(null==(Z=$.storage)?void 0:Z.disk_health)&&$.storage.disk_health.length>0?(0,t.jsxs)("div",{className:"space-y-3",children:[$.storage.disk_health.slice(0,4).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.HardDrive,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.temperature&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.temperature,"°C"]}),(e=>{switch(null==e?void 0:e.toLowerCase()){case"healthy":case"online":return(0,t.jsx)(d.Badge,{className:"bg-green-500 hover:bg-green-600",children:"Healthy"});case"warning":case"degraded":return(0,t.jsx)(d.Badge,{className:"bg-yellow-500 hover:bg-yellow-600",children:"Warning"});case"critical":case"offline":return(0,t.jsx)(d.Badge,{variant:"destructive",children:"Critical"});default:return(0,t.jsx)(d.Badge,{variant:"secondary",children:"Unknown"})}})(e.health)]})]},s)),$.storage.disk_health.length>4&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["+",$.storage.disk_health.length-4," more disks"]})]}):(0,t.jsxs)("div",{className:"text-center py-6 text-muted-foreground",children:[(0,t.jsx)(b.CheckCircle2,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),(0,t.jsx)("p",{children:"All disks healthy"})]})})]})]}),(null==(G=$.storage)?void 0:G.alerts)&&$.storage.alerts.length>0&&(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(T.AlertCircle,{className:"h-5 w-5"}),"Active Alerts"]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:$.storage.alerts.slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[(e=>{switch(e){case"critical":return(0,t.jsx)(C.XCircle,{className:"h-4 w-4 text-red-500"});case"warning":return(0,t.jsx)(N.AlertTriangle,{className:"h-4 w-4 text-yellow-500"});default:return(0,t.jsx)(A.Info,{className:"h-4 w-4 text-blue-500"})}})(e.level),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:e.message}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.resource," • ",new Date(e.timestamp).toLocaleString()]})]}),(0,t.jsx)(d.Badge,{variant:"critical"===e.level?"destructive":"warning"===e.level?"default":"secondary",children:e.level})]},s))})})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(a.default,{href:"/admin/system-users",children:(0,t.jsxs)(i.Card,{className:"hover:bg-accent transition-colors cursor-pointer h-full",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"flex items-center justify-between text-base",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Users,{className:"h-4 w-4"}),"Manage Users"]}),(0,t.jsx)(g.ArrowRight,{className:"h-4 w-4"})]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Create and manage internal user accounts"})})]})}),(0,t.jsx)(a.default,{href:"/admin/storage/pools",children:(0,t.jsxs)(i.Card,{className:"hover:bg-accent transition-colors cursor-pointer h-full",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"flex items-center justify-between text-base",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Container,{className:"h-4 w-4"}),"Storage Pools"]}),(0,t.jsx)(g.ArrowRight,{className:"h-4 w-4"})]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure storage pools and quotas"})})]})}),(0,t.jsx)(a.default,{href:"/admin/storage/zones",children:(0,t.jsxs)(i.Card,{className:"hover:bg-accent transition-colors cursor-pointer h-full",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"flex items-center justify-between text-base",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(_.FolderTree,{className:"h-4 w-4"}),"Share Zones"]}),(0,t.jsx)(g.ArrowRight,{className:"h-4 w-4"})]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage zones and network shares"})})]})}),(0,t.jsx)(a.default,{href:"/admin/storage/server",children:(0,t.jsxs)(i.Card,{className:"hover:bg-accent transition-colors cursor-pointer h-full",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"flex items-center justify-between text-base",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Server,{className:"h-4 w-4"}),"Server Status"]}),(0,t.jsx)(g.ArrowRight,{className:"h-4 w-4"})]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Monitor services and system logs"})})]})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:"Zone Configuration Overview"}),(0,t.jsx)(i.CardDescription,{children:"Distribution of share zones by type and features"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.zones.filter(e=>"personal"===e.zone_type).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Personal"})]}),(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.zones.filter(e=>"group"===e.zone_type).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Group"})]}),(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.zones.filter(e=>"public"===e.zone_type).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Public"})]}),(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.zones.filter(e=>e.smb_enabled).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"SMB Enabled"})]}),(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.zones.filter(e=>e.nfs_enabled).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"NFS Enabled"})]}),(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.zones.filter(e=>e.allow_web_shares).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Web Sharing"})]})]})})]})]})})]})]})}}]);