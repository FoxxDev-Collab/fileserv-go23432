(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";e.s(["AlertTriangle",()=>t.default]);var t=e.i(82458)},63059,e=>{"use strict";e.s(["ChevronRight",()=>t.default]);var t=e.i(46349)},23750,e=>{"use strict";e.s(["Input",()=>s]);var t=e.i(18050),a=e.i(47163);function s(e){let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}},10708,e=>{"use strict";e.s(["Label",()=>l],10708);var t=e.i(18050),a=e.i(71645),s=e.i(48425),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var n=e.i(47163);function l(e){let{className:a,...s}=e;return(0,t.jsx)(r,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}},99682,e=>{"use strict";e.s(["usePrevious",()=>a]);var t=e.i(71645);function a(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},30374,e=>{"use strict";e.s(["Dialog",()=>n,"DialogContent",()=>d,"DialogDescription",()=>x,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>m,"DialogTrigger",()=>l],30374);var t=e.i(18050),a=e.i(26999),s=e.i(41947),s=s,r=e.i(47163);function n(e){let{...s}=e;return(0,t.jsx)(a.Root,{"data-slot":"dialog",...s})}function l(e){let{...s}=e;return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...s})}function i(e){let{...s}=e;return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...s})}function o(e){let{className:s,...n}=e;return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...n})}function d(e){let{className:n,children:l,showCloseButton:d=!0,...c}=e;return(0,t.jsxs)(i,{"data-slot":"dialog-portal",children:[(0,t.jsx)(o,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...c,children:[l,d&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",a),...s})}function u(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...s})}function m(e){let{className:s,...n}=e;return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",s),...n})}function x(e){let{className:s,...n}=e;return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...n})}},69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},66992,e=>{"use strict";e.s(["Cpu",()=>t],66992);let t=(0,e.i(75254).default)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]])},39312,e=>{"use strict";e.s(["Zap",()=>t],39312);let t=(0,e.i(75254).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},10059,e=>{"use strict";e.s(["Thermometer",()=>t],10059);let t=(0,e.i(75254).default)("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]])},54978,e=>{"use strict";e.s(["default",()=>$],54978);var t=e.i(18050),a=e.i(71645),s=e.i(18566),r=e.i(49786),n=e.i(81868),l=e.i(70065),i=e.i(94179),o=e.i(67881),d=e.i(30374),c=e.i(23750),u=e.i(10708),m=e.i(62870),x=e.i(47627),h=e.i(81140),p=e.i(69340),f=e.i(34620),g=e.i(20783);e.i(74080);var j=Symbol("radix.slottable");function v(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===j}var b=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let r=function(e){let s=function(e){let t=a.forwardRef((e,t)=>{let{children:s,...r}=e;if(a.isValidElement(s)){var n,l,i;let e,o,d=(o=(e=null==(l=Object.getOwnPropertyDescriptor((n=s).props,"ref"))?void 0:l.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(o=(e=null==(i=Object.getOwnPropertyDescriptor(n,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref,c=function(e,t){let a={...t};for(let s in t){let r=e[s],n=t[s];/^on[A-Z]/.test(s)?r&&n?a[s]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let s=n(...t);return r(...t),s}:r&&(a[s]=r):"style"===s?a[s]={...r,...n}:"className"===s&&(a[s]=[r,n].filter(Boolean).join(" "))}return{...e,...a}}(r,s.props);return s.type!==a.Fragment&&(c.ref=t?(0,g.composeRefs)(t,d):d),a.cloneElement(s,c)}return a.Children.count(s)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),r=a.forwardRef((e,r)=>{let{children:n,...l}=e,i=a.Children.toArray(n),o=i.find(v);if(o){let e=o.props.children,n=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(s,{...l,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,t.jsx)(s,{...l,ref:r,children:n})});return r.displayName="".concat(e,".Slot"),r}("Primitive.".concat(s)),n=a.forwardRef((e,a)=>{let{asChild:n,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?r:s,{...l,ref:a})});return n.displayName="Primitive.".concat(s),{...e,[s]:n}},{}),y=e.i(96626),N=e.i(10772),C="Collapsible",[w,k]=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=()=>{let t=r.map(e=>a.createContext(e));return function(s){let r=(null==s?void 0:s[e])||t;return a.useMemo(()=>({["__scope".concat(e)]:{...s,[e]:r}}),[s,r])}};return n.scopeName=e,[function(s,n){let l=a.createContext(n),i=r.length;r=[...r,n];let o=s=>{var r;let{scope:n,children:o,...d}=s,c=(null==n||null==(r=n[e])?void 0:r[i])||l,u=a.useMemo(()=>d,Object.values(d));return(0,t.jsx)(c.Provider,{value:u,children:o})};return o.displayName=s+"Provider",[o,function(t,r){var o;let d=(null==r||null==(o=r[e])?void 0:o[i])||l,c=a.useContext(d);if(c)return c;if(void 0!==n)return n;throw Error("`".concat(t,"` must be used within `").concat(s,"`"))}]},function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let r=t[0];if(1===t.length)return r;let n=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let s=e.reduce((e,a)=>{let{useScope:s,scopeName:r}=a,n=s(t)["__scope".concat(r)];return{...e,...n}},{});return a.useMemo(()=>({["__scope".concat(r.scopeName)]:s}),[s])}};return n.scopeName=r.scopeName,n}(n,...s)]}(C),[T,D]=w(C),S=a.forwardRef((e,s)=>{let{__scopeCollapsible:r,open:n,defaultOpen:l,disabled:i,onOpenChange:o,...d}=e,[c,u]=(0,p.useControllableState)({prop:n,defaultProp:null!=l&&l,onChange:o,caller:C});return(0,t.jsx)(T,{scope:r,disabled:i,contentId:(0,N.useId)(),open:c,onOpenToggle:a.useCallback(()=>u(e=>!e),[u]),children:(0,t.jsx)(b.div,{"data-state":A(c),"data-disabled":i?"":void 0,...d,ref:s})})});S.displayName=C;var R="CollapsibleTrigger",M=a.forwardRef((e,a)=>{let{__scopeCollapsible:s,...r}=e,n=D(R,s);return(0,t.jsx)(b.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":A(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...r,ref:a,onClick:(0,h.composeEventHandlers)(e.onClick,n.onOpenToggle)})});M.displayName=R;var P="CollapsibleContent",H=a.forwardRef((e,a)=>{let{forceMount:s,...r}=e,n=D(P,e.__scopeCollapsible);return(0,t.jsx)(y.Presence,{present:s||n.open,children:e=>{let{present:s}=e;return(0,t.jsx)(_,{...r,ref:a,present:s})}})});H.displayName=P;var _=a.forwardRef((e,s)=>{let{__scopeCollapsible:r,present:n,children:l,...i}=e,o=D(P,r),[d,c]=a.useState(n),u=a.useRef(null),m=(0,g.useComposedRefs)(s,u),x=a.useRef(0),h=x.current,p=a.useRef(0),j=p.current,v=o.open||d,y=a.useRef(v),N=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,f.useLayoutEffect)(()=>{let e=u.current;if(e){N.current=N.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();x.current=t.height,p.current=t.width,y.current||(e.style.transitionDuration=N.current.transitionDuration,e.style.animationName=N.current.animationName),c(n)}},[o.open,n]),(0,t.jsx)(b.div,{"data-state":A(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:m,style:{"--radix-collapsible-content-height":h?"".concat(h,"px"):void 0,"--radix-collapsible-content-width":j?"".concat(j,"px"):void 0,...e.style},children:v&&l})});function A(e){return e?"open":"closed"}function B(e){let{...a}=e;return(0,t.jsx)(S,{"data-slot":"collapsible",...a})}function F(e){let{...a}=e;return(0,t.jsx)(M,{"data-slot":"collapsible-trigger",...a})}function z(e){let{...a}=e;return(0,t.jsx)(H,{"data-slot":"collapsible-content",...a})}var I=e.i(91432),O=e.i(54858);e.i(73827);var E=e.i(59467),L=e.i(46696),V=e.i(52786),U=e.i(16715),W=e.i(64659),Z=e.i(63059),q=e.i(69638),K=e.i(78894),X=e.i(58041),G=e.i(66992),J=e.i(10059),Q=e.i(39312),Y=e.i(67240);function $(){var e,h;let p=(0,s.useRouter)(),{user:f,isAuthenticated:g,isLoading:j}=(0,I.useAuth)(),[v,b]=(0,a.useState)([]),[y,N]=(0,a.useState)(!0),[C,w]=(0,a.useState)(!1),[k,T]=(0,a.useState)(new Set),[D,S]=(0,a.useState)({open:!1}),[R,M]=(0,a.useState)({fstype:"ext4",label:"",force:!1}),[P,H]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!j&&(g?f&&"admin"!==f.role&&p.replace("/dashboard"):p.replace("/"))},[j,g,f,p]);let _=async()=>{try{let e=await O.storageAPI.getDisks();b(e),e.length>0&&0===k.size&&T(new Set([e[0].name]))}catch(e){console.error("Failed to fetch disks:",e),L.toast.error("Failed to fetch disk information")}finally{N(!1),w(!1)}};(0,a.useEffect)(()=>{g&&(null==f?void 0:f.role)==="admin"&&_()},[g,f]);let A=async()=>{if(D.partition){H(!0);try{await O.storageAPI.formatPartition({device:D.partition.path,fstype:R.fstype,label:R.label||void 0,force:R.force}),L.toast.success("Partition formatted successfully"),S({open:!1}),_()}catch(e){L.toast.error("Failed to format partition: ".concat(e))}finally{H(!1)}}};return j&&!f||!g||f&&"admin"!==f.role||y?(0,t.jsx)(E.PageSkeleton,{title:"Disk Management"}):(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsx)(n.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(r.Header,{title:"Disk Management"}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Disks & Partitions"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage physical disks and partition layouts"})]}),(0,t.jsxs)(o.Button,{onClick:()=>{w(!0),_()},disabled:C,variant:"outline",children:[(0,t.jsx)(U.RefreshCw,{className:"h-4 w-4 mr-2 ".concat(C?"animate-spin":"")}),"Refresh"]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{className:"pb-2",children:(0,t.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Total Disks"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:v.length})})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{className:"pb-2",children:(0,t.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Total Partitions"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:v.reduce((e,t)=>e+t.partitions.length,0)})})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{className:"pb-2",children:(0,t.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Total Capacity"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:v.reduce((e,t)=>e+t.size,0)>0&&(null==(e=v.find(e=>e.size_human))?void 0:e.size_human)||"0 B"})})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{className:"pb-2",children:(0,t.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Health Status"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:v.every(e=>!e.smart||e.smart.healthy)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q.CheckCircle,{className:"h-5 w-5 text-green-500"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:"All Healthy"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(K.AlertTriangle,{className:"h-5 w-5 text-yellow-500"}),(0,t.jsx)("span",{className:"font-medium text-yellow-600",children:"Issues Detected"})]})})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[v.map(e=>{var a;return(0,t.jsx)(l.Card,{children:(0,t.jsxs)(B,{open:k.has(e.name),onOpenChange:()=>(e=>{let t=new Set(k);t.has(e)?t.delete(e):t.add(e),T(t)})(e.name),children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsx)(l.CardHeader,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[k.has(e.name)?(0,t.jsx)(W.ChevronDown,{className:"h-5 w-5"}):(0,t.jsx)(Z.ChevronRight,{className:"h-5 w-5"}),(e=>{switch(e){case"nvme":return(0,t.jsx)(Q.Zap,{className:"h-5 w-5 text-purple-500"});case"ssd":return(0,t.jsx)(G.Cpu,{className:"h-5 w-5 text-blue-500"});case"hdd":return(0,t.jsx)(Y.RotateCcw,{className:"h-5 w-5 text-gray-500"});default:return(0,t.jsx)(V.HardDrive,{className:"h-5 w-5 text-muted-foreground"})}})(e.type),(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.CardTitle,{className:"text-lg flex items-center gap-2",children:[e.path,(e=>{switch(e){case"nvme":return(0,t.jsx)(i.Badge,{className:"bg-purple-500",children:"NVMe"});case"ssd":return(0,t.jsx)(i.Badge,{className:"bg-blue-500",children:"SSD"});case"hdd":return(0,t.jsx)(i.Badge,{variant:"secondary",children:"HDD"});case"virtual":return(0,t.jsx)(i.Badge,{variant:"outline",children:"Virtual"});default:return(0,t.jsx)(i.Badge,{variant:"outline",children:e})}})(e.type),(a=e.smart)?a.healthy?(0,t.jsx)(i.Badge,{className:"bg-green-500",children:"Healthy"}):(0,t.jsx)(i.Badge,{variant:"destructive",children:a.overall_status}):(0,t.jsx)(i.Badge,{variant:"outline",children:"Unknown"})]}),(0,t.jsxs)(l.CardDescription,{children:[e.model||"Unknown Model"," • ",e.size_human," •"," ",e.partitions.length," partition(s)"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.temperature&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(J.Thermometer,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[e.temperature,"°C"]})]}),e.serial&&(0,t.jsx)("span",{className:"font-mono text-xs",children:e.serial})]})]})})}),(0,t.jsx)(z,{children:(0,t.jsxs)(l.CardContent,{children:[e.smart&&(0,t.jsxs)("div",{className:"mb-4 p-3 rounded-lg bg-muted/50",children:[(0,t.jsxs)("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(X.Database,{className:"h-4 w-4"}),"SMART Status"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status:"})," ",(0,t.jsx)("span",{className:e.smart.healthy?"text-green-600":"text-red-600",children:e.smart.overall_status})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Power On:"})," ",e.smart.power_on_hours.toLocaleString(),"h"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Power Cycles:"})," ",e.smart.power_cycles.toLocaleString()]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Temperature:"})," ",e.smart.temperature,"°C"]})]})]}),e.partitions.length>0?(0,t.jsxs)(x.Table,{children:[(0,t.jsx)(x.TableHeader,{children:(0,t.jsxs)(x.TableRow,{children:[(0,t.jsx)(x.TableHead,{children:"Partition"}),(0,t.jsx)(x.TableHead,{children:"Size"}),(0,t.jsx)(x.TableHead,{children:"Type"}),(0,t.jsx)(x.TableHead,{children:"Filesystem"}),(0,t.jsx)(x.TableHead,{children:"Mount Point"}),(0,t.jsx)(x.TableHead,{children:"Label"}),(0,t.jsx)(x.TableHead,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(x.TableBody,{children:e.partitions.map(e=>(0,t.jsxs)(x.TableRow,{children:[(0,t.jsx)(x.TableCell,{className:"font-mono",children:e.path}),(0,t.jsx)(x.TableCell,{children:e.size_human}),(0,t.jsx)(x.TableCell,{children:(0,t.jsx)(i.Badge,{variant:"outline",children:e.type})}),(0,t.jsx)(x.TableCell,{children:e.fstype?(0,t.jsx)(i.Badge,{variant:"secondary",children:e.fstype}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"Unformatted"})}),(0,t.jsx)(x.TableCell,{children:e.mounted?(0,t.jsx)("span",{className:"text-green-600",children:e.mountpoint}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"Not mounted"})}),(0,t.jsx)(x.TableCell,{children:e.label||(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,t.jsx)(x.TableCell,{className:"text-right",children:(0,t.jsx)("div",{className:"flex justify-end gap-2",children:!e.mounted&&(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>{S({open:!0,partition:e}),M({fstype:"ext4",label:"",force:!1})},children:[(0,t.jsx)(X.Database,{className:"h-4 w-4 mr-1"}),"Format"]})})})]},e.name))})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(V.HardDrive,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No partitions found on this disk"}),(0,t.jsx)("p",{className:"text-sm",children:"This disk appears to be unpartitioned"})]})]})})]})},e.name)}),0===v.length&&(0,t.jsx)(l.Card,{children:(0,t.jsxs)(l.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(V.HardDrive,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,t.jsx)("h3",{className:"text-lg font-medium",children:"No Disks Found"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Unable to detect any storage devices on this system"})]})})]})]})})]}),(0,t.jsx)(d.Dialog,{open:D.open,onOpenChange:e=>S({...D,open:e}),children:(0,t.jsxs)(d.DialogContent,{children:[(0,t.jsxs)(d.DialogHeader,{children:[(0,t.jsx)(d.DialogTitle,{children:"Format Partition"}),(0,t.jsxs)(d.DialogDescription,{children:["Format ",null==(h=D.partition)?void 0:h.path," with a new filesystem.",(0,t.jsx)("span",{className:"text-red-500 block mt-2",children:"Warning: This will erase all data on the partition!"})]})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{children:"Filesystem Type"}),(0,t.jsxs)(m.Select,{value:R.fstype,onValueChange:e=>M({...R,fstype:e}),children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"ext4",children:"ext4 (Recommended)"}),(0,t.jsx)(m.SelectItem,{value:"xfs",children:"XFS"}),(0,t.jsx)(m.SelectItem,{value:"btrfs",children:"Btrfs"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{children:"Volume Label (optional)"}),(0,t.jsx)(c.Input,{value:R.label,onChange:e=>M({...R,label:e.target.value}),placeholder:"e.g., DATA"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"force",checked:R.force,onChange:e=>M({...R,force:e.target.checked})}),(0,t.jsx)(u.Label,{htmlFor:"force",children:"Force format (skip safety checks)"})]})]}),(0,t.jsxs)(d.DialogFooter,{children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>S({open:!1}),children:"Cancel"}),(0,t.jsx)(o.Button,{variant:"destructive",onClick:A,disabled:P,children:P?"Formatting...":"Format Partition"})]})]})})]})}}]);