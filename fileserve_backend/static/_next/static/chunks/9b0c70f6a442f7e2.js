(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84767,e=>{"use strict";e.s(["default",()=>tc],84767);var t=e.i(18050),a=e.i(71645),s=e.i(18566),l=e.i(22016),r=e.i(49786),n=e.i(81868),i=e.i(94008),o=e.i(27025),c=e.i(23585),d=e.i(40160),u=e.i(27612),m=e.i(88511),h=e.i(58524),x=e.i(55900),p=e.i(64659),f=e.i(78583),g=e.i(75254);let j=(0,g.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]),v=(0,g.default)("file-image",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),y=(0,g.default)("file-play",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]]),w=(0,g.default)("file-headphone",[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]]),b=(0,g.default)("file-archive",[["path",{d:"M13.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v11.5",key:"4pqfef"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 12v-1",key:"1ej8lb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M8 7V6",key:"1nbb54"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]]),N=(0,g.default)("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),C=(0,g.default)("presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]),k=(0,g.default)("file-type",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]]);var S=e.i(47627),D=e.i(63415),T=e.i(67881),z=e.i(25959),F=e.i(94179),M=e.i(81140),A=e.i(20783),P=e.i(26330),R=e.i(10772),E=e.i(53660),_=e.i(74606),I=e.i(96626);e.i(74080);var L=Symbol("radix.slottable");function O(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===L}var H=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let l=function(e){let s=function(e){let t=a.forwardRef((e,t)=>{let{children:s,...l}=e;if(a.isValidElement(s)){var r,n,i;let e,o,c=(o=(e=null==(n=Object.getOwnPropertyDescriptor((r=s).props,"ref"))?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning)?r.ref:(o=(e=null==(i=Object.getOwnPropertyDescriptor(r,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?r.props.ref:r.props.ref||r.ref,d=function(e,t){let a={...t};for(let s in t){let l=e[s],r=t[s];/^on[A-Z]/.test(s)?l&&r?a[s]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let s=r(...t);return l(...t),s}:l&&(a[s]=l):"style"===s?a[s]={...l,...r}:"className"===s&&(a[s]=[l,r].filter(Boolean).join(" "))}return{...e,...a}}(l,s.props);return s.type!==a.Fragment&&(d.ref=t?(0,A.composeRefs)(t,c):c),a.cloneElement(s,d)}return a.Children.count(s)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),l=a.forwardRef((e,l)=>{let{children:r,...n}=e,i=a.Children.toArray(r),o=i.find(O);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(s,{...n,ref:l,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,t.jsx)(s,{...n,ref:l,children:r})});return l.displayName="".concat(e,".Slot"),l}("Primitive.".concat(s)),r=a.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?l:s,{...n,ref:a})});return r.displayName="Primitive.".concat(s),{...e,[s]:r}},{}),B=e.i(69340),V=e.i(59411),[U,G]=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=[],r=()=>{let t=l.map(e=>a.createContext(e));return function(s){let l=(null==s?void 0:s[e])||t;return a.useMemo(()=>({["__scope".concat(e)]:{...s,[e]:l}}),[s,l])}};return r.scopeName=e,[function(s,r){let n=a.createContext(r),i=l.length;l=[...l,r];let o=s=>{var l;let{scope:r,children:o,...c}=s,d=(null==r||null==(l=r[e])?void 0:l[i])||n,u=a.useMemo(()=>c,Object.values(c));return(0,t.jsx)(d.Provider,{value:u,children:o})};return o.displayName=s+"Provider",[o,function(t,l){var o;let c=(null==l||null==(o=l[e])?void 0:o[i])||n,d=a.useContext(c);if(d)return d;if(void 0!==r)return r;throw Error("`".concat(t,"` must be used within `").concat(s,"`"))}]},function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let l=t[0];if(1===t.length)return l;let r=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let s=e.reduce((e,a)=>{let{useScope:s,scopeName:l}=a,r=s(t)["__scope".concat(l)];return{...e,...r}},{});return a.useMemo(()=>({["__scope".concat(l.scopeName)]:s}),[s])}};return r.scopeName=l.scopeName,r}(r,...s)]}("Tooltip",[E.createPopperScope]),W=(0,E.createPopperScope)(),q="TooltipProvider",Z="tooltip.open",[Y,J]=U(q),K=e=>{let{__scopeTooltip:s,delayDuration:l=700,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:i}=e,o=a.useRef(!0),c=a.useRef(!1),d=a.useRef(0);return a.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(Y,{scope:s,isOpenDelayedRef:o,delayDuration:l,onOpen:a.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:a.useCallback(e=>{c.current=e},[]),disableHoverableContent:n,children:i})};K.displayName=q;var X="Tooltip",[Q,$]=U(X),ee=e=>{let{__scopeTooltip:s,children:l,open:r,defaultOpen:n,onOpenChange:i,disableHoverableContent:o,delayDuration:c}=e,d=J(X,e.__scopeTooltip),u=W(s),[m,h]=a.useState(null),x=(0,R.useId)(),p=a.useRef(0),f=null!=o?o:d.disableHoverableContent,g=null!=c?c:d.delayDuration,j=a.useRef(!1),[v,y]=(0,B.useControllableState)({prop:r,defaultProp:null!=n&&n,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(Z))):d.onClose(),null==i||i(e)},caller:X}),w=a.useMemo(()=>v?j.current?"delayed-open":"instant-open":"closed",[v]),b=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j.current=!1,y(!0)},[y]),N=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),C=a.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{j.current=!0,y(!0),p.current=0},g)},[g,y]);return a.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,t.jsx)(E.Root,{...u,children:(0,t.jsx)(Q,{scope:s,contentId:x,open:v,stateAttribute:w,trigger:m,onTriggerChange:h,onTriggerEnter:a.useCallback(()=>{d.isOpenDelayedRef.current?C():b()},[d.isOpenDelayedRef,C,b]),onTriggerLeave:a.useCallback(()=>{f?N():(window.clearTimeout(p.current),p.current=0)},[N,f]),onOpen:b,onClose:N,disableHoverableContent:f,children:l})})};ee.displayName=X;var et="TooltipTrigger",ea=a.forwardRef((e,s)=>{let{__scopeTooltip:l,...r}=e,n=$(et,l),i=J(et,l),o=W(l),c=a.useRef(null),d=(0,A.useComposedRefs)(s,c,n.onTriggerChange),u=a.useRef(!1),m=a.useRef(!1),h=a.useCallback(()=>u.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),(0,t.jsx)(E.Anchor,{asChild:!0,...o,children:(0,t.jsx)(H.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:d,onPointerMove:(0,M.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(m.current||i.isPointerInTransitRef.current||(n.onTriggerEnter(),m.current=!0))}),onPointerLeave:(0,M.composeEventHandlers)(e.onPointerLeave,()=>{n.onTriggerLeave(),m.current=!1}),onPointerDown:(0,M.composeEventHandlers)(e.onPointerDown,()=>{n.open&&n.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:(0,M.composeEventHandlers)(e.onFocus,()=>{u.current||n.onOpen()}),onBlur:(0,M.composeEventHandlers)(e.onBlur,n.onClose),onClick:(0,M.composeEventHandlers)(e.onClick,n.onClose)})})});ea.displayName=et;var es="TooltipPortal",[el,er]=U(es,{forceMount:void 0}),en=e=>{let{__scopeTooltip:a,forceMount:s,children:l,container:r}=e,n=$(es,a);return(0,t.jsx)(el,{scope:a,forceMount:s,children:(0,t.jsx)(I.Presence,{present:s||n.open,children:(0,t.jsx)(_.Portal,{asChild:!0,container:r,children:l})})})};en.displayName=es;var ei="TooltipContent",eo=a.forwardRef((e,a)=>{let s=er(ei,e.__scopeTooltip),{forceMount:l=s.forceMount,side:r="top",...n}=e,i=$(ei,e.__scopeTooltip);return(0,t.jsx)(I.Presence,{present:l||i.open,children:i.disableHoverableContent?(0,t.jsx)(eh,{side:r,...n,ref:a}):(0,t.jsx)(ec,{side:r,...n,ref:a})})}),ec=a.forwardRef((e,s)=>{let l=$(ei,e.__scopeTooltip),r=J(ei,e.__scopeTooltip),n=a.useRef(null),i=(0,A.useComposedRefs)(s,n),[o,c]=a.useState(null),{trigger:d,onClose:u}=l,m=n.current,{onPointerInTransitChange:h}=r,x=a.useCallback(()=>{c(null),h(!1)},[h]),p=a.useCallback((e,t)=>{let a=e.currentTarget,s={x:e.clientX,y:e.clientY},l=function(e,t){let a=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),l=Math.abs(t.right-e.x),r=Math.abs(t.left-e.x);switch(Math.min(a,s,l,r)){case r:return"left";case l:return"right";case a:return"top";case s:return"bottom";default:throw Error("unreachable")}}(s,a.getBoundingClientRect());c(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let a=0;a<e.length;a++){let s=e[a];for(;t.length>=2;){let e=t[t.length-1],a=t[t.length-2];if((e.x-a.x)*(s.y-a.y)>=(e.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();let a=[];for(let t=e.length-1;t>=0;t--){let s=e[t];for(;a.length>=2;){let e=a[a.length-1],t=a[a.length-2];if((e.x-t.x)*(s.y-t.y)>=(e.y-t.y)*(s.x-t.x))a.pop();else break}a.push(s)}return(a.pop(),1===t.length&&1===a.length&&t[0].x===a[0].x&&t[0].y===a[0].y)?t:t.concat(a)}(t)}([...function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=[];switch(t){case"top":s.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":s.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":s.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":s.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a})}return s}(s,l),...function(e){let{top:t,right:a,bottom:s,left:l}=e;return[{x:l,y:t},{x:a,y:t},{x:a,y:s},{x:l,y:s}]}(t.getBoundingClientRect())])),h(!0)},[h]);return a.useEffect(()=>()=>x(),[x]),a.useEffect(()=>{if(d&&m){let e=e=>p(e,m),t=e=>p(e,d);return d.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[d,m,p,x]),a.useEffect(()=>{if(o){let e=e=>{let t=e.target,a={x:e.clientX,y:e.clientY},s=(null==d?void 0:d.contains(t))||(null==m?void 0:m.contains(t)),l=!function(e,t){let{x:a,y:s}=e,l=!1;for(let e=0,r=t.length-1;e<t.length;r=e++){let n=t[e],i=t[r],o=n.x,c=n.y,d=i.x,u=i.y;c>s!=u>s&&a<(d-o)*(s-c)/(u-c)+o&&(l=!l)}return l}(a,o);s?x():l&&(x(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,m,o,u,x]),(0,t.jsx)(eh,{...e,ref:i})}),[ed,eu]=U(X,{isInside:!1}),em=function(e){let a=e=>{let{children:a}=e;return(0,t.jsx)(t.Fragment,{children:a})};return a.displayName="".concat(e,".Slottable"),a.__radixId=L,a}("TooltipContent"),eh=a.forwardRef((e,s)=>{let{__scopeTooltip:l,children:r,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=e,d=$(ei,l),u=W(l),{onClose:m}=d;return a.useEffect(()=>(document.addEventListener(Z,m),()=>document.removeEventListener(Z,m)),[m]),a.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;(null==t?void 0:t.contains(d.trigger))&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,m]),(0,t.jsx)(P.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,t.jsxs)(E.Content,{"data-state":d.stateAttribute,...u,...c,ref:s,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(em,{children:r}),(0,t.jsx)(ed,{scope:l,isInside:!0,children:(0,t.jsx)(V.Root,{id:d.contentId,role:"tooltip",children:n||r})})]})})});eo.displayName=ei;var ex="TooltipArrow",ep=a.forwardRef((e,a)=>{let{__scopeTooltip:s,...l}=e,r=W(s);return eu(ex,s).isInside?null:(0,t.jsx)(E.Arrow,{...r,...l,ref:a})});ep.displayName=ex;var ef=e.i(47163);function eg(e){let{delayDuration:a=0,...s}=e;return(0,t.jsx)(K,{"data-slot":"tooltip-provider",delayDuration:a,...s})}function ej(e){let{...a}=e;return(0,t.jsx)(eg,{children:(0,t.jsx)(ee,{"data-slot":"tooltip",...a})})}function ev(e){let{...a}=e;return(0,t.jsx)(ea,{"data-slot":"tooltip-trigger",...a})}function ey(e){let{className:a,sideOffset:s=0,children:l,...r}=e;return(0,t.jsx)(en,{children:(0,t.jsxs)(eo,{"data-slot":"tooltip-content",sideOffset:s,className:(0,ef.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",a),...r,children:[l,(0,t.jsx)(ep,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let ew=[{id:"select",label:"Select",visible:!1},{id:"icon",label:"Icon",visible:!0,alwaysVisible:!0},{id:"name",label:"Name",visible:!0,alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"size",label:"Size",visible:!0},{id:"owner",label:"Owner",visible:!0},{id:"group",label:"Group",visible:!1},{id:"permissions",label:"Permissions",visible:!0},{id:"modified",label:"Modified",visible:!0},{id:"actions",label:"Actions",visible:!0,alwaysVisible:!0}];function eb(e){var t,a;if("folder"===e.type)return"Folder";let s=(null==(t=e.extension)?void 0:t.toLowerCase())||"",l=e.mimeType||"",r={pdf:"PDF Document",doc:"Word Document",docx:"Word Document",txt:"Text File",rtf:"Rich Text",odt:"OpenDocument Text",xls:"Excel Spreadsheet",xlsx:"Excel Spreadsheet",csv:"CSV File",ods:"OpenDocument Spreadsheet",ppt:"PowerPoint",pptx:"PowerPoint",odp:"OpenDocument Presentation",jpg:"JPEG Image",jpeg:"JPEG Image",png:"PNG Image",gif:"GIF Image",svg:"SVG Image",webp:"WebP Image",ico:"Icon",bmp:"Bitmap Image",mp4:"MP4 Video",webm:"WebM Video",avi:"AVI Video",mkv:"MKV Video",mov:"QuickTime Video",mp3:"MP3 Audio",wav:"WAV Audio",ogg:"OGG Audio",flac:"FLAC Audio",m4a:"M4A Audio",zip:"ZIP Archive",tar:"TAR Archive",gz:"GZip Archive",rar:"RAR Archive","7z":"7-Zip Archive",js:"JavaScript",ts:"TypeScript",tsx:"TypeScript React",jsx:"JavaScript React",json:"JSON",html:"HTML",css:"CSS",py:"Python",go:"Go",rs:"Rust",java:"Java",c:"C Source",cpp:"C++ Source",h:"Header File",sh:"Shell Script",sql:"SQL",md:"Markdown",yml:"YAML",yaml:"YAML",xml:"XML",log:"Log File",conf:"Config File",cfg:"Config File",ini:"INI File",env:"Environment File"};return r[s]?r[s]:s?s.toUpperCase()+" File":l&&(null==(a=l.split("/")[1])?void 0:a.toUpperCase())||"File"}function eN(e){let{files:s,onNavigate:l,onDownload:r,onDelete:n,onRename:g,onShare:M,onSelectionChange:A,showSelection:P=!1,columns:R,onColumnsChange:E}=e,[_,I]=(0,a.useState)("name"),[L,O]=(0,a.useState)("asc"),[H,B]=(0,a.useState)(new Set),[V,U]=(0,a.useState)(ew.map(e=>({...e,visible:"select"===e.id?P:e.visible}))),G=null!=R?R:V,W=e=>{if(null==e)return"-";if(0===e)return"0 B";let t=["B","KB","MB","GB","TB"],a=e,s=0;for(;a>=1024&&s<t.length-1;)a/=1024,s++;return"".concat(a.toFixed(+(0!==s))," ").concat(t[s])},q=(0,a.useMemo)(()=>[...s].sort((e,t)=>{if("folder"===e.type&&"folder"!==t.type)return -1;if("folder"!==e.type&&"folder"===t.type)return 1;let a=0;switch(_){case"name":a=e.name.localeCompare(t.name,void 0,{numeric:!0});break;case"size":a=(e.size||0)-(t.size||0);break;case"modifiedAt":a=new Date(e.modifiedAt).getTime()-new Date(t.modifiedAt).getTime();break;case"owner":a=(e.owner||"").localeCompare(t.owner||"");break;case"type":a=eb(e).localeCompare(eb(t))}return"asc"===L?a:-a}),[s,_,L]),Z=e=>{var t,a;return null!=(a=null==(t=G.find(t=>t.id===e))?void 0:t.visible)&&a},Y=e=>{let{field:a}=e;return _!==a?null:"asc"===L?(0,t.jsx)(x.ChevronUp,{className:"h-4 w-4 ml-1"}):(0,t.jsx)(p.ChevronDown,{className:"h-4 w-4 ml-1"})},J=e=>{let{field:a,children:s,className:l}=e;return(0,t.jsx)(S.TableHead,{className:l,children:(0,t.jsxs)("button",{className:"flex items-center hover:text-foreground transition-colors font-medium",onClick:()=>{_===a?O("asc"===L?"desc":"asc"):(I(a),O("asc"))},children:[s,(0,t.jsx)(Y,{field:a})]})})};return 0===s.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground border rounded-lg bg-muted/20",children:[(0,t.jsx)(o.Folder,{className:"h-16 w-16 mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"No files or folders"}),(0,t.jsx)("p",{className:"text-sm",children:"Upload files to get started"})]}):(0,t.jsx)(eg,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,t.jsxs)(S.Table,{children:[(0,t.jsx)(S.TableHeader,{children:(0,t.jsxs)(S.TableRow,{className:"bg-muted/50",children:[Z("select")&&(0,t.jsx)(S.TableHead,{className:"w-10",children:(0,t.jsx)(z.Checkbox,{checked:H.size===s.length&&s.length>0,onCheckedChange:e=>{e?(B(new Set(s.map(e=>e.id))),A&&A(s)):(B(new Set),A&&A([]))}})}),(0,t.jsx)(S.TableHead,{className:"w-10"}),(0,t.jsx)(J,{field:"name",className:"min-w-[200px]",children:"Name"}),Z("type")&&(0,t.jsx)(J,{field:"type",className:"w-32",children:"Type"}),Z("size")&&(0,t.jsx)(J,{field:"size",className:"w-24 text-right",children:"Size"}),Z("owner")&&(0,t.jsx)(J,{field:"owner",className:"w-28",children:"Owner"}),Z("group")&&(0,t.jsx)(S.TableHead,{className:"w-28",children:"Group"}),Z("permissions")&&(0,t.jsx)(S.TableHead,{className:"w-28",children:"Permissions"}),Z("modified")&&(0,t.jsx)(J,{field:"modifiedAt",className:"w-44",children:"Modified"}),(0,t.jsx)(S.TableHead,{className:"w-12"})]})}),(0,t.jsx)(S.TableBody,{children:q.map(e=>{var a;let x=function(e){if(!e)return{readable:"Unknown",symbolic:"?"};let t=e.length>=10?e.slice(1,10):e,a=[];if(t.length>=9){let e=t.slice(0,3),s=t.slice(3,6),l=t.slice(6,9),r=e=>{let t="";return"r"===e[0]&&(t+="R"),"w"===e[1]&&(t+="W"),("x"===e[2]||"s"===e[2]||"t"===e[2])&&(t+="X"),t||"-"};a.push("Owner: ".concat(r(e))),a.push("Group: ".concat(r(s))),a.push("Other: ".concat(r(l)))}return{readable:a.join(", ")||e,symbolic:t}}(e.mode);return(0,t.jsxs)(S.TableRow,{className:(0,ef.cn)("group","folder"===e.type&&"cursor-pointer hover:bg-muted/50",H.has(e.id)&&"bg-primary/5"),onClick:()=>"folder"===e.type&&void("folder"===e.type&&l&&l(e.path)),children:[Z("select")&&(0,t.jsx)(S.TableCell,{onClick:e=>e.stopPropagation(),children:(0,t.jsx)(z.Checkbox,{checked:H.has(e.id),onCheckedChange:t=>((e,t)=>{let a=new Set(H);t?a.add(e):a.delete(e),B(a),A&&A(s.filter(e=>a.has(e.id)))})(e.id,t)})}),(0,t.jsx)(S.TableCell,{className:"text-center",children:function(e){var a;if("folder"===e.type)return(0,t.jsx)(o.Folder,{className:"h-5 w-5 text-blue-500"});let s=e.mimeType||"",l=(null==(a=e.extension)?void 0:a.toLowerCase())||"";return s.startsWith("image/")||["jpg","jpeg","png","gif","svg","webp","ico","bmp"].includes(l)?(0,t.jsx)(v,{className:"h-5 w-5 text-green-500"}):s.startsWith("video/")||["mp4","webm","avi","mkv","mov","wmv","flv"].includes(l)?(0,t.jsx)(y,{className:"h-5 w-5 text-purple-500"}):s.startsWith("audio/")||["mp3","wav","ogg","flac","aac","m4a"].includes(l)?(0,t.jsx)(w,{className:"h-5 w-5 text-pink-500"}):["zip","tar","gz","rar","7z","bz2","xz"].includes(l)||s.includes("zip")||s.includes("compressed")||s.includes("archive")?(0,t.jsx)(b,{className:"h-5 w-5 text-yellow-600"}):["xls","xlsx","csv","ods"].includes(l)||s.includes("spreadsheet")||s.includes("excel")?(0,t.jsx)(N,{className:"h-5 w-5 text-green-600"}):["ppt","pptx","odp"].includes(l)||s.includes("presentation")||s.includes("powerpoint")?(0,t.jsx)(C,{className:"h-5 w-5 text-orange-500"}):["doc","docx","odt","rtf"].includes(l)||s.includes("document")||s.includes("msword")?(0,t.jsx)(f.FileText,{className:"h-5 w-5 text-blue-600"}):"pdf"===l||"application/pdf"===s?(0,t.jsx)(k,{className:"h-5 w-5 text-red-500"}):s.startsWith("text/")||["js","ts","tsx","jsx","json","html","css","py","go","rs","java","c","cpp","h","sh","bash","yml","yaml","xml","md","sql","php","rb","swift","kt"].includes(l)?(0,t.jsx)(j,{className:"h-5 w-5 text-cyan-500"}):["txt","log","conf","cfg","ini","env"].includes(l)?(0,t.jsx)(f.FileText,{className:"h-5 w-5 text-gray-500"}):(0,t.jsx)(i.File,{className:"h-5 w-5 text-muted-foreground"})}(e)}),(0,t.jsx)(S.TableCell,{children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium truncate max-w-[300px]",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground truncate max-w-[300px]",children:e.path})]})}),Z("type")&&(0,t.jsx)(S.TableCell,{className:"text-muted-foreground text-sm",children:eb(e)}),Z("size")&&(0,t.jsx)(S.TableCell,{className:"text-right text-muted-foreground tabular-nums",children:"folder"===e.type?"-":W(e.size)}),Z("owner")&&(0,t.jsx)(S.TableCell,{children:(0,t.jsx)("span",{className:"text-sm",children:e.owner||"-"})}),Z("group")&&(0,t.jsx)(S.TableCell,{children:(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.group||"-"})}),Z("permissions")&&(0,t.jsx)(S.TableCell,{children:(0,t.jsxs)(ej,{children:[(0,t.jsx)(ev,{asChild:!0,children:(0,t.jsx)(F.Badge,{variant:"secondary",className:(0,ef.cn)("font-mono text-xs cursor-help",(a=e.mode)?a.length>=10&&"w"===a[8]?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":a.includes("x")?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"),children:x.symbolic})}),(0,t.jsxs)(ey,{side:"top",className:"max-w-xs",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Permissions"}),(0,t.jsx)("p",{className:"text-xs",children:x.readable})]})]})}),Z("modified")&&(0,t.jsx)(S.TableCell,{className:"text-muted-foreground text-sm",children:(e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/864e5);return 0===a?"Today, ".concat(t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})):1===a?"Yesterday, ".concat(t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})):a<7?t.toLocaleDateString("en-US",{weekday:"short",hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})(e.modifiedAt)}),(0,t.jsx)(S.TableCell,{children:(0,t.jsxs)(D.DropdownMenu,{children:[(0,t.jsx)(D.DropdownMenuTrigger,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,t.jsx)(T.Button,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(c.MoreVertical,{className:"h-4 w-4"})})}),(0,t.jsxs)(D.DropdownMenuContent,{align:"end",children:["file"===e.type&&r&&(0,t.jsxs)(D.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),r(e)},children:[(0,t.jsx)(d.Download,{className:"mr-2 h-4 w-4"}),"Download"]}),M&&(0,t.jsxs)(D.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),M(e)},children:[(0,t.jsx)(h.Link2,{className:"mr-2 h-4 w-4"}),"Share"]}),g&&(0,t.jsxs)(D.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),g(e)},children:[(0,t.jsx)(m.Edit,{className:"mr-2 h-4 w-4"}),"Rename"]}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.DropdownMenuSeparator,{}),(0,t.jsxs)(D.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),n(e)},className:"text-destructive focus:text-destructive",children:[(0,t.jsx)(u.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},e.id)})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground px-2",children:[(0,t.jsxs)("span",{children:[s.length," item",1!==s.length?"s":"",H.size>0&&" (".concat(H.size," selected)")]}),(0,t.jsxs)("span",{children:["Total size:"," ",W(s.reduce((e,t)=>e+(t.size||0),0))]})]})]})})}var eC=e.i(91918),ek=e.i(63059);function eS(e){let{...a}=e;return(0,t.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...a})}function eD(e){let{className:a,...s}=e;return(0,t.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,ef.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",a),...s})}function eT(e){let{className:a,...s}=e;return(0,t.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,ef.cn)("inline-flex items-center gap-1.5",a),...s})}function ez(e){let{asChild:a,className:s,...l}=e,r=a?eC.Slot:"a";return(0,t.jsx)(r,{"data-slot":"breadcrumb-link",className:(0,ef.cn)("hover:text-foreground transition-colors",s),...l})}function eF(e){let{className:a,...s}=e;return(0,t.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,ef.cn)("text-foreground font-normal",a),...s})}function eM(e){let{children:a,className:s,...l}=e;return(0,t.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,ef.cn)("[&>svg]:size-3.5",s),...l,children:null!=a?a:(0,t.jsx)(ek.ChevronRight,{})})}e.i(41071);var eA=e.i(94351),eP=e.i(52786);function eR(e){let{path:a,onNavigate:s,rootLabel:l}=e,r=a.split("/").filter(Boolean),n=[{name:l||"Home",navPath:"/",isRoot:!0},...r.map((e,t)=>({name:e,navPath:"/"+r.slice(0,t+1).join("/"),isRoot:!1}))];return(0,t.jsx)(eS,{children:(0,t.jsx)(eD,{children:n.map((e,a)=>{let r=a===n.length-1,i=l?eP.HardDrive:eA.Home;return(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(eT,{children:r?(0,t.jsxs)(eF,{className:"flex items-center gap-2",children:[e.isRoot&&(0,t.jsx)(i,{className:"h-4 w-4"}),e.name]}):(0,t.jsx)(ez,{asChild:!0,children:(0,t.jsxs)("a",{href:"#",onClick:t=>{var a;return a=e.navPath,void(t.preventDefault(),s&&s(a))},className:"flex items-center gap-2 cursor-pointer",children:[e.isRoot&&(0,t.jsx)(i,{className:"h-4 w-4"}),e.name]})})}),!r&&(0,t.jsx)(eM,{})]},e.navPath)})})})}var eE=e.i(89902);e.i(69074);let e_=(0,g.default)("file-up",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);var eI=e.i(75688),eL=e.i(46696);function eO(e){let{currentPath:s,zoneId:l,children:r,className:n,disabled:i=!1}=e,[o,c]=(0,a.useState)(!1),d=(0,a.useRef)(0),{addFiles:u}=(0,eI.useUploadQueue)(),m=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),!i&&(d.current++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&c(!0))},[i]),h=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),d.current--,0===d.current&&c(!1)},[]),x=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),p=(0,a.useCallback)(async e=>{if(e.preventDefault(),e.stopPropagation(),c(!1),d.current=0,i)return;let t=[];if(e.dataTransfer.items){for(let s of Array.from(e.dataTransfer.items))if("file"===s.kind){var a;let e=null==(a=s.webkitGetAsEntry)?void 0:a.call(s);if(e){if(e.isFile){let e=s.getAsFile();e&&t.push(e)}else if(e.isDirectory){let a=await eH(e);t.push(...a)}}else{let e=s.getAsFile();e&&t.push(e)}}}else e.dataTransfer.files&&t.push(...Array.from(e.dataTransfer.files));t.length>0&&(u(t,s,l),eL.toast.success("Added ".concat(t.length," file").concat(1!==t.length?"s":""," to upload queue")))},[i,u,s,l]);return(0,a.useEffect)(()=>{d.current=0,c(!1)},[s,l]),(0,t.jsxs)("div",{className:(0,ef.cn)("relative",n),onDragEnter:m,onDragLeave:h,onDragOver:x,onDrop:p,children:[r,o&&!i&&(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-primary/10 border-2 border-dashed border-primary rounded-lg backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 text-primary",children:[(0,t.jsx)("div",{className:"p-4 bg-primary/20 rounded-full",children:(0,t.jsx)(e_,{className:"h-8 w-8"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-lg font-semibold",children:"Drop files here"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Files will be uploaded to current folder"})]})]})})]})}async function eH(e){let t=[],a=e.createReader(),s=()=>new Promise((e,t)=>{a.readEntries(e,t)}),l=e=>new Promise((t,a)=>{e.file(t,a)}),r=[];do for(let e of r=await s())if(e.isFile)try{let a=await l(e),s=e.fullPath.replace(/^\//,""),r=new File([a],s,{type:a.type,lastModified:a.lastModified});t.push(r)}catch(t){console.warn("Could not read file:",e.fullPath,t)}else if(e.isDirectory){let a=await eH(e);t.push(...a)}while(r.length>0)return t}var eB=e.i(23750),eV=e.i(30374),eU=e.i(30009),eG=e.i(62870),eW=e.i(70065),eq=e.i(10708),eZ=e.i(71428);let eY=(0,g.default)("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var eJ=e.i(16715),eK=e.i(61911),eX=e.i(48256),eQ=e.i(75505),e$=e.i(63209),e0=e.i(72520),e2=e.i(58041),e1=e.i(98919),e4=e.i(31278);let e5=(0,g.default)("folder-input",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);var e8=e.i(37727);let e6=(0,g.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),e3=(0,g.default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var e7=e.i(86536),e9=e.i(77705),te=e.i(54858),tt=e.i(91432),ta=e.i(71435);function ts(e){let{open:s,onOpenChange:l,zoneId:r,selectedFiles:n,currentPath:i,onMove:c}=e,[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)("/"),[x,p]=(0,a.useState)(new Set(["/"])),[f,g]=(0,a.useState)(null),[j,v]=(0,a.useState)(new Map),[y,w]=(0,a.useState)(!1),b=(0,a.useCallback)(async e=>{if(j.has(e))return j.get(e);g(e);try{let t=await te.zoneFilesAPI.listFolders(r,e);return v(a=>new Map(a).set(e,t)),t}catch(e){return console.error("Failed to load folders:",e),[]}finally{g(null)}},[r,j]);(0,a.useEffect)(()=>{s&&(b("/").then(u),h("/"),p(new Set(["/"])),v(new Map))},[s,r]);let N=async e=>{let t=new Set(x);t.has(e)?t.delete(e):(t.add(e),await b(e)),p(t)},C=async()=>{w(!0);try{await c(m),l(!1)}finally{w(!1)}},k=e=>{if(e===i)return!1;for(let t of n)if("folder"===t.type){let a=t.path.replace(/\/$/,"");if(e===a||e.startsWith(a+"/"))return!1}return!0},S=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(j.get(e)||("/"===e?d:[])).map(s=>{let l="/"===e?"/".concat(s.name):"".concat(e,"/").concat(s.name),r=x.has(l),n=m===l,i=f===l,c=k(l),d=!j.has(l)||j.get(l).length>0;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,ef.cn)("flex items-center gap-1 py-1.5 px-2 rounded-md cursor-pointer",n&&c&&"bg-primary text-primary-foreground",!n&&c&&"hover:bg-muted",!c&&"opacity-50 cursor-not-allowed"),style:{paddingLeft:"".concat(16*a+8,"px")},onClick:()=>c&&h(l),children:[(0,t.jsx)("button",{className:"p-0.5 hover:bg-black/10 rounded",onClick:e=>{e.stopPropagation(),N(l)},children:i?(0,t.jsx)(e4.Loader2,{className:"h-4 w-4 animate-spin"}):d?(0,t.jsx)(ek.ChevronRight,{className:(0,ef.cn)("h-4 w-4 transition-transform",r&&"rotate-90")}):(0,t.jsx)("span",{className:"w-4"})}),r?(0,t.jsx)(eQ.FolderOpen,{className:"h-4 w-4 text-yellow-500"}):(0,t.jsx)(o.Folder,{className:"h-4 w-4 text-yellow-500"}),(0,t.jsx)("span",{className:"truncate text-sm",children:s.name})]}),r&&(0,t.jsx)("div",{children:S(l,a+1)})]},l)})},D=n.length,z=1===D?n[0].name:"".concat(D," items");return(0,t.jsx)(eV.Dialog,{open:s,onOpenChange:l,children:(0,t.jsxs)(eV.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(eV.DialogHeader,{children:[(0,t.jsx)(eV.DialogTitle,{children:"Move to..."}),(0,t.jsxs)(eV.DialogDescription,{children:["Select a destination folder for ",z]})]}),(0,t.jsxs)("div",{className:"border rounded-md",children:[(0,t.jsxs)("div",{className:(0,ef.cn)("flex items-center gap-2 py-2 px-3 cursor-pointer border-b","/"===m&&k("/")?"bg-primary text-primary-foreground":"hover:bg-muted",!k("/")&&"opacity-50 cursor-not-allowed"),onClick:()=>k("/")&&h("/"),children:[(0,t.jsx)(eA.Home,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Root"})]}),(0,t.jsx)(ta.ScrollArea,{className:"h-[300px]",children:(0,t.jsx)("div",{className:"p-1",children:"/"===f?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(e4.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===d.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No folders found"}):S("/")})})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Moving to: ",(0,t.jsx)("span",{className:"font-medium",children:m||"/"})]}),(0,t.jsxs)(eV.DialogFooter,{children:[(0,t.jsx)(T.Button,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),(0,t.jsx)(T.Button,{onClick:C,disabled:y||!k(m),children:y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e4.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Moving..."]}):"Move here"})]})]})})}e.i(73827);var tl=e.i(31686);function tr(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(eZ.Skeleton,{className:"h-4 w-24"}),(0,t.jsx)(eZ.Skeleton,{className:"h-10 w-64"})]}),(0,t.jsx)(eZ.Skeleton,{className:"h-6 w-48"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(eZ.Skeleton,{className:"h-10 w-64"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(eZ.Skeleton,{className:"h-10 w-10"}),(0,t.jsx)(eZ.Skeleton,{className:"h-10 w-32"}),(0,t.jsx)(eZ.Skeleton,{className:"h-10 w-32"})]})]}),(0,t.jsx)(eW.Card,{children:(0,t.jsx)(eW.CardContent,{className:"p-0",children:(0,t.jsx)("div",{className:"divide-y",children:[1,2,3,4,5].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4",children:[(0,t.jsx)(eZ.Skeleton,{className:"h-10 w-10 rounded"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(eZ.Skeleton,{className:"h-4 w-48"}),(0,t.jsx)(eZ.Skeleton,{className:"h-3 w-24"})]}),(0,t.jsx)(eZ.Skeleton,{className:"h-8 w-20"})]},e))})})})]})}function tn(){return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsxs)(eW.Card,{className:"max-w-2xl w-full",children:[(0,t.jsxs)(eW.CardHeader,{className:"text-center pb-2",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(e2.Database,{className:"h-8 w-8 text-primary"})}),(0,t.jsx)(eW.CardTitle,{className:"text-2xl",children:"Set Up Storage Zones"}),(0,t.jsx)(eW.CardDescription,{className:"text-base mt-2",children:"Storage zones define where users can store their files. You need to create at least one storage pool and zone to get started."})]}),(0,t.jsxs)(eW.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/50",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium",children:"1"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Create a Storage Pool"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"A storage pool defines a physical location on your server where files will be stored (e.g., /srv/data)."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/50",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium",children:"2"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Create a Share Zone"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"A share zone is a folder within a pool where users can access files. Set the type (personal, group, or public) and access permissions."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/50",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium",children:"3"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Start Using Files"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Once configured, users can upload, organize, and share files through their accessible zones."})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[(0,t.jsx)(T.Button,{asChild:!0,className:"flex-1",children:(0,t.jsxs)(l.default,{href:"/admin/storage/pools",children:[(0,t.jsx)(e2.Database,{className:"mr-2 h-4 w-4"}),"Create Storage Pool",(0,t.jsx)(e0.ArrowRight,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsx)(T.Button,{asChild:!0,variant:"outline",className:"flex-1",children:(0,t.jsxs)(l.default,{href:"/admin/storage/zones",children:[(0,t.jsx)(eQ.FolderOpen,{className:"mr-2 h-4 w-4"}),"Manage Zones"]})})]})]})]})})}function ti(){return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsxs)(eW.Card,{className:"max-w-lg w-full",children:[(0,t.jsxs)(eW.CardHeader,{className:"text-center pb-2",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-muted flex items-center justify-center",children:(0,t.jsx)(eQ.FolderOpen,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsx)(eW.CardTitle,{className:"text-xl",children:"No Storage Access"}),(0,t.jsx)(eW.CardDescription,{className:"text-base mt-2",children:"You don't have access to any storage zones yet."})]}),(0,t.jsxs)(eW.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"rounded-lg border bg-muted/50 p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(e1.Shield,{className:"h-5 w-5 text-muted-foreground shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Storage zones are managed by administrators"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contact your system administrator to request access to a storage zone. They can assign you to personal, group, or public storage areas."})]})]})}),(0,t.jsxs)("div",{className:"text-center pt-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Once you have access, you'll be able to:"}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 mt-3",children:[(0,t.jsxs)(F.Badge,{variant:"secondary",className:"text-xs",children:[(0,t.jsx)(eQ.FolderOpen,{className:"mr-1 h-3 w-3"}),"Browse Files"]}),(0,t.jsxs)(F.Badge,{variant:"secondary",className:"text-xs",children:[(0,t.jsx)(eP.HardDrive,{className:"mr-1 h-3 w-3"}),"Upload & Download"]}),(0,t.jsxs)(F.Badge,{variant:"secondary",className:"text-xs",children:[(0,t.jsx)(eK.Users,{className:"mr-1 h-3 w-3"}),"Share with Others"]})]})]})]})]})})}function to(e){let{message:a,onRetry:s}=e;return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsxs)(eW.Card,{className:"max-w-md w-full",children:[(0,t.jsxs)(eW.CardHeader,{className:"text-center pb-2",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-destructive/10 flex items-center justify-center",children:(0,t.jsx)(e$.AlertCircle,{className:"h-8 w-8 text-destructive"})}),(0,t.jsx)(eW.CardTitle,{className:"text-xl",children:"Unable to Load Storage"}),(0,t.jsx)(eW.CardDescription,{className:"text-base mt-2",children:a})]}),(0,t.jsx)(eW.CardContent,{className:"flex justify-center",children:(0,t.jsxs)(T.Button,{onClick:s,variant:"outline",children:[(0,t.jsx)(eJ.RefreshCw,{className:"mr-2 h-4 w-4"}),"Try Again"]})})]})})}function tc(){let[e,l]=(0,a.useState)(""),[i,o]=(0,a.useState)("/"),[c,d]=(0,a.useState)([]),[m,h]=(0,a.useState)(!0),[x,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)([]),[j,v]=(0,a.useState)(null),[y,w]=(0,a.useState)(!0),[b,N]=(0,a.useState)(null),{user:C,isAuthenticated:k,hasCheckedAuth:S}=(0,tt.useAuth)(),z=(0,s.useRouter)(),[M,A]=(0,a.useState)(0),[P,R]=(0,a.useState)(!1),[E,_]=(0,a.useState)(0),I=(0,a.useRef)(null),L=(null==C?void 0:C.role)==="admin",[O,H]=(0,a.useState)(!1),[B,V]=(0,a.useState)(""),[U,G]=(0,a.useState)(!1),[W,q]=(0,a.useState)(null),[Z,Y]=(0,a.useState)(!1),[J,K]=(0,a.useState)(null),[X,Q]=(0,a.useState)(""),[$,ee]=(0,a.useState)([]),[et,ea]=(0,a.useState)(!1),[es,el]=(0,a.useState)(!1),[er,en]=(0,a.useState)(!1),[ei,eo]=(0,a.useState)(()=>ew.map(e=>({...e,visible:"select"===e.id||e.visible}))),ec=(0,a.useCallback)(async()=>{w(!0),N(null);try{let e=await te.zoneFilesAPI.getAccessibleZones()||[];g(e),e.length>0&&!j&&v(e[0])}catch(e){console.error("Failed to load zones:",e),N("Failed to connect to the server. Please check your connection and try again."),g([])}finally{w(!1)}},[j]),ed=(0,a.useRef)(E);ed.current=E;let eu=(0,a.useCallback)(async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a?p(!0):(h(!0),_(0));try{let s=a?ed.current:0,l=await te.zoneFilesAPI.listPaginated(e,t,{limit:100,offset:s}),r=l.files.map((e,t)=>({id:"".concat(e.path,"-").concat(t),name:e.name,type:e.is_dir?"folder":"file",size:e.size,modifiedAt:e.mod_time,path:e.path,owner:e.owner,group:e.group,mode:e.mode,mimeType:e.mime_type,extension:e.extension}));a?d(e=>[...e,...r]):d(r),A(l.total),R(l.has_more),_(s+l.files.length)}catch(e){console.error("Failed to load files:",e),eL.toast.error("Failed to load files"),a||(d([]),A(0),R(!1))}finally{h(!1),p(!1)}},[]);console.log("[Files] RENDER - hasCheckedAuth:",S,"isAuthenticated:",k,"user:",null==C?void 0:C.username),(0,a.useEffect)(()=>{console.log("[Files] useEffect - hasCheckedAuth:",S,"isAuthenticated:",k),S&&!k&&(console.log("[Files] REDIRECTING to / because not authenticated"),z.replace("/"))},[S,k,z]),(0,a.useEffect)(()=>{k&&ec()},[k,ec]),(0,a.useEffect)(()=>{k&&j&&eu(j.zone_id,i)},[j,i,k,eu]),(0,a.useEffect)(()=>{let t=new IntersectionObserver(t=>{let[a]=t;a.isIntersecting&&P&&!x&&j&&!e&&eu(j.zone_id,i,!0)},{threshold:.1,rootMargin:"100px"}),a=I.current;return a&&t.observe(a),()=>{a&&t.unobserve(a)}},[P,x,j,i,e,eu]);let em=e=>{o(e)},eh=async()=>{if(B.trim()&&j)try{let e="/"===i?"/".concat(B):"".concat(i,"/").concat(B);await te.zoneFilesAPI.createFolder(j.zone_id,e),eL.toast.success("Folder created successfully"),H(!1),V(""),eu(j.zone_id,i)}catch(e){console.error("Failed to create folder:",e),eL.toast.error("Failed to create folder")}},ex=(0,a.useRef)(null),ep=(0,a.useCallback)(()=>{ex.current&&clearTimeout(ex.current),ex.current=setTimeout(()=>{j&&eu(j.zone_id,i),ex.current=null},500)},[j,i,eu]);(0,a.useEffect)(()=>()=>{ex.current&&clearTimeout(ex.current)},[]),(0,eI.useUploadComplete)(ep);let ef=async()=>{if(W&&j)try{await te.zoneFilesAPI.delete(j.zone_id,W.path),eL.toast.success("Deleted ".concat(W.name)),G(!1),q(null),eu(j.zone_id,i)}catch(e){console.error("Failed to delete:",e),eL.toast.error("Failed to delete file")}},eg=async e=>{if(j)try{eL.toast.info("Downloading ".concat(e.name,"...")),await te.zoneFilesAPI.download(j.zone_id,e.path),eL.toast.success("Downloaded ".concat(e.name))}catch(e){console.error("Failed to download:",e),eL.toast.error("Failed to download file")}},ej=async()=>{if(J&&X.trim()&&X!==J.name&&j)try{let e=J.path.substring(0,J.path.lastIndexOf("/"))||"/",t="/"===e?"/".concat(X):"".concat(e,"/").concat(X);await te.zoneFilesAPI.rename(j.zone_id,J.path,t),eL.toast.success("File renamed successfully"),Y(!1),K(null),Q(""),eu(j.zone_id,i)}catch(e){console.error("Failed to rename:",e),eL.toast.error("Failed to rename file")}},ev=(0,a.useCallback)(e=>{ee(e)},[]),ey=async()=>{if(j&&0!==$.length){en(!0);try{let e=$.map(e=>e.path),t=await te.zoneFilesAPI.bulkDelete(j.zone_id,e);t.deleted.length>0&&eL.toast.success("Deleted ".concat(t.deleted.length," item").concat(1!==t.deleted.length?"s":"")),t.failed&&t.failed.length>0&&eL.toast.error("Failed to delete ".concat(t.failed.length," item").concat(1!==t.failed.length?"s":"")),el(!1),ee([]),eu(j.zone_id,i)}catch(e){console.error("Failed to bulk delete:",e),eL.toast.error("Failed to delete files")}finally{en(!1)}}},eb=async e=>{if(j&&0!==$.length){en(!0);try{let t=$.map(e=>e.path),a=await te.zoneFilesAPI.bulkMove(j.zone_id,t,e);a.moved.length>0&&eL.toast.success("Moved ".concat(a.moved.length," item").concat(1!==a.moved.length?"s":"")),a.failed&&a.failed.length>0&&eL.toast.error("Failed to move ".concat(a.failed.length," item").concat(1!==a.failed.length?"s":"")),ea(!1),ee([]),eu(j.zone_id,i)}catch(e){console.error("Failed to bulk move:",e),eL.toast.error("Failed to move files")}finally{en(!1)}}},eC=c.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()));return S&&k?(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsx)(n.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(r.Header,{title:"Files"}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:y?(0,t.jsx)(tr,{}):b?(0,t.jsx)(to,{message:b,onRetry:ec}):0===f.length?L?(0,t.jsx)(tn,{}):(0,t.jsx)(ti,{}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eq.Label,{htmlFor:"zone-select",className:"text-sm font-medium whitespace-nowrap",children:"Storage Zone:"}),(0,t.jsxs)(eG.Select,{value:(null==j?void 0:j.zone_id)||"",onValueChange:e=>{let t=f.find(t=>t.zone_id===e);t&&(v(t),o("/"))},children:[(0,t.jsx)(eG.SelectTrigger,{id:"zone-select",className:"w-64",children:(0,t.jsx)(eG.SelectValue,{placeholder:"Select a zone"})}),(0,t.jsx)(eG.SelectContent,{children:f.map(e=>(0,t.jsx)(eG.SelectItem,{value:e.zone_id,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[function(e){switch(e){case"personal":default:return(0,t.jsx)(eP.HardDrive,{className:"h-4 w-4"});case"group":return(0,t.jsx)(eK.Users,{className:"h-4 w-4"});case"public":return(0,t.jsx)(eX.Globe,{className:"h-4 w-4"})}}(e.zone_type),(0,t.jsx)("span",{children:e.zone_name}),(0,t.jsx)(F.Badge,{variant:function(e){switch(e){case"personal":default:return"default";case"group":return"secondary";case"public":return"outline"}}(e.zone_type),className:"ml-2 text-xs",children:e.zone_type})]})},e.zone_id))})]})]}),(null==j?void 0:j.description)&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:j.description})]}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eR,{path:i,onNavigate:em,rootLabel:j.zone_name}),$.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-primary/10 border border-primary/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e6,{className:"h-4 w-4 text-primary"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[$.length," selected"]})]}),(0,t.jsx)("div",{className:"h-4 w-px bg-border"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[j.can_upload&&(0,t.jsxs)(T.Button,{variant:"outline",size:"sm",onClick:()=>ea(!0),disabled:er,children:[(0,t.jsx)(e5,{className:"mr-2 h-4 w-4"}),"Move"]}),(0,t.jsxs)(T.Button,{variant:"outline",size:"sm",onClick:()=>el(!0),disabled:er,className:"text-destructive hover:text-destructive",children:[(0,t.jsx)(u.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)(T.Button,{variant:"ghost",size:"sm",onClick:()=>{ee([])},children:[(0,t.jsx)(e8.X,{className:"mr-2 h-4 w-4"}),"Clear"]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsx)(eB.Input,{type:"search",placeholder:"Search files...",value:e,onChange:e=>l(e.target.value),className:"max-w-md"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(T.Button,{variant:"outline",size:"icon",onClick:()=>{j&&eu(j.zone_id,i)},disabled:m,children:(0,t.jsx)(eJ.RefreshCw,{className:"h-4 w-4 ".concat(m?"animate-spin":"")})}),j.can_upload&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(T.Button,{variant:"outline",onClick:()=>{V(""),H(!0)},children:[(0,t.jsx)(eY,{className:"mr-2 h-4 w-4"}),"New Folder"]}),(0,t.jsx)(eE.UploadButton,{currentPath:i,onUploadComplete:ep,zoneId:j.zone_id})]}),(0,t.jsxs)(D.DropdownMenu,{children:[(0,t.jsx)(D.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(T.Button,{variant:"outline",size:"sm",className:"h-9",children:[(0,t.jsx)(e3,{className:"h-4 w-4 mr-2"}),"Columns"]})}),(0,t.jsxs)(D.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,t.jsx)(D.DropdownMenuLabel,{children:"Toggle columns"}),(0,t.jsx)(D.DropdownMenuSeparator,{}),ei.filter(e=>!e.alwaysVisible&&"select"!==e.id).map(e=>(0,t.jsxs)(D.DropdownMenuCheckboxItem,{checked:e.visible,onCheckedChange:()=>{var t;return t=e.id,void eo(e=>e.map(e=>e.id!==t||e.alwaysVisible?e:{...e,visible:!e.visible}))},children:[e.visible?(0,t.jsx)(e7.Eye,{className:"h-4 w-4 mr-2"}):(0,t.jsx)(e9.EyeOff,{className:"h-4 w-4 mr-2"}),e.label]},e.id))]})]})]})]}),(0,t.jsx)(eO,{currentPath:i,zoneId:j.zone_id,disabled:!j.can_upload,className:"min-h-[300px]",children:m?(0,t.jsx)(eW.Card,{children:(0,t.jsx)(eW.CardContent,{className:"p-0",children:(0,t.jsx)("div",{className:"divide-y",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4",children:[(0,t.jsx)(eZ.Skeleton,{className:"h-10 w-10 rounded"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(eZ.Skeleton,{className:"h-4 w-48"}),(0,t.jsx)(eZ.Skeleton,{className:"h-3 w-24"})]})]},e))})})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eN,{files:eC,onNavigate:em,onDelete:e=>{q(e),G(!0)},onDownload:eg,onRename:e=>{K(e),Q(e.name),Y(!0)},showSelection:!0,onSelectionChange:ev,columns:ei,onColumnsChange:eo}),!e&&(0,t.jsx)("div",{ref:I,className:"flex justify-center py-4",children:x?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(e4.Loader2,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:"Loading more files..."})]}):P?(0,t.jsxs)(T.Button,{variant:"ghost",onClick:()=>{j&&P&&!x&&eu(j.zone_id,i,!0)},className:"text-muted-foreground",children:[c.length," of ",M," files loaded"]}):c.length>0?(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[c.length," file",1!==c.length?"s":""," loaded"]}):null})]})})]})]})})})]}),(0,t.jsx)(eV.Dialog,{open:O,onOpenChange:H,children:(0,t.jsxs)(eV.DialogContent,{children:[(0,t.jsxs)(eV.DialogHeader,{children:[(0,t.jsx)(eV.DialogTitle,{children:"Create New Folder"}),(0,t.jsx)(eV.DialogDescription,{children:"Enter a name for the new folder."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(eq.Label,{htmlFor:"folder-name",children:"Folder name"}),(0,t.jsx)(eB.Input,{id:"folder-name",value:B,onChange:e=>V(e.target.value),placeholder:"New Folder",onKeyDown:e=>{"Enter"===e.key&&eh()}})]})}),(0,t.jsxs)(eV.DialogFooter,{children:[(0,t.jsx)(T.Button,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),(0,t.jsx)(T.Button,{onClick:eh,disabled:!B.trim(),children:"Create"})]})]})}),(0,t.jsx)(eU.AlertDialog,{open:U,onOpenChange:G,children:(0,t.jsxs)(eU.AlertDialogContent,{children:[(0,t.jsxs)(eU.AlertDialogHeader,{children:[(0,t.jsxs)(eU.AlertDialogTitle,{children:["Delete ",(null==W?void 0:W.type)==="folder"?"Folder":"File"]}),(0,t.jsxs)(eU.AlertDialogDescription,{children:['Are you sure you want to delete "',null==W?void 0:W.name,'"?',(null==W?void 0:W.type)==="folder"&&" This will delete all contents inside the folder.","This action cannot be undone."]})]}),(0,t.jsxs)(eU.AlertDialogFooter,{children:[(0,t.jsx)(eU.AlertDialogCancel,{children:"Cancel"}),(0,t.jsx)(eU.AlertDialogAction,{onClick:ef,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),(0,t.jsx)(eV.Dialog,{open:Z,onOpenChange:Y,children:(0,t.jsxs)(eV.DialogContent,{children:[(0,t.jsxs)(eV.DialogHeader,{children:[(0,t.jsxs)(eV.DialogTitle,{children:["Rename ",(null==J?void 0:J.type)==="folder"?"Folder":"File"]}),(0,t.jsxs)(eV.DialogDescription,{children:['Enter a new name for "',null==J?void 0:J.name,'".']})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(eq.Label,{htmlFor:"new-name",children:"New name"}),(0,t.jsx)(eB.Input,{id:"new-name",value:X,onChange:e=>Q(e.target.value),onKeyDown:e=>{"Enter"===e.key&&ej()}})]})}),(0,t.jsxs)(eV.DialogFooter,{children:[(0,t.jsx)(T.Button,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),(0,t.jsx)(T.Button,{onClick:ej,disabled:!X.trim()||X===(null==J?void 0:J.name),children:"Rename"})]})]})}),(0,t.jsx)(eU.AlertDialog,{open:es,onOpenChange:el,children:(0,t.jsxs)(eU.AlertDialogContent,{children:[(0,t.jsxs)(eU.AlertDialogHeader,{children:[(0,t.jsxs)(eU.AlertDialogTitle,{children:["Delete ",$.length," item",1!==$.length?"s":"","?"]}),(0,t.jsxs)(eU.AlertDialogDescription,{children:["Are you sure you want to delete the selected items?",$.some(e=>"folder"===e.type)&&" Folders will have all their contents deleted.","This action cannot be undone."]})]}),(0,t.jsxs)(eU.AlertDialogFooter,{children:[(0,t.jsx)(eU.AlertDialogCancel,{disabled:er,children:"Cancel"}),(0,t.jsx)(eU.AlertDialogAction,{onClick:ey,disabled:er,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:er?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e4.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete All"})]})]})}),j&&(0,t.jsx)(ts,{open:et,onOpenChange:ea,zoneId:j.zone_id,selectedFiles:$.map(e=>({name:e.name,path:e.path,type:e.type})),currentPath:i,onMove:eb})]}):(0,t.jsx)(tl.FilesSkeleton,{})}}]);