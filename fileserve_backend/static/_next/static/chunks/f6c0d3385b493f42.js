(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8660,e=>{"use strict";e.s(["default",()=>D]);var s=e.i(18050),a=e.i(71645),l=e.i(18566),n=e.i(49786),r=e.i(81868),t=e.i(70065),i=e.i(94179),d=e.i(67881),o=e.i(62870),c=e.i(23750),m=e.i(10708),x=e.i(84762),h=e.i(19036),u=e.i(91432),p=e.i(54858),j=e.i(81947);e.i(73827);var g=e.i(59467),_=e.i(46696),b=e.i(71689),f=e.i(72520),w=e.i(43531),v=e.i(61911),N=e.i(48256),y=e.i(84614),S=e.i(78094),C=e.i(58524),k=e.i(98919),A=e.i(27025),L=e.i(63059),I=e.i(94351),B=e.i(52786),P=e.i(18393),F=e.i(52571),U=e.i(63209);function D(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)(g.PageSkeleton,{title:"Edit Zone"}),children:(0,s.jsx)(M,{})})}let z={share_name:"",comment:"",valid_users:"",invalid_users:"",write_list:"",read_list:"",create_mask:"0644",directory_mask:"0755",force_user:"",force_group:"",veto_files:"",inherit:!1},q={export_path:"",allowed_hosts:["*"],root_squash:!0,all_squash:!1,anon_uid:65534,anon_gid:65534,sync:!0,no_subtree_check:!0,secure:!0,fsid:""},T={public_enabled:!1,max_link_expiry:0,allow_download:!0,allow_upload:!1,allow_preview:!0,allow_listing:!0,require_auth:!0},G=[{id:"basic",label:"Basic Info",icon:F.Info},{id:"access",label:"Access Control",icon:k.Shield},{id:"smb",label:"SMB Sharing",icon:P.Server},{id:"nfs",label:"NFS Sharing",icon:B.HardDrive},{id:"web",label:"Web Sharing",icon:C.Link2},{id:"review",label:"Review",icon:w.Check}];function M(){let e=(0,l.useRouter)(),D=(0,l.useSearchParams)().get("id"),{user:M,isAuthenticated:R,isLoading:V}=(0,u.useAuth)(),[E,H]=(0,a.useState)(0),[Z,W]=(0,a.useState)([]),[O,K]=(0,a.useState)([]),[Q,$]=(0,a.useState)([]),[J,X]=(0,a.useState)(!0),[Y,ee]=(0,a.useState)(!1),[es,ea]=(0,a.useState)(null),[el,en]=(0,a.useState)(!0),[er,et]=(0,a.useState)(!0),[ei,ed]=(0,a.useState)(""),[eo,ec]=(0,a.useState)([]),[em,ex]=(0,a.useState)(!1),[eh,eu]=(0,a.useState)(""),[ep,ej]=(0,a.useState)(""),[eg,e_]=(0,a.useState)(""),[eb,ef]=(0,a.useState)(""),[ew,ev]=(0,a.useState)(""),[eN,ey]=(0,a.useState)(null),[eS,eC]=(0,a.useState)(!1),[ek,eA]=(0,a.useState)(""),[eL,eI]=(0,a.useState)(""),[eB,eP]=(0,a.useState)(""),[eF,eU]=(0,a.useState)(!1),[eD,ez]=(0,a.useState)({pool_id:"",name:"",path:"",description:"",zone_type:"group",enabled:!0,auto_provision:!1,allowed_users:[],allowed_groups:[],deny_users:[],deny_groups:[],allow_guest_access:!1,read_only:!1,browsable:!0,smb_enabled:!0,smb_options:{...z},nfs_enabled:!1,nfs_options:{...q},web_enabled:!0,web_options:{...T},max_quota_per_user:0});(0,a.useEffect)(()=>{if(!V){if(!R)return void e.replace("/");M&&"user"===M.role&&e.replace("/dashboard")}},[V,R,M,e]),(0,a.useEffect)(()=>{if(!D){_.toast.error("No zone ID provided"),e.replace("/admin/storage/zones");return}let s=async()=>{try{let[e,s,a,l,n]=await Promise.all([p.poolsAPI.list(),p.usersAPI.list(),p.systemUsersAPI.list(!0),p.systemUsersAPI.listGroups(),p.zonesAPI.get(D)]);W(e||[]),ea(n);let r=(s||[]).map(e=>e.username),t=(a||[]).map(e=>e.username),i=Array.from(new Set([...r,...t])).sort(),d=(l||[]).map(e=>e.name);if(K(i),$(d),n){let s=n.allowed_users&&n.allowed_users.length>0,a=n.allowed_groups&&n.allowed_groups.length>0;en(!s),et(!a),ez({pool_id:n.pool_id,name:n.name,path:n.path,description:n.description||"",zone_type:n.zone_type,enabled:n.enabled,auto_provision:n.auto_provision||!1,allowed_users:n.allowed_users||[],allowed_groups:n.allowed_groups||[],deny_users:n.deny_users||[],deny_groups:n.deny_groups||[],allow_guest_access:n.allow_guest_access||!1,read_only:n.read_only||!1,browsable:!1!==n.browsable,smb_enabled:n.smb_enabled||!1,smb_options:n.smb_options||{...z},nfs_enabled:n.nfs_enabled||!1,nfs_options:n.nfs_options||{...q},web_enabled:!1!==n.allow_web_shares,web_options:n.web_options||{...T},max_quota_per_user:(n.max_quota_per_user||0)/1024/1024/1024});let l=null==e?void 0:e.find(e=>e.id===n.pool_id);l&&eq(l.path)}try{let e=await p.sharingServicesAPI.getSambaUsers();ey(e)}catch(e){}}catch(s){_.toast.error("Failed to load zone data: ".concat(s)),e.replace("/admin/storage/zones")}finally{X(!1)}};R&&(null==M?void 0:M.role)==="admin"&&s()},[R,M,D,e]);let eq=async e=>{ex(!0);try{let s=await p.storageAPI.browseDirectories(e);ed(s.current_path),ec(s.entries.filter(e=>e.is_dir))}catch(e){_.toast.error("Failed to browse directory: ".concat(e))}finally{ex(!1)}},eT=()=>{let e=Z.find(e=>e.id===eD.pool_id);return e?"".concat(e.path,"/").concat(eD.path).replace(/\/+/g,"/").replace(/\/$/,""):""},eG=(e,s,a)=>{s&&!eD[e].includes(s)&&(ez(a=>({...a,[e]:[...a[e],s]})),a(""))},eM=(e,s)=>{ez(a=>({...a,[e]:a[e].filter(e=>e!==s)}))},eR=()=>{ew&&!eD.nfs_options.allowed_hosts.includes(ew)&&(ez(e=>({...e,nfs_options:{...e.nfs_options,allowed_hosts:[...e.nfs_options.allowed_hosts,ew]}})),ev(""))},eV=async()=>{if(D){ee(!0);try{await p.zonesAPI.update(D,{pool_id:eD.pool_id,name:eD.name,path:eD.path,description:eD.description,zone_type:eD.zone_type,enabled:eD.enabled,auto_provision:eD.auto_provision,allowed_users:eD.allowed_users,allowed_groups:eD.allowed_groups,deny_users:eD.deny_users,deny_groups:eD.deny_groups,allow_network_shares:eD.smb_enabled||eD.nfs_enabled,allow_web_shares:eD.web_enabled,allow_guest_access:eD.allow_guest_access,smb_enabled:eD.smb_enabled,nfs_enabled:eD.nfs_enabled,smb_options:eD.smb_enabled?eD.smb_options:void 0,nfs_options:eD.nfs_enabled?eD.nfs_options:void 0,web_options:eD.web_enabled?eD.web_options:void 0,max_quota_per_user:1024*eD.max_quota_per_user*1048576,read_only:eD.read_only,browsable:eD.browsable}),_.toast.success("Zone updated successfully!"),e.push("/admin/storage/zones")}catch(e){_.toast.error("Failed to update zone: ".concat(e))}finally{ee(!1)}}};if(V&&!M||!R||M&&"admin"!==M.role||J)return(0,s.jsx)(g.PageSkeleton,{title:"Edit Zone"});let eE=Z.find(e=>e.id===eD.pool_id);return(0,s.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,s.jsx)(r.Sidebar,{}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsx)(n.Header,{}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)(d.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/admin/storage/zones"),children:[(0,s.jsx)(b.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Zones"]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Edit Share Zone"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Modify zone configuration for ",(null==es?void 0:es.name)||"..."]})]}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:G.map((e,a)=>{let l=e.icon,n=a===E,r=a<E;return(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors cursor-pointer ".concat(n?"border-primary bg-primary text-primary-foreground":r?"border-primary bg-primary/20 text-primary":"border-muted bg-muted text-muted-foreground"),onClick:()=>H(a),children:r?(0,s.jsx)(w.Check,{className:"h-5 w-5"}):(0,s.jsx)(l,{className:"h-5 w-5"})}),(0,s.jsx)("span",{className:"ml-2 text-sm font-medium cursor-pointer ".concat(n?"text-foreground":"text-muted-foreground"),onClick:()=>H(a),children:e.label}),a<G.length-1&&(0,s.jsx)(L.ChevronRight,{className:"h-4 w-4 mx-4 text-muted-foreground"})]},e.id)})}),(0,s.jsx)(t.Card,{children:(0,s.jsxs)(t.CardContent,{className:"pt-6",children:[0===E&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"pool",children:"Storage Pool *"}),(0,s.jsxs)(o.Select,{value:eD.pool_id,onValueChange:e=>{ez(s=>({...s,pool_id:e}));let s=Z.find(s=>s.id===e);s&&eq(s.path)},children:[(0,s.jsx)(o.SelectTrigger,{children:(0,s.jsx)(o.SelectValue,{placeholder:"Select a pool"})}),(0,s.jsx)(o.SelectContent,{children:Z.map(e=>(0,s.jsx)(o.SelectItem,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(B.HardDrive,{className:"h-4 w-4"}),e.name," (",e.path,")"]})},e.id))})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"name",children:"Zone Name *"}),(0,s.jsx)(c.Input,{id:"name",placeholder:"Team Documents",value:eD.name,onChange:e=>ez(s=>({...s,name:e.target.value}))})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"path",children:"Zone Path *"}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)(c.Input,{id:"path",placeholder:"team-docs",value:eD.path,onChange:e=>{var s;return s=e.target.value,void ez(e=>({...e,path:s}))},className:"flex-1"})}),eE&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Full path: ",(0,s.jsx)("code",{className:"bg-muted px-1 rounded",children:eT()})]})]}),eE&&(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)(m.Label,{className:"text-sm font-medium",children:"Browse Existing Directories"}),(0,s.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(I.Home,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"font-mono",children:ei})]}),(0,s.jsx)("div",{className:"mt-2 max-h-48 overflow-y-auto border rounded",children:em?(0,s.jsx)("div",{className:"p-4 text-center text-muted-foreground",children:"Loading..."}):0===eo.length?(0,s.jsx)("div",{className:"p-4 text-center text-muted-foreground",children:"No subdirectories"}):eo.map(e=>(0,s.jsxs)("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-muted text-left text-sm",onClick:()=>(e=>{let s=Z.find(e=>e.id===eD.pool_id);if(s){let a=e.path.replace(s.path,"").replace(/^\//,"");ez(e=>({...e,path:a}))}eq(e.path)})(e),children:[(0,s.jsx)(A.Folder,{className:"h-4 w-4 text-blue-500"}),(0,s.jsx)("span",{children:e.name}),!e.writable&&(0,s.jsx)(i.Badge,{variant:"outline",className:"ml-auto text-xs",children:"Read-only"})]},e.path))})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"zone_type",children:"Zone Type *"}),(0,s.jsxs)(o.Select,{value:eD.zone_type,onValueChange:e=>ez(s=>({...s,zone_type:e})),children:[(0,s.jsx)(o.SelectTrigger,{children:(0,s.jsx)(o.SelectValue,{})}),(0,s.jsxs)(o.SelectContent,{children:[(0,s.jsx)(o.SelectItem,{value:"personal",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(y.User,{className:"h-4 w-4"}),"Personal - User home directories"]})}),(0,s.jsx)(o.SelectItem,{value:"group",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Users,{className:"h-4 w-4"}),"Group - Team/department shares"]})}),(0,s.jsx)(o.SelectItem,{value:"public",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N.Globe,{className:"h-4 w-4"}),"Public - Publicly accessible shares"]})})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"description",children:"Description"}),(0,s.jsx)(x.Textarea,{id:"description",placeholder:"Describe the purpose of this zone...",value:eD.description,onChange:e=>ez(s=>({...s,description:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Enabled"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Zone is active and accessible"})]}),(0,s.jsx)(h.Switch,{checked:eD.enabled,onCheckedChange:e=>ez(s=>({...s,enabled:e}))})]}),"personal"===eD.zone_type&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Auto-Provision"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automatically create directories for new users"})]}),(0,s.jsx)(h.Switch,{checked:eD.auto_provision,onCheckedChange:e=>ez(s=>({...s,auto_provision:e}))})]})]})}),1===E&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"General Permissions"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Read Only"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Prevent any write operations"})]}),(0,s.jsx)(h.Switch,{checked:eD.read_only,onCheckedChange:e=>ez(s=>({...s,read_only:e}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Browsable"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Show in network browser"})]}),(0,s.jsx)(h.Switch,{checked:eD.browsable,onCheckedChange:e=>ez(s=>({...s,browsable:e}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Guest Access"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Allow anonymous access"})]}),(0,s.jsx)(h.Switch,{checked:eD.allow_guest_access,onCheckedChange:e=>ez(s=>({...s,allow_guest_access:e}))})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Allow All Users"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Grant access to all authenticated users"})]}),(0,s.jsx)(h.Switch,{checked:el,onCheckedChange:e=>{en(e),e&&ez(e=>({...e,allowed_users:[]}))}})]}),!el&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Label,{children:"Allowed Users"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(o.Select,{value:eh,onValueChange:eu,children:[(0,s.jsx)(o.SelectTrigger,{className:"flex-1",children:(0,s.jsx)(o.SelectValue,{placeholder:"Select user"})}),(0,s.jsx)(o.SelectContent,{children:O.filter(e=>!eD.allowed_users.includes(e)).map(e=>(0,s.jsx)(o.SelectItem,{value:e,children:e},e))})]}),(0,s.jsx)(d.Button,{variant:"outline",onClick:()=>eG("allowed_users",eh,eu),children:"Add"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[eD.allowed_users.map(e=>(0,s.jsxs)(i.Badge,{variant:"secondary",className:"cursor-pointer",onClick:()=>eM("allowed_users",e),children:[(0,s.jsx)(y.User,{className:"h-3 w-3 mr-1"}),e,(0,s.jsx)("span",{className:"ml-1",children:"×"})]},e)),0===eD.allowed_users.length&&(0,s.jsxs)("span",{className:"text-sm text-muted-foreground text-amber-600",children:[(0,s.jsx)(U.AlertCircle,{className:"h-3 w-3 inline mr-1"}),"No users selected - no one will have access"]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Allow All Groups"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No group restriction (access based on user settings)"})]}),(0,s.jsx)(h.Switch,{checked:er,onCheckedChange:e=>{et(e),e&&ez(e=>({...e,allowed_groups:[]}))}})]}),!er&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Label,{children:"Allowed Groups"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(o.Select,{value:ep,onValueChange:ej,children:[(0,s.jsx)(o.SelectTrigger,{className:"flex-1",children:(0,s.jsx)(o.SelectValue,{placeholder:"Select group"})}),(0,s.jsx)(o.SelectContent,{children:Q.filter(e=>!eD.allowed_groups.includes(e)).map(e=>(0,s.jsx)(o.SelectItem,{value:e,children:e},e))})]}),(0,s.jsx)(d.Button,{variant:"outline",onClick:()=>eG("allowed_groups",ep,ej),children:"Add"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[eD.allowed_groups.map(e=>(0,s.jsxs)(i.Badge,{variant:"secondary",className:"cursor-pointer",onClick:()=>eM("allowed_groups",e),children:[(0,s.jsx)(v.Users,{className:"h-3 w-3 mr-1"}),e,(0,s.jsx)("span",{className:"ml-1",children:"×"})]},e)),0===eD.allowed_groups.length&&(0,s.jsxs)("span",{className:"text-sm text-muted-foreground text-amber-600",children:[(0,s.jsx)(U.AlertCircle,{className:"h-3 w-3 inline mr-1"}),"No groups selected"]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.Label,{children:"Denied Users"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(o.Select,{value:eg,onValueChange:e_,children:[(0,s.jsx)(o.SelectTrigger,{className:"flex-1",children:(0,s.jsx)(o.SelectValue,{placeholder:"Select user to deny"})}),(0,s.jsx)(o.SelectContent,{children:O.filter(e=>!eD.deny_users.includes(e)).map(e=>(0,s.jsx)(o.SelectItem,{value:e,children:e},e))})]}),(0,s.jsx)(d.Button,{variant:"outline",onClick:()=>eG("deny_users",eg,e_),children:"Add"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[eD.deny_users.map(e=>(0,s.jsxs)(i.Badge,{variant:"destructive",className:"cursor-pointer",onClick:()=>eM("deny_users",e),children:[(0,s.jsx)(y.User,{className:"h-3 w-3 mr-1"}),e,(0,s.jsx)("span",{className:"ml-1",children:"×"})]},e)),0===eD.deny_users.length&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"No users denied"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.Label,{children:"Denied Groups"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(o.Select,{value:eb,onValueChange:ef,children:[(0,s.jsx)(o.SelectTrigger,{className:"flex-1",children:(0,s.jsx)(o.SelectValue,{placeholder:"Select group to deny"})}),(0,s.jsx)(o.SelectContent,{children:Q.filter(e=>!eD.deny_groups.includes(e)).map(e=>(0,s.jsx)(o.SelectItem,{value:e,children:e},e))})]}),(0,s.jsx)(d.Button,{variant:"outline",onClick:()=>eG("deny_groups",eb,ef),children:"Add"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[eD.deny_groups.map(e=>(0,s.jsxs)(i.Badge,{variant:"destructive",className:"cursor-pointer",onClick:()=>eM("deny_groups",e),children:[(0,s.jsx)(v.Users,{className:"h-3 w-3 mr-1"}),e,(0,s.jsx)("span",{className:"ml-1",children:"×"})]},e)),0===eD.deny_groups.length&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"No groups denied"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.Label,{htmlFor:"quota",children:"User Quota (GB)"}),(0,s.jsx)(c.Input,{id:"quota",type:"number",min:"0",placeholder:"0 = unlimited",value:eD.max_quota_per_user||"",onChange:e=>ez(s=>({...s,max_quota_per_user:parseInt(e.target.value)||0}))}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Maximum storage per user in this zone (0 = unlimited)"})]})]})}),2===E&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between pb-4 border-b",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium flex items-center gap-2",children:[(0,s.jsx)(P.Server,{className:"h-5 w-5"}),"SMB/CIFS Sharing"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure Windows file sharing (Samba)"})]}),(0,s.jsx)(h.Switch,{checked:eD.smb_enabled,onCheckedChange:e=>ez(s=>({...s,smb_enabled:e}))})]}),eD.smb_enabled&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"smb_share_name",children:"Share Name"}),(0,s.jsx)(c.Input,{id:"smb_share_name",placeholder:eD.name||"share-name",value:eD.smb_options.share_name,onChange:e=>ez(s=>({...s,smb_options:{...s.smb_options,share_name:e.target.value}}))}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Name shown in Windows network"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"smb_comment",children:"Comment"}),(0,s.jsx)(c.Input,{id:"smb_comment",placeholder:"Team documents share",value:eD.smb_options.comment,onChange:e=>ez(s=>({...s,smb_options:{...s.smb_options,comment:e.target.value}}))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"smb_create_mask",children:"File Create Mask"}),(0,s.jsx)(c.Input,{id:"smb_create_mask",placeholder:"0644",value:eD.smb_options.create_mask,onChange:e=>ez(s=>({...s,smb_options:{...s.smb_options,create_mask:e.target.value}}))}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Permissions for new files"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"smb_dir_mask",children:"Directory Create Mask"}),(0,s.jsx)(c.Input,{id:"smb_dir_mask",placeholder:"0755",value:eD.smb_options.directory_mask,onChange:e=>ez(s=>({...s,smb_options:{...s.smb_options,directory_mask:e.target.value}}))}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Permissions for new directories"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"smb_force_user",children:"Force User"}),(0,s.jsx)(c.Input,{id:"smb_force_user",placeholder:"nobody",value:eD.smb_options.force_user,onChange:e=>ez(s=>({...s,smb_options:{...s.smb_options,force_user:e.target.value}}))}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Run all operations as this user"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"smb_force_group",children:"Force Group"}),(0,s.jsx)(c.Input,{id:"smb_force_group",placeholder:"nogroup",value:eD.smb_options.force_group,onChange:e=>ez(s=>({...s,smb_options:{...s.smb_options,force_group:e.target.value}}))}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Run all operations as this group"})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"smb_veto",children:"Veto Files"}),(0,s.jsx)(c.Input,{id:"smb_veto",placeholder:"/*.exe/*.bat/*.cmd/",value:eD.smb_options.veto_files,onChange:e=>ez(s=>({...s,smb_options:{...s.smb_options,veto_files:e.target.value}}))}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Files to hide/block (Samba veto pattern)"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Inherit Permissions"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"New files inherit parent permissions"})]}),(0,s.jsx)(h.Switch,{checked:eD.smb_options.inherit,onCheckedChange:e=>ez(s=>({...s,smb_options:{...s.smb_options,inherit:e}}))})]}),(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{className:"text-base font-medium",children:"Samba Password Management"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage Samba passwords for users accessing this share"})]}),eN&&eN.available&&eN.users.length>0&&(0,s.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:"Users with Samba passwords:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:eN.users.map(e=>(0,s.jsxs)(i.Badge,{variant:"secondary",children:[(0,s.jsx)(y.User,{className:"h-3 w-3 mr-1"}),e]},e))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Update Samba Password"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set or update a Samba password for a user"})]}),(0,s.jsx)(h.Switch,{checked:eS,onCheckedChange:eC})]}),eS&&(0,s.jsxs)("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[(0,s.jsxs)(j.Alert,{children:[(0,s.jsx)(F.Info,{className:"h-4 w-4"}),(0,s.jsx)(j.AlertTitle,{children:"Samba Authentication"}),(0,s.jsx)(j.AlertDescription,{children:"Windows clients use Samba's password database, not Linux passwords. Set or update the password for users who need SMB access."})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"samba_user",children:"Username"}),(0,s.jsxs)(o.Select,{value:ek,onValueChange:eA,children:[(0,s.jsx)(o.SelectTrigger,{children:(0,s.jsx)(o.SelectValue,{placeholder:"Select user"})}),(0,s.jsxs)(o.SelectContent,{children:[eD.smb_options.force_user&&(0,s.jsxs)(o.SelectItem,{value:eD.smb_options.force_user,children:[eD.smb_options.force_user," (Force User)"]}),O.filter(e=>e!==eD.smb_options.force_user).map(e=>(0,s.jsx)(o.SelectItem,{value:e,children:e},e))]})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:eD.smb_options.force_user?'Recommended: "'.concat(eD.smb_options.force_user,'" (your force user)'):"Select the user who needs SMB access"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"samba_password",children:"New Samba Password"}),(0,s.jsx)(c.Input,{id:"samba_password",type:"password",placeholder:"Enter new Samba password",value:eL,onChange:e=>eI(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"samba_password_confirm",children:"Confirm Password"}),(0,s.jsx)(c.Input,{id:"samba_password_confirm",type:"password",placeholder:"Confirm Samba password",value:eB,onChange:e=>eP(e.target.value)}),eL&&eB&&eL!==eB&&(0,s.jsx)("p",{className:"text-xs text-destructive",children:"Passwords do not match"})]}),(0,s.jsx)(d.Button,{type:"button",variant:"secondary",disabled:!ek||!eL||eL!==eB||eF,onClick:async()=>{if(ek&&eL&&eL===eB){eU(!0);try{await p.sharingServicesAPI.setSambaPassword(ek,eL),_.toast.success("Samba password updated for ".concat(ek)),eI(""),eP(""),eC(!1);let e=await p.sharingServicesAPI.getSambaUsers();ey(e)}catch(e){_.toast.error("Failed to set Samba password: ".concat(e))}finally{eU(!1)}}},children:eF?"Setting Password...":"Set Samba Password"})]})]})]})]}),3===E&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between pb-4 border-b",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium flex items-center gap-2",children:[(0,s.jsx)(B.HardDrive,{className:"h-5 w-5"}),"NFS Sharing"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure Network File System exports"})]}),(0,s.jsx)(h.Switch,{checked:eD.nfs_enabled,onCheckedChange:e=>ez(s=>({...s,nfs_enabled:e}))})]}),eD.nfs_enabled&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.Label,{children:"Allowed Hosts"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.Input,{placeholder:"192.168.1.0/24 or hostname",value:ew,onChange:e=>ev(e.target.value),onKeyDown:e=>"Enter"===e.key&&eR()}),(0,s.jsx)(d.Button,{variant:"outline",onClick:eR,children:"Add"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:eD.nfs_options.allowed_hosts.map(e=>(0,s.jsxs)(i.Badge,{variant:"secondary",className:"cursor-pointer",onClick:()=>{ez(s=>({...s,nfs_options:{...s.nfs_options,allowed_hosts:s.nfs_options.allowed_hosts.filter(s=>s!==e)}}))},children:[(0,s.jsx)(S.Network,{className:"h-3 w-3 mr-1"}),e,(0,s.jsx)("span",{className:"ml-1",children:"×"})]},e))}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Networks/hosts allowed to mount (use * for all)"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Root Squash"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Map root to nobody"})]}),(0,s.jsx)(h.Switch,{checked:eD.nfs_options.root_squash,onCheckedChange:e=>ez(s=>({...s,nfs_options:{...s.nfs_options,root_squash:e}}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"All Squash"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Map all users to nobody"})]}),(0,s.jsx)(h.Switch,{checked:eD.nfs_options.all_squash,onCheckedChange:e=>ez(s=>({...s,nfs_options:{...s.nfs_options,all_squash:e}}))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"nfs_anon_uid",children:"Anonymous UID"}),(0,s.jsx)(c.Input,{id:"nfs_anon_uid",type:"number",value:eD.nfs_options.anon_uid,onChange:e=>ez(s=>({...s,nfs_options:{...s.nfs_options,anon_uid:parseInt(e.target.value)||65534}}))})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"nfs_anon_gid",children:"Anonymous GID"}),(0,s.jsx)(c.Input,{id:"nfs_anon_gid",type:"number",value:eD.nfs_options.anon_gid,onChange:e=>ez(s=>({...s,nfs_options:{...s.nfs_options,anon_gid:parseInt(e.target.value)||65534}}))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Sync"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Sync writes immediately"})]}),(0,s.jsx)(h.Switch,{checked:eD.nfs_options.sync,onCheckedChange:e=>ez(s=>({...s,nfs_options:{...s.nfs_options,sync:e}}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Secure"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Require privileged ports"})]}),(0,s.jsx)(h.Switch,{checked:eD.nfs_options.secure,onCheckedChange:e=>ez(s=>({...s,nfs_options:{...s.nfs_options,secure:e}}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"No Subtree Check"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Disable subtree checking"})]}),(0,s.jsx)(h.Switch,{checked:eD.nfs_options.no_subtree_check,onCheckedChange:e=>ez(s=>({...s,nfs_options:{...s.nfs_options,no_subtree_check:e}}))})]})]})]})]}),4===E&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between pb-4 border-b",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium flex items-center gap-2",children:[(0,s.jsx)(C.Link2,{className:"h-5 w-5"}),"Web Sharing"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure web-based file access and public links"})]}),(0,s.jsx)(h.Switch,{checked:eD.web_enabled,onCheckedChange:e=>ez(s=>({...s,web_enabled:e}))})]}),eD.web_enabled&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Public Link Sharing"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Allow users to create shareable links"})]}),(0,s.jsx)(h.Switch,{checked:eD.web_options.public_enabled,onCheckedChange:e=>ez(s=>({...s,web_options:{...s.web_options,public_enabled:e}}))})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.Label,{htmlFor:"web_max_expiry",children:"Max Link Expiry (days)"}),(0,s.jsx)(c.Input,{id:"web_max_expiry",type:"number",min:"0",placeholder:"0 = no limit",value:eD.web_options.max_link_expiry||"",onChange:e=>ez(s=>({...s,web_options:{...s.web_options,max_link_expiry:parseInt(e.target.value)||0}}))}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Maximum days before links expire (0 = unlimited)"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Allow Download"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Users can download files"})]}),(0,s.jsx)(h.Switch,{checked:eD.web_options.allow_download,onCheckedChange:e=>ez(s=>({...s,web_options:{...s.web_options,allow_download:e}}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Allow Upload"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Users can upload files"})]}),(0,s.jsx)(h.Switch,{checked:eD.web_options.allow_upload,onCheckedChange:e=>ez(s=>({...s,web_options:{...s.web_options,allow_upload:e}}))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Allow Preview"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Show file previews in browser"})]}),(0,s.jsx)(h.Switch,{checked:eD.web_options.allow_preview,onCheckedChange:e=>ez(s=>({...s,web_options:{...s.web_options,allow_preview:e}}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Allow Listing"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Show folder contents"})]}),(0,s.jsx)(h.Switch,{checked:eD.web_options.allow_listing,onCheckedChange:e=>ez(s=>({...s,web_options:{...s.web_options,allow_listing:e}}))})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{children:"Require Authentication"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Users must log in for web access"})]}),(0,s.jsx)(h.Switch,{checked:eD.web_options.require_auth,onCheckedChange:e=>ez(s=>({...s,web_options:{...s.web_options,require_auth:e}}))})]})]})]}),5===E&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Review Zone Configuration"}),(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-2",children:(0,s.jsxs)(t.CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(F.Info,{className:"h-4 w-4"}),"Basic Information"]})}),(0,s.jsxs)(t.CardContent,{className:"text-sm space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Name:"}),(0,s.jsx)("span",{className:"font-medium",children:eD.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Pool:"}),(0,s.jsx)("span",{className:"font-medium",children:null==eE?void 0:eE.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Path:"}),(0,s.jsx)("span",{className:"font-mono text-xs",children:eT()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,s.jsx)(i.Badge,{variant:"outline",children:eD.zone_type})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,s.jsx)(i.Badge,{variant:eD.enabled?"default":"secondary",children:eD.enabled?"Enabled":"Disabled"})]})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-2",children:(0,s.jsxs)(t.CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(k.Shield,{className:"h-4 w-4"}),"Access Control"]})}),(0,s.jsxs)(t.CardContent,{className:"text-sm space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[eD.read_only&&(0,s.jsx)(i.Badge,{variant:"secondary",children:"Read Only"}),eD.browsable&&(0,s.jsx)(i.Badge,{variant:"secondary",children:"Browsable"}),eD.allow_guest_access&&(0,s.jsx)(i.Badge,{variant:"secondary",children:"Guest Access"}),el&&(0,s.jsx)(i.Badge,{variant:"default",children:"All Users Allowed"}),er&&(0,s.jsx)(i.Badge,{variant:"default",children:"All Groups Allowed"})]}),!el&&eD.allowed_users.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Allowed Users: "}),eD.allowed_users.join(", ")]}),!er&&eD.allowed_groups.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Allowed Groups: "}),eD.allowed_groups.join(", ")]}),eD.deny_users.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Denied Users: "}),eD.deny_users.join(", ")]}),eD.deny_groups.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Denied Groups: "}),eD.deny_groups.join(", ")]})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-2",children:(0,s.jsxs)(t.CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(S.Network,{className:"h-4 w-4"}),"Sharing Protocols"]})}),(0,s.jsxs)(t.CardContent,{className:"text-sm space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(P.Server,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"SMB:"}),(0,s.jsx)(i.Badge,{variant:eD.smb_enabled?"default":"secondary",children:eD.smb_enabled?"Enabled":"Disabled"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(B.HardDrive,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"NFS:"}),(0,s.jsx)(i.Badge,{variant:eD.nfs_enabled?"default":"secondary",children:eD.nfs_enabled?"Enabled":"Disabled"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(C.Link2,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Web:"}),(0,s.jsx)(i.Badge,{variant:eD.web_enabled?"default":"secondary",children:eD.web_enabled?"Enabled":"Disabled"})]})]}),eD.smb_enabled&&eD.smb_options.share_name&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"SMB Share Name: "}),eD.smb_options.share_name]}),eD.nfs_enabled&&eD.nfs_options.allowed_hosts.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"NFS Allowed Hosts: "}),eD.nfs_options.allowed_hosts.join(", ")]})]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[(0,s.jsxs)(d.Button,{variant:"outline",onClick:()=>H(e=>e-1),disabled:0===E,children:[(0,s.jsx)(b.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Previous"]}),E<G.length-1?(0,s.jsxs)(d.Button,{onClick:()=>H(e=>e+1),disabled:!(0!==E||eD.pool_id&&eD.name&&eD.path),children:["Next",(0,s.jsx)(f.ArrowRight,{className:"h-4 w-4 ml-2"})]}):(0,s.jsxs)(d.Button,{onClick:eV,disabled:Y,children:[Y?"Saving...":"Save Changes",(0,s.jsx)(w.Check,{className:"h-4 w-4 ml-2"})]})]})]})})]})})]})]})}}]);