(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82458,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3116,e=>{"use strict";e.s(["Clock",()=>t],3116);let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},41947,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},27612,e=>{"use strict";e.s(["Trash2",()=>t],27612);let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},91432,e=>{"use strict";e.s(["AuthProvider",()=>a,"useAuth",()=>o]);var t=e.i(18050),r=e.i(71645),s=e.i(54858);let i=(0,r.createContext)(void 0);function n(e){let t={user:e,cachedAt:Date.now()};localStorage.setItem("user",JSON.stringify(t))}function a(e){let{children:a}=e,[o,l]=(0,r.useState)(null),[u,c]=(0,r.useState)(!0),[d,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!(0,s.getAuthToken)()){l(null),c(!1),h(!0);return}try{let e=await s.authAPI.getCurrentUser(),t={id:e.id,username:e.username,role:e.is_admin?"admin":"user",groups:e.groups||[]};l(t),n(t)}catch(e){if(e instanceof s.APIError&&(401===e.status||403===e.status))(0,s.clearAuthToken)(),localStorage.removeItem("user"),l(null);else{let e=function(){try{let e=localStorage.getItem("user");if(!e)return null;let t=JSON.parse(e);if(Date.now()-t.cachedAt>3e5)return localStorage.removeItem("user"),null;return t.user}catch(e){return localStorage.removeItem("user"),null}}();e&&l(e)}}finally{c(!1),h(!0)}})()},[]);let f=async(e,t)=>{c(!0);try{let r=await s.authAPI.login(e,t);(0,s.setAuthToken)(r.token);let i={id:r.user.id,username:r.user.username,email:r.user.email,role:r.user.is_admin?"admin":"user",groups:r.user.groups||[]};n(i),l(i),h(!0)}catch(e){throw e}finally{c(!1)}},p=async()=>{try{await s.authAPI.logout()}catch(e){}finally{(0,s.clearAuthToken)(),localStorage.removeItem("user"),l(null)}};return(0,t.jsx)(i.Provider,{value:{user:o,isAuthenticated:!!o,isLoading:u,hasCheckedAuth:d,login:f,logout:p},children:a})}function o(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},75254,e=>{"use strict";e.s(["default",()=>a],75254);var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:d,...h}=e;return(0,t.createElement)("svg",{ref:r,...i,width:a,height:a,stroke:n,strokeWidth:l?24*Number(o)/Number(a):o,className:s("lucide",u),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...d.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(c)?c:[c]])}),a=(e,i)=>{let a=(0,t.forwardRef)((a,o)=>{let{className:l,...u}=a;return(0,t.createElement)(n,{ref:o,iconNode:i,className:s("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...u})});return a.displayName=r(e),a}},34620,e=>{"use strict";e.s(["useLayoutEffect",()=>s]);var t,r=e.i(71645),s=(null==(t=globalThis)?void 0:t.document)?r.useLayoutEffect:()=>{}},81140,e=>{"use strict";function t(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(s){if(null==e||e(s),!1===r||!s.defaultPrevented)return null==t?void 0:t(s)}}e.s(["composeEventHandlers",()=>t]),"undefined"!=typeof window&&window.document&&window.document.createElement},63178,e=>{"use strict";e.s(["ThemeProvider",()=>u,"useTheme",()=>l]);var t=e.i(71645),r=(e,t,r,s,i,n,a,o)=>{let l=document.documentElement,u=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,s=r&&n?i.map(e=>n[e]||e):i;r?(l.classList.remove(...s),l.classList.add(n&&n[t]?n[t]:t)):l.setAttribute(e,t)}),r=t,o&&u.includes(r)&&(l.style.colorScheme=r)}if(s)c(s);else try{let e=localStorage.getItem(t)||r,s=a&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(s)}catch(e){}},s=["light","dark"],i="(prefers-color-scheme: dark)",n="undefined"==typeof window,a=t.createContext(void 0),o={setTheme:e=>{},themes:[]},l=()=>{var e;return null!=(e=t.useContext(a))?e:o},u=e=>t.useContext(a)?t.createElement(t.Fragment,null,e.children):t.createElement(d,{...e}),c=["light","dark"],d=e=>{let{forcedTheme:r,disableTransitionOnChange:n=!1,enableSystem:o=!0,enableColorScheme:l=!0,storageKey:u="theme",themes:d=c,defaultTheme:y=o?"system":"light",attribute:g="data-theme",value:w,children:b,nonce:x,scriptProps:_}=e,[k,C]=t.useState(()=>f(u,y)),[S,j]=t.useState(()=>"system"===k?m():k),T=w?Object.values(w):d,M=t.useCallback(e=>{let t=e;if(!t)return;"system"===e&&o&&(t=m());let r=w?w[t]:t,i=n?p(x):null,a=document.documentElement,u=e=>{"class"===e?(a.classList.remove(...T),r&&a.classList.add(r)):e.startsWith("data-")&&(r?a.setAttribute(e,r):a.removeAttribute(e))};if(Array.isArray(g)?g.forEach(u):u(g),l){let e=s.includes(y)?y:null,r=s.includes(t)?t:e;a.style.colorScheme=r}null==i||i()},[x]),E=t.useCallback(e=>{let t="function"==typeof e?e(k):e;C(t);try{localStorage.setItem(u,t)}catch(e){}},[k]),P=t.useCallback(e=>{j(m(e)),"system"===k&&o&&!r&&M("system")},[k,r]);t.useEffect(()=>{let e=window.matchMedia(i);return e.addListener(P),P(e),()=>e.removeListener(P)},[P]),t.useEffect(()=>{let e=e=>{e.key===u&&(e.newValue?C(e.newValue):E(y))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),t.useEffect(()=>{M(null!=r?r:k)},[r,k]);let N=t.useMemo(()=>({theme:k,setTheme:E,forcedTheme:r,resolvedTheme:"system"===k?S:k,themes:o?[...d,"system"]:d,systemTheme:o?S:void 0}),[k,E,r,S,o,d]);return t.createElement(a.Provider,{value:N},t.createElement(h,{forcedTheme:r,storageKey:u,attribute:g,enableSystem:o,enableColorScheme:l,defaultTheme:y,value:w,themes:d,nonce:x,scriptProps:_}),b)},h=t.memo(e=>{let{forcedTheme:s,storageKey:i,attribute:n,enableSystem:a,enableColorScheme:o,defaultTheme:l,value:u,themes:c,nonce:d,scriptProps:h}=e,f=JSON.stringify([n,i,l,s,c,u,a,o]).slice(1,-1);return t.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?d:"",dangerouslySetInnerHTML:{__html:"(".concat(r.toString(),")(").concat(f,")")}})}),f=(e,t)=>{let r;if(!n){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},m=e=>(e||(e=window.matchMedia(i)),e.matches?"dark":"light")},39946,26005,34093,70292,62351,e=>{"use strict";function t(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function r(e,r){var s=t(e,r,"get");return s.get?s.get.call(e):s.value}function s(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function i(e,t,r){s(e,t),t.set(e,r)}function n(e,r,s){var i=t(e,r,"set");if(i.set)i.set.call(e,s);else{if(!i.writable)throw TypeError("attempted to set read only private field");i.value=s}return s}e.s(["_",()=>r],39946),e.s(["_",()=>t],26005),e.s(["_",()=>i],70292),e.s(["_",()=>s],34093),e.s(["_",()=>n],62351)},30030,e=>{"use strict";e.s(["createContextScope",()=>s]);var t=e.i(71645),r=e.i(18050);function s(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],n=()=>{let r=i.map(e=>t.createContext(e));return function(s){let i=(null==s?void 0:s[e])||r;return t.useMemo(()=>({["__scope".concat(e)]:{...s,[e]:i}}),[s,i])}};return n.scopeName=e,[function(s,n){let a=t.createContext(n);a.displayName=s+"Context";let o=i.length;i=[...i,n];let l=s=>{var i;let{scope:n,children:l,...u}=s,c=(null==n||null==(i=n[e])?void 0:i[o])||a,d=t.useMemo(()=>u,Object.values(u));return(0,r.jsx)(c.Provider,{value:d,children:l})};return l.displayName=s+"Provider",[l,function(r,i){var l;let u=(null==i||null==(l=i[e])?void 0:l[o])||a,c=t.useContext(u);if(c)return c;if(void 0!==n)return n;throw Error("`".concat(r,"` must be used within `").concat(s,"`"))}]},function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];let i=r[0];if(1===r.length)return i;let n=()=>{let e=r.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(r){let s=e.reduce((e,t)=>{let{useScope:s,scopeName:i}=t,n=s(r)["__scope".concat(i)];return{...e,...n}},{});return t.useMemo(()=>({["__scope".concat(i.scopeName)]:s}),[s])}};return n.scopeName=i.scopeName,n}(n,...s)]}},96626,e=>{"use strict";e.s(["Presence",()=>i]);var t=e.i(71645),r=e.i(20783),s=e.i(34620),i=e=>{let{present:i,children:a}=e,o=function(e){var r,i;let[a,o]=t.useState(),l=t.useRef(null),u=t.useRef(e),c=t.useRef("none"),[d,h]=(r=e?"mounted":"unmounted",i={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>{let r=i[e][t];return null!=r?r:e},r));return t.useEffect(()=>{let e=n(l.current);c.current="mounted"===d?e:"none"},[d]),(0,s.useLayoutEffect)(()=>{let t=l.current,r=u.current;if(r!==e){let s=c.current,i=n(t);e?h("MOUNT"):"none"===i||(null==t?void 0:t.display)==="none"?h("UNMOUNT"):r&&s!==i?h("ANIMATION_OUT"):h("UNMOUNT"),u.current=e}},[e,h]),(0,s.useLayoutEffect)(()=>{if(a){var e;let t,r=null!=(e=a.ownerDocument.defaultView)?e:window,s=e=>{let s=n(l.current).includes(CSS.escape(e.animationName));if(e.target===a&&s&&(h("ANIMATION_END"),!u.current)){let e=a.style.animationFillMode;a.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=e)})}},i=e=>{e.target===a&&(c.current=n(l.current))};return a.addEventListener("animationstart",i),a.addEventListener("animationcancel",s),a.addEventListener("animationend",s),()=>{r.clearTimeout(t),a.removeEventListener("animationstart",i),a.removeEventListener("animationcancel",s),a.removeEventListener("animationend",s)}}h("ANIMATION_END")},[a,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:t.useCallback(e=>{l.current=e?getComputedStyle(e):null,o(e)},[])}}(i),l="function"==typeof a?a({present:o.isPresent}):t.Children.only(a),u=(0,r.useComposedRefs)(o.ref,function(e){var t,r;let s=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(i=(s=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get)&&"isReactWarning"in s&&s.isReactWarning)?e.props.ref:e.props.ref||e.ref}(l));return"function"==typeof a||o.isPresent?t.cloneElement(l,{ref:u}):null};function n(e){return(null==e?void 0:e.animationName)||"none"}i.displayName="Presence"},30207,e=>{"use strict";e.s(["useCallbackRef",()=>r]);var t=e.i(71645);function r(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return null==(e=r.current)?void 0:e.call(r,...s)},[])}},86318,e=>{"use strict";e.s(["useDirection",()=>s]);var t=e.i(71645);e.i(18050);var r=t.createContext(void 0);function s(e){let s=t.useContext(r);return e||s||"ltr"}},70152,e=>{"use strict";function t(e,t){let[r,s]=t;return Math.min(s,Math.max(r,e))}e.s(["clamp",()=>t])},31171,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},99219,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},79664,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},17521,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},31278,e=>{"use strict";e.s(["Loader2",()=>t.default]);var t=e.i(17521)},87336,e=>{"use strict";e.s(["Progress",()=>b],87336);var t=e.i(18050),r=e.i(71645),s=e.i(30030),i=e.i(48425),n="Progress",[a,o]=(0,s.createContextScope)(n),[l,u]=a(n),c=r.forwardRef((e,r)=>{var s,n,a,o;let{__scopeProgress:u,value:c=null,max:d,getValueLabel:h=f,...w}=e;(d||0===d)&&!y(d)&&console.error((s="".concat(d),n="Progress","Invalid prop `max` of value `".concat(s,"` supplied to `").concat(n,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let b=y(d)?d:100;null===c||g(c,b)||console.error((a="".concat(c),o="Progress","Invalid prop `value` of value `".concat(a,"` supplied to `").concat(o,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let x=g(c,b)?c:null,_=m(x)?h(x,b):void 0;return(0,t.jsx)(l,{scope:u,value:x,max:b,children:(0,t.jsx)(i.Primitive.div,{"aria-valuemax":b,"aria-valuemin":0,"aria-valuenow":m(x)?x:void 0,"aria-valuetext":_,role:"progressbar","data-state":p(x,b),"data-value":null!=x?x:void 0,"data-max":b,...w,ref:r})})});c.displayName=n;var d="ProgressIndicator",h=r.forwardRef((e,r)=>{var s;let{__scopeProgress:n,...a}=e,o=u(d,n);return(0,t.jsx)(i.Primitive.div,{"data-state":p(o.value,o.max),"data-value":null!=(s=o.value)?s:void 0,"data-max":o.max,...a,ref:r})});function f(e,t){return"".concat(Math.round(e/t*100),"%")}function p(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function m(e){return"number"==typeof e}function y(e){return m(e)&&!isNaN(e)&&e>0}function g(e,t){return m(e)&&!isNaN(e)&&e<=t&&e>=0}h.displayName=d;var w=e.i(47163);function b(e){let{className:r,value:s,...i}=e;return(0,t.jsx)(c,{"data-slot":"progress",className:(0,w.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",r),...i,children:(0,t.jsx)(h,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},71435,e=>{"use strict";e.s(["ScrollArea",()=>G],71435);var t=e.i(18050),r=e.i(71645);e.i(74080);var s=e.i(20783),i=Symbol("radix.slottable");function n(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let a=function(e){let i=function(e){let t=r.forwardRef((e,t)=>{let{children:i,...n}=e;if(r.isValidElement(i)){var a,o,l;let e,u,c=(u=(e=null==(o=Object.getOwnPropertyDescriptor((a=i).props,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(u=(e=null==(l=Object.getOwnPropertyDescriptor(a,"ref"))?void 0:l.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref,d=function(e,t){let r={...t};for(let s in t){let i=e[s],n=t[s];/^on[A-Z]/.test(s)?i&&n?r[s]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let s=n(...t);return i(...t),s}:i&&(r[s]=i):"style"===s?r[s]={...i,...n}:"className"===s&&(r[s]=[i,n].filter(Boolean).join(" "))}return{...e,...r}}(n,i.props);return i.type!==r.Fragment&&(d.ref=t?(0,s.composeRefs)(t,c):c),r.cloneElement(i,d)}return r.Children.count(i)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),a=r.forwardRef((e,s)=>{let{children:a,...o}=e,l=r.Children.toArray(a),u=l.find(n);if(u){let e=u.props.children,n=l.map(t=>t!==u?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(i,{...o,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,t.jsx)(i,{...o,ref:s,children:a})});return a.displayName="".concat(e,".Slot"),a}("Primitive.".concat(i)),o=r.forwardRef((e,r)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?a:i,{...n,ref:r})});return o.displayName="Primitive.".concat(i),{...e,[i]:o}},{}),o=e.i(96626),l=e.i(30207),u=e.i(86318),c=e.i(34620),d=e.i(70152),h=e.i(81140),f="ScrollArea",[p,m]=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],n=()=>{let t=i.map(e=>r.createContext(e));return function(s){let i=(null==s?void 0:s[e])||t;return r.useMemo(()=>({["__scope".concat(e)]:{...s,[e]:i}}),[s,i])}};return n.scopeName=e,[function(s,n){let a=r.createContext(n),o=i.length;i=[...i,n];let l=s=>{var i;let{scope:n,children:l,...u}=s,c=(null==n||null==(i=n[e])?void 0:i[o])||a,d=r.useMemo(()=>u,Object.values(u));return(0,t.jsx)(c.Provider,{value:d,children:l})};return l.displayName=s+"Provider",[l,function(t,i){var l;let u=(null==i||null==(l=i[e])?void 0:l[o])||a,c=r.useContext(u);if(c)return c;if(void 0!==n)return n;throw Error("`".concat(t,"` must be used within `").concat(s,"`"))}]},function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let i=t[0];if(1===t.length)return i;let n=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let s=e.reduce((e,r)=>{let{useScope:s,scopeName:i}=r,n=s(t)["__scope".concat(i)];return{...e,...n}},{});return r.useMemo(()=>({["__scope".concat(i.scopeName)]:s}),[s])}};return n.scopeName=i.scopeName,n}(n,...s)]}(f),[y,g]=p(f),w=r.forwardRef((e,i)=>{let{__scopeScrollArea:n,type:o="hover",dir:l,scrollHideDelay:c=600,...d}=e,[h,f]=r.useState(null),[p,m]=r.useState(null),[g,w]=r.useState(null),[b,x]=r.useState(null),[_,k]=r.useState(null),[C,S]=r.useState(0),[j,T]=r.useState(0),[M,E]=r.useState(!1),[P,N]=r.useState(!1),A=(0,s.useComposedRefs)(i,e=>f(e)),R=(0,u.useDirection)(l);return(0,t.jsx)(y,{scope:n,type:o,dir:R,scrollHideDelay:c,scrollArea:h,viewport:p,onViewportChange:m,content:g,onContentChange:w,scrollbarX:b,onScrollbarXChange:x,scrollbarXEnabled:M,onScrollbarXEnabledChange:E,scrollbarY:_,onScrollbarYChange:k,scrollbarYEnabled:P,onScrollbarYEnabledChange:N,onCornerWidthChange:S,onCornerHeightChange:T,children:(0,t.jsx)(a.div,{dir:R,...d,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});w.displayName=f;var b="ScrollAreaViewport",x=r.forwardRef((e,i)=>{let{__scopeScrollArea:n,children:o,nonce:l,...u}=e,c=g(b,n),d=r.useRef(null),h=(0,s.useComposedRefs)(i,d,c.onViewportChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),(0,t.jsx)(a.div,{"data-radix-scroll-area-viewport":"",...u,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,t.jsx)("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});x.displayName=b;var _="ScrollAreaScrollbar",k=r.forwardRef((e,s)=>{let{forceMount:i,...n}=e,a=g(_,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=a,u="horizontal"===e.orientation;return r.useEffect(()=>(u?o(!0):l(!0),()=>{u?o(!1):l(!1)}),[u,o,l]),"hover"===a.type?(0,t.jsx)(C,{...n,ref:s,forceMount:i}):"scroll"===a.type?(0,t.jsx)(S,{...n,ref:s,forceMount:i}):"auto"===a.type?(0,t.jsx)(j,{...n,ref:s,forceMount:i}):"always"===a.type?(0,t.jsx)(T,{...n,ref:s}):null});k.displayName=_;var C=r.forwardRef((e,s)=>{let{forceMount:i,...n}=e,a=g(_,e.__scopeScrollArea),[l,u]=r.useState(!1);return r.useEffect(()=>{let e=a.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),u(!0)},s=()=>{t=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",s),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",s)}}},[a.scrollArea,a.scrollHideDelay]),(0,t.jsx)(o.Presence,{present:i||l,children:(0,t.jsx)(j,{"data-state":l?"visible":"hidden",...n,ref:s})})}),S=r.forwardRef((e,s)=>{var i;let{forceMount:n,...a}=e,l=g(_,e.__scopeScrollArea),u="horizontal"===e.orientation,c=H(()=>f("SCROLL_END"),100),[d,f]=(i={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>{let r=i[e][t];return null!=r?r:e},"hidden"));return r.useEffect(()=>{if("idle"===d){let e=window.setTimeout(()=>f("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(e)}},[d,l.scrollHideDelay,f]),r.useEffect(()=>{let e=l.viewport,t=u?"scrollLeft":"scrollTop";if(e){let r=e[t],s=()=>{let s=e[t];r!==s&&(f("SCROLL"),c()),r=s};return e.addEventListener("scroll",s),()=>e.removeEventListener("scroll",s)}},[l.viewport,u,f,c]),(0,t.jsx)(o.Presence,{present:n||"hidden"!==d,children:(0,t.jsx)(T,{"data-state":"hidden"===d?"hidden":"visible",...a,ref:s,onPointerEnter:(0,h.composeEventHandlers)(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:(0,h.composeEventHandlers)(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),j=r.forwardRef((e,s)=>{let i=g(_,e.__scopeScrollArea),{forceMount:n,...a}=e,[l,u]=r.useState(!1),c="horizontal"===e.orientation,d=H(()=>{if(i.viewport){let e=i.viewport.offsetWidth<i.viewport.scrollWidth,t=i.viewport.offsetHeight<i.viewport.scrollHeight;u(c?e:t)}},10);return K(i.viewport,d),K(i.content,d),(0,t.jsx)(o.Presence,{present:n||l,children:(0,t.jsx)(T,{"data-state":l?"visible":"hidden",...a,ref:s})})}),T=r.forwardRef((e,s)=>{let{orientation:i="vertical",...n}=e,a=g(_,e.__scopeScrollArea),o=r.useRef(null),l=r.useRef(0),[u,c]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=q(u.viewport,u.content),h={...n,sizes:u,onSizesChange:c,hasThumb:!!(d>0&&d<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:e=>l.current=e};function f(e,t){return function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ltr",i=U(r),n=t||i/2,a=r.scrollbar.paddingStart+n,o=r.scrollbar.size-r.scrollbar.paddingEnd-(i-n),l=r.content-r.viewport;return Q([a,o],"ltr"===s?[0,l]:[-1*l,0])(e)}(e,l.current,u,t)}return"horizontal"===i?(0,t.jsx)(M,{...h,ref:s,onThumbPositionChange:()=>{if(a.viewport&&o.current){let e=W(a.viewport.scrollLeft,u,a.dir);o.current.style.transform="translate3d(".concat(e,"px, 0, 0)")}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=f(e,a.dir))}}):"vertical"===i?(0,t.jsx)(E,{...h,ref:s,onThumbPositionChange:()=>{if(a.viewport&&o.current){let e=W(a.viewport.scrollTop,u);o.current.style.transform="translate3d(0, ".concat(e,"px, 0)")}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=f(e))}}):null}),M=r.forwardRef((e,i)=>{let{sizes:n,onSizesChange:a,...o}=e,l=g(_,e.__scopeScrollArea),[u,c]=r.useState(),d=r.useRef(null),h=(0,s.useComposedRefs)(i,d,l.onScrollbarXChange);return r.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,t.jsx)(A,{"data-orientation":"horizontal",...o,ref:h,sizes:n,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":U(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(l.viewport){let s=l.viewport.scrollLeft+t.deltaX;e.onWheelScroll(s),function(e,t){return e>0&&e<t}(s,r)&&t.preventDefault()}},onResize:()=>{d.current&&l.viewport&&u&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:L(u.paddingLeft),paddingEnd:L(u.paddingRight)}})}})}),E=r.forwardRef((e,i)=>{let{sizes:n,onSizesChange:a,...o}=e,l=g(_,e.__scopeScrollArea),[u,c]=r.useState(),d=r.useRef(null),h=(0,s.useComposedRefs)(i,d,l.onScrollbarYChange);return r.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,t.jsx)(A,{"data-orientation":"vertical",...o,ref:h,sizes:n,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":U(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(l.viewport){let s=l.viewport.scrollTop+t.deltaY;e.onWheelScroll(s),function(e,t){return e>0&&e<t}(s,r)&&t.preventDefault()}},onResize:()=>{d.current&&l.viewport&&u&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:L(u.paddingTop),paddingEnd:L(u.paddingBottom)}})}})}),[P,N]=p(_),A=r.forwardRef((e,i)=>{let{__scopeScrollArea:n,sizes:o,hasThumb:u,onThumbChange:c,onThumbPointerUp:d,onThumbPointerDown:f,onThumbPositionChange:p,onDragScroll:m,onWheelScroll:y,onResize:w,...b}=e,x=g(_,n),[k,C]=r.useState(null),S=(0,s.useComposedRefs)(i,e=>C(e)),j=r.useRef(null),T=r.useRef(""),M=x.viewport,E=o.content-o.viewport,N=(0,l.useCallbackRef)(y),A=(0,l.useCallbackRef)(p),R=H(w,10);function O(e){j.current&&m({x:e.clientX-j.current.left,y:e.clientY-j.current.top})}return r.useEffect(()=>{let e=e=>{let t=e.target;(null==k?void 0:k.contains(t))&&N(e,E)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[M,k,E,N]),r.useEffect(A,[o,A]),K(k,R),K(x.content,R),(0,t.jsx)(P,{scope:n,scrollbar:k,hasThumb:u,onThumbChange:(0,l.useCallbackRef)(c),onThumbPointerUp:(0,l.useCallbackRef)(d),onThumbPositionChange:A,onThumbPointerDown:(0,l.useCallbackRef)(f),children:(0,t.jsx)(a.div,{...b,ref:S,style:{position:"absolute",...b.style},onPointerDown:(0,h.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),j.current=k.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),O(e))}),onPointerMove:(0,h.composeEventHandlers)(e.onPointerMove,O),onPointerUp:(0,h.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=T.current,x.viewport&&(x.viewport.style.scrollBehavior=""),j.current=null})})})}),R="ScrollAreaThumb",O=r.forwardRef((e,r)=>{let{forceMount:s,...i}=e,n=N(R,e.__scopeScrollArea);return(0,t.jsx)(o.Presence,{present:s||n.hasThumb,children:(0,t.jsx)(I,{ref:r,...i})})}),I=r.forwardRef((e,i)=>{let{__scopeScrollArea:n,style:o,...l}=e,u=g(R,n),c=N(R,n),{onThumbPositionChange:d}=c,f=(0,s.useComposedRefs)(i,e=>c.onThumbChange(e)),p=r.useRef(void 0),m=H(()=>{p.current&&(p.current(),p.current=void 0)},100);return r.useEffect(()=>{let e=u.viewport;if(e){let t=()=>{m(),p.current||(p.current=B(e,d),d())};return d(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[u.viewport,m,d]),(0,t.jsx)(a.div,{"data-state":c.hasThumb?"visible":"hidden",...l,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:(0,h.composeEventHandlers)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,s=e.clientY-t.top;c.onThumbPointerDown({x:r,y:s})}),onPointerUp:(0,h.composeEventHandlers)(e.onPointerUp,c.onThumbPointerUp)})});O.displayName=R;var D="ScrollAreaCorner",z=r.forwardRef((e,r)=>{let s=g(D,e.__scopeScrollArea),i=!!(s.scrollbarX&&s.scrollbarY);return"scroll"!==s.type&&i?(0,t.jsx)(F,{...e,ref:r}):null});z.displayName=D;var F=r.forwardRef((e,s)=>{let{__scopeScrollArea:i,...n}=e,o=g(D,i),[l,u]=r.useState(0),[c,d]=r.useState(0),h=!!(l&&c);return K(o.scrollbarX,()=>{var e;let t=(null==(e=o.scrollbarX)?void 0:e.offsetHeight)||0;o.onCornerHeightChange(t),d(t)}),K(o.scrollbarY,()=>{var e;let t=(null==(e=o.scrollbarY)?void 0:e.offsetWidth)||0;o.onCornerWidthChange(t),u(t)}),h?(0,t.jsx)(a.div,{...n,ref:s,style:{width:l,height:c,position:"absolute",right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:0,...e.style}}):null});function L(e){return e?parseInt(e,10):0}function q(e,t){let r=e/t;return isNaN(r)?0:r}function U(e){let t=q(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function W(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr",s=U(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-i,a=t.content-t.viewport,o=(0,d.clamp)(e,"ltr"===r?[0,a]:[-1*a,0]);return Q([0,a],[0,n-s])(o)}function Q(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}var B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},r={left:e.scrollLeft,top:e.scrollTop},s=0;return!function i(){let n={left:e.scrollLeft,top:e.scrollTop},a=r.left!==n.left,o=r.top!==n.top;(a||o)&&t(),r=n,s=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(s)};function H(e,t){let s=(0,l.useCallbackRef)(e),i=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(i.current),[]),r.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(s,t)},[s,t])}function K(e,t){let r=(0,l.useCallbackRef)(t);(0,c.useLayoutEffect)(()=>{let t=0;if(e){let s=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(t),s.unobserve(e)}}},[e,r])}var V=e.i(47163);function G(e){let{className:r,children:s,...i}=e;return(0,t.jsxs)(w,{"data-slot":"scroll-area",className:(0,V.cn)("relative",r),...i,children:[(0,t.jsx)(x,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),(0,t.jsx)(X,{}),(0,t.jsx)(z,{})]})}function X(e){let{className:r,orientation:s="vertical",...i}=e;return(0,t.jsx)(k,{"data-slot":"scroll-area-scrollbar",orientation:s,className:(0,V.cn)("flex touch-none p-px transition-colors select-none","vertical"===s&&"h-full w-2.5 border-l border-l-transparent","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent",r),...i,children:(0,t.jsx)(O,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},64659,e=>{"use strict";e.s(["ChevronDown",()=>t.default]);var t=e.i(31171)},23287,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},95468,e=>{"use strict";e.s(["CheckCircle2",()=>t.default]);var t=e.i(23287)},31343,e=>{"use strict";e.s(["Play",()=>t],31343);let t=(0,e.i(75254).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},67240,e=>{"use strict";e.s(["RotateCcw",()=>t],67240);let t=(0,e.i(75254).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},95242,e=>{"use strict";e.s(["Pause",()=>t],95242);let t=(0,e.i(75254).default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},98361,e=>{"use strict";e.s(["Maximize2",()=>t],98361);let t=(0,e.i(75254).default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]])},69074,e=>{"use strict";e.s(["Upload",()=>t],69074);let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},75688,90347,e=>{"use strict";e.s(["useUploadComplete",()=>c,"useUploadQueue",()=>u],75688);var t=e.i(71645);e.s(["formatBytes",()=>a,"formatSpeed",()=>l,"formatTime",()=>o,"uploadManager",()=>n],90347);var r=e.i(99749),s=e.i(54858);let i="/api",n=new class{onComplete(e){return this.completionCallbacks.add(e),()=>this.completionCallbacks.delete(e)}notifyComplete(e){this.completionCallbacks.forEach(t=>t(e))}subscribe(e){return this.listeners.add(e),e(this.getItems()),()=>this.listeners.delete(e)}notify(){let e=this.getItems();this.listeners.forEach(t=>t(e))}getItems(){return Array.from(this.items.values()).sort((e,t)=>{let r={uploading:0,queued:1,paused:2,error:3,completed:4,cancelled:5},s=r[e.status]-r[t.status];return 0!==s?s:(e.startTime||0)-(t.startTime||0)})}generateId(){return"upload-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}async fetchMissingChunks(e){let t=(0,s.getAuthToken)(),r={};t&&(r.Authorization="Bearer ".concat(t));let n=await fetch("".concat(i,"/upload/session/").concat(e,"/missing"),{headers:r});if(!n.ok)throw Error("Failed to fetch missing chunks");return(await n.json()).missing_chunks||[]}async fetchUserSessions(){let e=(0,s.getAuthToken)();if(!e)return[];try{let t=await fetch("".concat(i,"/upload/sessions"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return[];return await t.json()||[]}catch(e){return[]}}async restoreSessions(){let e=await this.fetchUserSessions(),t=0;for(let r of e){if(r.complete||this.restoredSessionIds.has(r.session_id)||Array.from(this.items.values()).find(e=>e.sessionId===r.session_id))continue;let e=this.generateId(),s={id:e,file:new File([],r.filename),fileName:r.filename,fileSize:r.total_size,targetPath:"",status:"paused",progress:r.progress,uploadedBytes:r.uploaded_size,speed:0,eta:0,sessionId:r.session_id,totalChunks:r.total_chunks,uploadedChunks:r.uploaded_chunks,error:"File required to resume - drag file here or remove"};this.items.set(e,s),this.restoredSessionIds.add(r.session_id),t++}return t>0&&this.notify(),t}addFiles(e,t,r){let s=[];for(let i of e){let e=Array.from(this.items.values()).find(e=>"paused"===e.status&&e.sessionId&&e.fileName===i.name&&e.fileSize===i.size);if(e){e.file=i,e.targetPath=t,e.zoneId=r,e.error=void 0,e.status="queued",s.push(e.id);continue}let n=this.generateId(),a=i.name,o=t;if(i.name.includes("/")){let e=i.name.split("/");a=e.pop()||i.name;let r=e.join("/");o=t.endsWith("/")?"".concat(t).concat(r):"".concat(t,"/").concat(r)}let l={id:n,file:i,fileName:a,fileSize:i.size,targetPath:o,zoneId:r,status:"queued",progress:0,uploadedBytes:0,speed:0,eta:0};this.items.set(n,l),s.push(n)}return this.notify(),this.processQueue(),s}pause(e){let t=this.items.get(e);if(t&&"uploading"===t.status){var r;t.status="paused",null==(r=t.abortController)||r.abort(),this.activeUploads--,this.notify()}}resume(e){let t=this.items.get(e);if(t&&"paused"===t.status){if(!t.file||0===t.file.size){t.error="Original file required to resume",this.notify();return}t.status="queued",t.error=void 0,this.notify(),this.processQueue()}}cancel(e){let t=this.items.get(e);if(t){if("uploading"===t.status){var r;null==(r=t.abortController)||r.abort(),this.activeUploads--}t.sessionId&&this.cancelServerSession(t.sessionId).catch(()=>{}),t.status="cancelled",this.notify()}}async cancelServerSession(e){let t=(0,s.getAuthToken)();try{await fetch("".concat(i,"/upload/session/").concat(e),{method:"DELETE",headers:t?{Authorization:"Bearer ".concat(t)}:{}})}catch(e){}}async retry(e){let t=this.items.get(e);if(t&&("error"===t.status||"cancelled"===t.status)){if(!t.file||0===t.file.size){t.error="Original file required to retry",this.notify();return}if(t.sessionId&&t.totalChunks)try{let e=await this.fetchMissingChunks(t.sessionId);if(0===e.length)t.status="queued",t.error=void 0,t.completedChunkIndices=new Set(Array.from({length:t.totalChunks},(e,t)=>t));else if(e.length<t.totalChunks){t.status="queued",t.error=void 0;let r=new Set;for(let s=0;s<t.totalChunks;s++)e.includes(s)||r.add(s);t.completedChunkIndices=r,t.uploadedChunks=r.size,t.uploadedBytes=0x1400000*r.size,t.uploadedBytes>t.fileSize&&(t.uploadedBytes=t.fileSize),t.progress=t.uploadedBytes/t.fileSize*100}else t.status="queued",t.error=void 0,t.completedChunkIndices=new Set}catch(e){t.status="queued",t.progress=0,t.uploadedBytes=0,t.error=void 0,t.sessionId=void 0,t.completedChunkIndices=void 0}else t.status="queued",t.progress=0,t.uploadedBytes=0,t.error=void 0,t.sessionId=void 0,t.completedChunkIndices=void 0;this.notify(),this.processQueue()}}remove(e){let t=this.items.get(e);if(t){if("uploading"===t.status){var r;null==(r=t.abortController)||r.abort(),this.activeUploads--}t.sessionId&&this.cancelServerSession(t.sessionId).catch(()=>{}),this.items.delete(e),this.notify()}}clearCompleted(){for(let[e,t]of this.items)["completed","cancelled","error"].includes(t.status)&&(t.sessionId&&"completed"!==t.status&&this.cancelServerSession(t.sessionId).catch(()=>{}),this.items.delete(e));this.notify()}async processQueue(){if(!this.processingQueue){for(this.processingQueue=!0;this.activeUploads<3;){let e=Array.from(this.items.values()).find(e=>"queued"===e.status);if(!e)break;this.activeUploads++,this.uploadItem(e)}this.processingQueue=!1}}async uploadItem(e){e.status="uploading",e.startTime||(e.startTime=Date.now()),e.abortController=new AbortController,this.notify();try{e.fileSize>0x3200000?await this.uploadChunked(e):await this.uploadSimple(e),e.status="completed",e.progress=100,e.uploadedBytes=e.fileSize,e.endTime=Date.now(),this.notifyComplete(e)}catch(r){let t=e.status;"paused"!==t&&"cancelled"!==t&&(e.status="error",e.error=r instanceof Error?r.message:"Upload failed")}finally{this.activeUploads--,this.notify(),this.processQueue()}}async uploadSimple(e){return new Promise((t,r)=>{let n,a=new XMLHttpRequest,o=new FormData;if(o.append("file",e.file),e.zoneId){let t=e.targetPath.split("/").map(e=>encodeURIComponent(e)).join("/");n="".concat(i,"/zones/").concat(e.zoneId,"/files").concat(t.startsWith("/")?t:"/"+t)}else{let t=e.targetPath.split("/").map(e=>encodeURIComponent(e)).join("/");n="".concat(i,"/files").concat(t.startsWith("/")?t:"/"+t)}a.open("POST",n);let l=(0,s.getAuthToken)();l&&a.setRequestHeader("Authorization","Bearer ".concat(l));let u=0,c=Date.now();a.upload.onprogress=t=>{if(t.lengthComputable){let r=Date.now(),s=(r-c)/1e3,i=t.loaded-u;if(s>0){e.speed=i/s;let r=t.total-t.loaded;e.eta=e.speed>0?r/e.speed:0}u=t.loaded,c=r,e.uploadedBytes=t.loaded,e.progress=t.loaded/t.total*100,this.notify()}},a.onload=()=>{a.status>=200&&a.status<300?t():r(Error(a.responseText||"HTTP ".concat(a.status)))},a.onerror=()=>r(Error("Network error")),a.onabort=()=>r(Error("Upload cancelled")),e.abortController.signal.addEventListener("abort",()=>a.abort()),a.send(o)})}async uploadChunked(e){let t,r,n=(0,s.getAuthToken)(),a={"Content-Type":"application/json"};if(n&&(a.Authorization="Bearer ".concat(n)),e.sessionId&&e.completedChunkIndices){t={session_id:e.sessionId,chunk_size:0x1400000,total_chunks:e.totalChunks,upload_url:"",finalize_url:"",progress_url:""},r=[];for(let t=0;t<e.totalChunks;t++)e.completedChunkIndices.has(t)||r.push(t)}else{let s=await fetch("".concat(i,"/upload/session"),{method:"POST",headers:a,body:JSON.stringify({filename:e.fileName,total_size:e.fileSize,target_path:e.targetPath,zone_id:e.zoneId,chunk_size:0x1400000}),signal:e.abortController.signal});if(!s.ok)throw Error(await s.text()||"Failed to create upload session");e.sessionId=(t=await s.json()).session_id,e.totalChunks=t.total_chunks,e.uploadedChunks=0,e.completedChunkIndices=new Set,r=Array.from({length:t.total_chunks},(e,t)=>t)}let o=Date.now(),l=e.uploadedBytes||0;for(let s of r){if(e.abortController.signal.aborted)throw Error("Upload cancelled");let r=0x1400000*s,a=Math.min(r+0x1400000,e.fileSize),u=e.file.slice(r,a),c=new FormData;c.append("chunk",u);let d=await fetch("".concat(i,"/upload/session/").concat(t.session_id,"/chunk/").concat(s),{method:"POST",headers:n?{Authorization:"Bearer ".concat(n)}:{},body:c,signal:e.abortController.signal});if(!d.ok)throw Error(await d.text()||"Failed to upload chunk ".concat(s));e.completedChunkIndices.add(s),e.uploadedChunks=e.completedChunkIndices.size;let h=0;for(let t of e.completedChunkIndices){let r=0x1400000*t;h+=Math.min(r+0x1400000,e.fileSize)-r}e.uploadedBytes=h,e.progress=h/e.fileSize*100;let f=Date.now(),p=(f-o)/1e3,m=h-l;if(p>.5){e.speed=m/p;let t=e.fileSize-h;e.eta=e.speed>0?t/e.speed:0,o=f,l=h}this.notify()}let u=await fetch("".concat(i,"/upload/session/").concat(t.session_id,"/finalize"),{method:"POST",headers:a,signal:e.abortController.signal});if(!u.ok)throw Error(await u.text()||"Failed to finalize upload")}getStats(){let e=0,t=0,r=0,s=0,i=0;for(let n of this.items.values())switch(e++,n.status){case"completed":t++;break;case"uploading":r++;break;case"queued":s++;break;case"error":i++}return{total:e,completed:t,uploading:r,queued:s,failed:i}}getOverallProgress(){let e=0,t=0;for(let r of this.items.values())["queued","uploading","completed"].includes(r.status)&&(t+=r.fileSize,e+=r.uploadedBytes);let r=t>0?e/t*100:0;return{uploadedBytes:e,totalBytes:t,percent:r}}constructor(){(0,r._)(this,"items",new Map),(0,r._)(this,"listeners",new Set),(0,r._)(this,"completionCallbacks",new Set),(0,r._)(this,"activeUploads",0),(0,r._)(this,"processingQueue",!1),(0,r._)(this,"restoredSessionIds",new Set)}};function a(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]}function o(e){if(!e||e<0||!isFinite(e))return"--";if(e<60)return"".concat(Math.round(e),"s");if(e<3600){let t=Math.floor(e/60),r=Math.round(e%60);return"".concat(t,"m ").concat(r,"s")}let t=Math.floor(e/3600),r=Math.floor(e%3600/60);return"".concat(t,"h ").concat(r,"m")}function l(e){return!e||e<0?"--":a(e)+"/s"}function u(){let[e,r]=(0,t.useState)([]),s=(0,t.useRef)(!1);(0,t.useEffect)(()=>{let e=n.subscribe(r);return s.current||(s.current=!0,n.restoreSessions().catch(()=>{})),e},[]);let i=(0,t.useCallback)((e,t,r)=>n.addFiles(e,t,r),[]),a=(0,t.useCallback)(e=>n.pause(e),[]),o=(0,t.useCallback)(e=>n.resume(e),[]),l=(0,t.useCallback)(e=>n.cancel(e),[]),u=(0,t.useCallback)(e=>{n.retry(e).catch(()=>{})},[]),c=(0,t.useCallback)(e=>n.remove(e),[]),d=(0,t.useCallback)(()=>n.clearCompleted(),[]),h=(0,t.useCallback)(()=>n.restoreSessions(),[]),f=n.getStats();return{items:e,addFiles:i,pause:a,resume:o,cancel:l,retry:u,remove:c,clearCompleted:d,restoreSessions:h,stats:f,overallProgress:n.getOverallProgress(),hasActiveUploads:f.uploading>0||f.queued>0,hasItems:f.total>0}}function c(e){(0,t.useEffect)(()=>n.onComplete(e),[e])}},37727,e=>{"use strict";e.s(["X",()=>t.default]);var t=e.i(41947)},55900,e=>{"use strict";e.s(["ChevronUp",()=>t.default]);var t=e.i(99219)},19273,80166,e=>{"use strict";e.s(["addToEnd",()=>E,"addToStart",()=>P,"ensureQueryFn",()=>A,"functionalUpdate",()=>d,"hashKey",()=>b,"hashQueryKeyByOptions",()=>w,"isServer",()=>u,"isValidTimeout",()=>h,"matchMutation",()=>g,"matchQuery",()=>y,"noop",()=>c,"partialMatchKey",()=>x,"replaceData",()=>M,"resolveEnabled",()=>m,"resolveStaleTime",()=>p,"shallowEqualObjects",()=>k,"shouldThrowError",()=>R,"skipToken",()=>N,"sleep",()=>T,"timeUntilStale",()=>f],19273),e.s(["systemSetTimeoutZero",()=>l,"timeoutManager",()=>o],80166);var t,r,s=e.i(39946),i=e.i(70292),n=e.i(62351),a={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},o=new(t=new WeakMap,r=new WeakMap,class{setTimeoutProvider(e){(0,n._)(this,t,e)}setTimeout(e,r){return(0,s._)(this,t).setTimeout(e,r)}clearTimeout(e){(0,s._)(this,t).clearTimeout(e)}setInterval(e,r){return(0,s._)(this,t).setInterval(e,r)}clearInterval(e){(0,s._)(this,t).clearInterval(e)}constructor(){(0,i._)(this,t,{writable:!0,value:a}),(0,i._)(this,r,{writable:!0,value:!1})}});function l(e){setTimeout(e,0)}var u="undefined"==typeof window||"Deno"in globalThis;function c(){}function d(e,t){return"function"==typeof e?e(t):e}function h(e){return"number"==typeof e&&e>=0&&e!==1/0}function f(e,t){return Math.max(e+(t||0)-Date.now(),0)}function p(e,t){return"function"==typeof e?e(t):e}function m(e,t){return"function"==typeof e?e(t):e}function y(e,t){let{type:r="all",exact:s,fetchStatus:i,predicate:n,queryKey:a,stale:o}=e;if(a){if(s){if(t.queryHash!==w(a,t.options))return!1}else if(!x(t.queryKey,a))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!i||i===t.state.fetchStatus)&&(!n||!!n(t))}function g(e,t){let{exact:r,status:s,predicate:i,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(r){if(b(t.options.mutationKey)!==b(n))return!1}else if(!x(t.options.mutationKey,n))return!1}return(!s||t.state.status===s)&&(!i||!!i(t))}function w(e,t){return((null==t?void 0:t.queryKeyHashFn)||b)(e)}function b(e){return JSON.stringify(e,(e,t)=>S(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function x(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>x(e[r],t[r]))}var _=Object.prototype.hasOwnProperty;function k(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function C(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function S(e){if(!j(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!j(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function j(e){return"[object Object]"===Object.prototype.toString.call(e)}function T(e){return new Promise(t=>{o.setTimeout(t,e)})}function M(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let s=C(t)&&C(r);if(!s&&!(S(t)&&S(r)))return r;let i=(s?t:Object.keys(t)).length,n=s?r:Object.keys(r),a=n.length,o=s?Array(a):{},l=0;for(let u=0;u<a;u++){let a=s?u:n[u],c=t[a],d=r[a];if(c===d){o[a]=c,(s?u<i:_.call(t,a))&&l++;continue}if(null===c||null===d||"object"!=typeof c||"object"!=typeof d){o[a]=d;continue}let h=e(c,d);o[a]=h,h===c&&l++}return i===a&&l===i?t:o}(e,t):t}function E(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=[...e,t];return r&&s.length>r?s.slice(1):s}function P(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var N=Symbol();function A(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==N?e.queryFn:()=>Promise.reject(Error("Missing queryFn: '".concat(e.queryHash,"'")))}function R(e,t){return"function"==typeof e?e(...t):!!e}},37696,88245,e=>{"use strict";function t(e,t,r){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return r}e.s(["_",()=>t],37696),e.s(["_",()=>s],88245);var r=e.i(34093);function s(e,t){(0,r._)(e,t),t.add(e)}},40143,e=>{"use strict";e.s(["notifyManager",()=>r]);var t=e.i(80166).systemSetTimeoutZero,r=function(){let e=[],r=0,s=e=>{e()},i=e=>{e()},n=t,a=t=>{r?e.push(t):n(()=>{s(t)})};return{batch:t=>{let a;r++;try{a=t()}finally{--r||(()=>{let t=e;e=[],t.length&&n(()=>{i(()=>{t.forEach(e=>{s(e)})})})})()}return a},batchCalls:e=>function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];a(()=>{e(...r)})},schedule:a,setNotifyFunction:e=>{s=e},setBatchNotifyFunction:e=>{i=e},setScheduler:e=>{n=e}}}()},15823,e=>{"use strict";e.s(["Subscribable",()=>t]);var t=class{subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}}},75555,e=>{"use strict";e.s(["focusManager",()=>u]);var t,r,s,i=e.i(39946),n=e.i(70292),a=e.i(62351),o=e.i(15823),l=e.i(19273),u=new(t=new WeakMap,r=new WeakMap,s=new WeakMap,class extends o.Subscribable{onSubscribe(){(0,i._)(this,r)||this.setEventListener((0,i._)(this,s))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=(0,i._)(this,r))||e.call(this),(0,a._)(this,r,void 0))}setEventListener(e){var t;(0,a._)(this,s,e),null==(t=(0,i._)(this,r))||t.call(this),(0,a._)(this,r,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){(0,i._)(this,t)!==e&&((0,a._)(this,t,e),this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"==typeof(0,i._)(this,t)?(0,i._)(this,t):(null==(e=globalThis.document)?void 0:e.visibilityState)!=="hidden"}constructor(){super(),(0,n._)(this,t,{writable:!0,value:void 0}),(0,n._)(this,r,{writable:!0,value:void 0}),(0,n._)(this,s,{writable:!0,value:void 0}),(0,a._)(this,s,e=>{if(!l.isServer&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}})},86491,14448,93803,36553,88587,e=>{"use strict";e.s(["Query",()=>N,"fetchState",()=>A],86491),e.i(47167);var t,r,s,i,n,a,o,l,u,c,d,h,f=e.i(39946),p=e.i(70292),m=e.i(62351),y=e.i(37696),g=e.i(88245),w=e.i(19273),b=e.i(40143);e.s(["CancelledError",()=>T,"canFetch",()=>j,"createRetryer",()=>M],36553);var x=e.i(75555);e.s(["onlineManager",()=>k],14448);var _=e.i(15823),k=new(t=new WeakMap,r=new WeakMap,s=new WeakMap,class extends _.Subscribable{onSubscribe(){(0,f._)(this,r)||this.setEventListener((0,f._)(this,s))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=(0,f._)(this,r))||e.call(this),(0,m._)(this,r,void 0))}setEventListener(e){var t;(0,m._)(this,s,e),null==(t=(0,f._)(this,r))||t.call(this),(0,m._)(this,r,e(this.setOnline.bind(this)))}setOnline(e){(0,f._)(this,t)!==e&&((0,m._)(this,t,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return(0,f._)(this,t)}constructor(){super(),(0,p._)(this,t,{writable:!0,value:!0}),(0,p._)(this,r,{writable:!0,value:void 0}),(0,p._)(this,s,{writable:!0,value:void 0}),(0,m._)(this,s,e=>{if(!w.isServer&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}});function C(){let e,t,r=new Promise((r,s)=>{e=r,t=s});function s(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},r.reject=e=>{s({status:"rejected",reason:e}),t(e)},r}function S(e){return Math.min(1e3*2**e,3e4)}function j(e){return(null!=e?e:"online")!=="online"||k.isOnline()}e.s(["pendingThenable",()=>C],93803);var T=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function M(e){let t,r=!1,s=0,i=C(),n=()=>x.focusManager.isFocused()&&("always"===e.networkMode||k.isOnline())&&e.canRun(),a=()=>j(e.networkMode)&&e.canRun(),o=e=>{"pending"===i.status&&(null==t||t(),i.resolve(e))},l=e=>{"pending"===i.status&&(null==t||t(),i.reject(e))},u=()=>new Promise(r=>{var s;t=e=>{("pending"!==i.status||n())&&r(e)},null==(s=e.onPause)||s.call(e)}).then(()=>{if(t=void 0,"pending"===i.status){var r;null==(r=e.onContinue)||r.call(e)}}),c=()=>{let t;if("pending"!==i.status)return;let a=0===s?e.initialPromise:void 0;try{t=null!=a?a:e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(o).catch(t=>{var a,o,d;if("pending"!==i.status)return;let h=null!=(o=e.retry)?o:3*!w.isServer,f=null!=(d=e.retryDelay)?d:S,p="function"==typeof f?f(s,t):f,m=!0===h||"number"==typeof h&&s<h||"function"==typeof h&&h(s,t);if(r||!m)return void l(t);s++,null==(a=e.onFail)||a.call(e,s,t),(0,w.sleep)(p).then(()=>n()?void 0:u()).then(()=>{r?l(t):c()})})};return{promise:i,status:()=>i.status,cancel:t=>{if("pending"===i.status){var r;let s=new T(t);l(s),null==(r=e.onCancel)||r.call(e,s)}},continue:()=>(null==t||t(),i),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:a,start:()=>(a()?c():u().then(c),i)}}e.s(["Removable",()=>P],88587);var E=e.i(80166),P=(i=new WeakMap,class{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,w.isValidTimeout)(this.gcTime)&&(0,m._)(this,i,E.timeoutManager.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!=e?e:w.isServer?1/0:3e5)}clearGcTimeout(){(0,f._)(this,i)&&(E.timeoutManager.clearTimeout((0,f._)(this,i)),(0,m._)(this,i,void 0))}constructor(){(0,p._)(this,i,{writable:!0,value:void 0})}}),N=(n=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakSet,class extends P{get meta(){return this.options.meta}get promise(){var e;return null==(e=(0,f._)(this,u))?void 0:e.promise}setOptions(e){if(this.options={...(0,f._)(this,c),...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=O(this.options);void 0!==e.data&&(this.setState(R(e.data,e.dataUpdatedAt)),(0,m._)(this,n,e))}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||(0,f._)(this,o).remove(this)}setData(e,t){let r=(0,w.replaceData)(this.state.data,e,this.options);return(0,y._)(this,h,I).call(this,{data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){(0,y._)(this,h,I).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,r;let s=null==(t=(0,f._)(this,u))?void 0:t.promise;return null==(r=(0,f._)(this,u))||r.cancel(e),s?s.then(w.noop).catch(w.noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState((0,f._)(this,n))}isActive(){return this.observers.some(e=>!1!==(0,w.resolveEnabled)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===w.skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===(0,w.resolveStaleTime)(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,w.timeUntilStale)(this.state.dataUpdatedAt,e))}onFocus(){var e;let t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=(0,f._)(this,u))||e.continue()}onOnline(){var e;let t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=(0,f._)(this,u))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),(0,f._)(this,o).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||((0,f._)(this,u)&&((0,f._)(this,d)?(0,f._)(this,u).cancel({revert:!0}):(0,f._)(this,u).cancelRetry()),this.scheduleGc()),(0,f._)(this,o).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||(0,y._)(this,h,I).call(this,{type:"invalidate"})}async fetch(e,t){var r,s,i,n,c,p,g,b,x,_,k,C;if("idle"!==this.state.fetchStatus&&(null==(r=(0,f._)(this,u))?void 0:r.status())!=="rejected"){if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if((0,f._)(this,u))return(0,f._)(this,u).continueRetry(),(0,f._)(this,u).promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let S=new AbortController,j=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>((0,m._)(this,d,!0),S.signal)})},E=()=>{let e=(0,w.ensureQueryFn)(this.options,t),r=(()=>{let e={client:(0,f._)(this,l),queryKey:this.queryKey,meta:this.meta};return j(e),e})();return((0,m._)(this,d,!1),this.options.persister)?this.options.persister(e,r,this):e(r)},P=(()=>{let e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:(0,f._)(this,l),state:this.state,fetchFn:E};return j(e),e})();null==(s=this.options.behavior)||s.onFetch(P,this),(0,m._)(this,a,this.state),("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(i=P.fetchOptions)?void 0:i.meta))&&(0,y._)(this,h,I).call(this,{type:"fetch",meta:null==(n=P.fetchOptions)?void 0:n.meta}),(0,m._)(this,u,M({initialPromise:null==t?void 0:t.initialPromise,fn:P.fetchFn,onCancel:e=>{e instanceof T&&e.revert&&this.setState({...(0,f._)(this,a),fetchStatus:"idle"}),S.abort()},onFail:(e,t)=>{(0,y._)(this,h,I).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{(0,y._)(this,h,I).call(this,{type:"pause"})},onContinue:()=>{(0,y._)(this,h,I).call(this,{type:"continue"})},retry:P.options.retry,retryDelay:P.options.retryDelay,networkMode:P.options.networkMode,canRun:()=>!0}));try{let e=await (0,f._)(this,u).start();if(void 0===e)throw Error("".concat(this.queryHash," data is undefined"));return this.setData(e),null==(c=(p=(0,f._)(this,o).config).onSuccess)||c.call(p,e,this),null==(g=(b=(0,f._)(this,o).config).onSettled)||g.call(b,e,this.state.error,this),e}catch(e){if(e instanceof T){if(e.silent)return(0,f._)(this,u).promise;else if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw(0,y._)(this,h,I).call(this,{type:"error",error:e}),null==(x=(_=(0,f._)(this,o).config).onError)||x.call(_,e,this),null==(k=(C=(0,f._)(this,o).config).onSettled)||k.call(C,this.state.data,e,this),e}finally{this.scheduleGc()}}constructor(e){var t;super(),(0,g._)(this,h),(0,p._)(this,n,{writable:!0,value:void 0}),(0,p._)(this,a,{writable:!0,value:void 0}),(0,p._)(this,o,{writable:!0,value:void 0}),(0,p._)(this,l,{writable:!0,value:void 0}),(0,p._)(this,u,{writable:!0,value:void 0}),(0,p._)(this,c,{writable:!0,value:void 0}),(0,p._)(this,d,{writable:!0,value:void 0}),(0,m._)(this,d,!1),(0,m._)(this,c,e.defaultOptions),this.setOptions(e.options),this.observers=[],(0,m._)(this,l,e.client),(0,m._)(this,o,(0,f._)(this,l).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,(0,m._)(this,n,O(this.options)),this.state=null!=(t=e.state)?t:(0,f._)(this,n),this.scheduleGc()}});function A(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function R(e,t){return{data:e,dataUpdatedAt:null!=t?t:Date.now(),error:null,isInvalidated:!1,status:"success"}}function O(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,s=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=s?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function I(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":var r;return{...t,...A(t.data,this.options),fetchMeta:null!=(r=e.meta)?r:null};case"success":let s={...t,...R(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return(0,m._)(this,a,e.manual?s:void 0),s;case"error":let i=e.error;return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),b.notifyManager.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),(0,f._)(this,o).notify({query:this,type:"updated",action:e})})}},14272,e=>{"use strict";e.s(["Mutation",()=>p,"getDefaultState",()=>m]);var t,r,s,i,n,a=e.i(39946),o=e.i(70292),l=e.i(62351),u=e.i(37696),c=e.i(88245),d=e.i(40143),h=e.i(88587),f=e.i(36553),p=(t=new WeakMap,r=new WeakMap,s=new WeakMap,i=new WeakMap,n=new WeakSet,class extends h.Removable{setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){(0,a._)(this,r).includes(e)||((0,a._)(this,r).push(e),this.clearGcTimeout(),(0,a._)(this,s).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){(0,l._)(this,r,(0,a._)(this,r).filter(t=>t!==e)),this.scheduleGc(),(0,a._)(this,s).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){(0,a._)(this,r).length||("pending"===this.state.status?this.scheduleGc():(0,a._)(this,s).remove(this))}continue(){var e,t;return null!=(t=null==(e=(0,a._)(this,i))?void 0:e.continue())?t:this.execute(this.state.variables)}async execute(e){var r,o,c,d,h,p,m,g,w,b,x,_,k,C,S,j,T,M,E,P,N;let A=()=>{(0,u._)(this,n,y).call(this,{type:"continue"})},R={client:(0,a._)(this,t),meta:this.options.meta,mutationKey:this.options.mutationKey};(0,l._)(this,i,(0,f.createRetryer)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,R):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{(0,u._)(this,n,y).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{(0,u._)(this,n,y).call(this,{type:"pause"})},onContinue:A,retry:null!=(r=this.options.retry)?r:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>(0,a._)(this,s).canRun(this)}));let O="pending"===this.state.status,I=!(0,a._)(this,i).canStart();try{if(O)A();else{(0,u._)(this,n,y).call(this,{type:"pending",variables:e,isPaused:I}),await (null==(b=(x=(0,a._)(this,s).config).onMutate)?void 0:b.call(x,e,this,R));let t=await (null==(_=(k=this.options).onMutate)?void 0:_.call(k,e,R));t!==this.state.context&&(0,u._)(this,n,y).call(this,{type:"pending",context:t,variables:e,isPaused:I})}let t=await (0,a._)(this,i).start();return await (null==(o=(c=(0,a._)(this,s).config).onSuccess)?void 0:o.call(c,t,e,this.state.context,this,R)),await (null==(d=(h=this.options).onSuccess)?void 0:d.call(h,t,e,this.state.context,R)),await (null==(p=(m=(0,a._)(this,s).config).onSettled)?void 0:p.call(m,t,null,this.state.variables,this.state.context,this,R)),await (null==(g=(w=this.options).onSettled)?void 0:g.call(w,t,null,e,this.state.context,R)),(0,u._)(this,n,y).call(this,{type:"success",data:t}),t}catch(t){try{throw await (null==(C=(S=(0,a._)(this,s).config).onError)?void 0:C.call(S,t,e,this.state.context,this,R)),await (null==(j=(T=this.options).onError)?void 0:j.call(T,t,e,this.state.context,R)),await (null==(M=(E=(0,a._)(this,s).config).onSettled)?void 0:M.call(E,void 0,t,this.state.variables,this.state.context,this,R)),await (null==(P=(N=this.options).onSettled)?void 0:P.call(N,void 0,t,e,this.state.context,R)),t}finally{(0,u._)(this,n,y).call(this,{type:"error",error:t})}}finally{(0,a._)(this,s).runNext(this)}}constructor(e){super(),(0,c._)(this,n),(0,o._)(this,t,{writable:!0,value:void 0}),(0,o._)(this,r,{writable:!0,value:void 0}),(0,o._)(this,s,{writable:!0,value:void 0}),(0,o._)(this,i,{writable:!0,value:void 0}),(0,l._)(this,t,e.client),this.mutationId=e.mutationId,(0,l._)(this,s,e.mutationCache),(0,l._)(this,r,[]),this.state=e.state||m(),this.setOptions(e.options),this.scheduleGc()}});function m(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}function y(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),d.notifyManager.batch(()=>{(0,a._)(this,r).forEach(t=>{t.onMutationUpdate(e)}),(0,a._)(this,s).notify({mutation:this,type:"updated",action:e})})}},12598,e=>{"use strict";e.s(["QueryClientProvider",()=>n,"useQueryClient",()=>i]);var t=e.i(71645),r=e.i(18050),s=t.createContext(void 0),i=e=>{let r=t.useContext(s);if(e)return e;if(!r)throw Error("No QueryClient set, use QueryClientProvider to set one");return r},n=e=>{let{client:i,children:n}=e;return t.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),(0,r.jsx)(s.Provider,{value:i,children:n})}},19458,e=>{"use strict";e.s(["Providers",()=>D],19458);var t,r,s,i,n,a,o,l,u,c,d,h,f=e.i(18050),p=e.i(39946),m=e.i(70292),y=e.i(62351),g=e.i(26005);function w(e,t){var r=(0,g._)(e,t,"update");if(r.set){if(!r.get)throw TypeError("attempted to read set only private field");return"__destrWrapper"in r||(r.__destrWrapper={set value(v){r.set.call(e,v)},get value(){return r.get.call(e)}}),r.__destrWrapper}if(!r.writable)throw TypeError("attempted to set read only private field");return r}var b=e.i(19273),x=e.i(86491),_=e.i(40143),k=e.i(15823),C=(t=new WeakMap,class extends k.Subscribable{build(e,t,r){var s;let i=t.queryKey,n=null!=(s=t.queryHash)?s:(0,b.hashQueryKeyByOptions)(i,t),a=this.get(n);return a||(a=new x.Query({client:e,queryKey:i,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){(0,p._)(this,t).has(e.queryHash)||((0,p._)(this,t).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let r=(0,p._)(this,t).get(e.queryHash);r&&(e.destroy(),r===e&&(0,p._)(this,t).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return(0,p._)(this,t).get(e)}getAll(){return[...(0,p._)(this,t).values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,b.matchQuery)(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,b.matchQuery)(e,t)):t}notify(e){_.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){_.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}constructor(e={}){super(),(0,m._)(this,t,{writable:!0,value:void 0}),this.config=e,(0,y._)(this,t,new Map)}}),S=e.i(14272),j=k,T=(r=new WeakMap,s=new WeakMap,i=new WeakMap,class extends j.Subscribable{build(e,t,r){let s=new S.Mutation({client:e,mutationCache:this,mutationId:++w(this,i).value,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){(0,p._)(this,r).add(e);let t=M(e);if("string"==typeof t){let r=(0,p._)(this,s).get(t);r?r.push(e):(0,p._)(this,s).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if((0,p._)(this,r).delete(e)){let t=M(e);if("string"==typeof t){let r=(0,p._)(this,s).get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&(0,p._)(this,s).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=M(e);if("string"!=typeof t)return!0;{let r=(0,p._)(this,s).get(t),i=null==r?void 0:r.find(e=>"pending"===e.state.status);return!i||i===e}}runNext(e){let t=M(e);if("string"!=typeof t)return Promise.resolve();{var r,i;let n=null==(r=(0,p._)(this,s).get(t))?void 0:r.find(t=>t!==e&&t.state.isPaused);return null!=(i=null==n?void 0:n.continue())?i:Promise.resolve()}}clear(){_.notifyManager.batch(()=>{(0,p._)(this,r).forEach(e=>{this.notify({type:"removed",mutation:e})}),(0,p._)(this,r).clear(),(0,p._)(this,s).clear()})}getAll(){return Array.from((0,p._)(this,r))}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,b.matchMutation)(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>(0,b.matchMutation)(e,t))}notify(e){_.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return _.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(b.noop))))}constructor(e={}){super(),(0,m._)(this,r,{writable:!0,value:void 0}),(0,m._)(this,s,{writable:!0,value:void 0}),(0,m._)(this,i,{writable:!0,value:void 0}),this.config=e,(0,y._)(this,r,new Set),(0,y._)(this,s,new Map),(0,y._)(this,i,0)}});function M(e){var t;return null==(t=e.options.scope)?void 0:t.id}var E=e.i(75555),P=e.i(14448);function N(e){return{onFetch:(t,r)=>{var s,i,n,a,o;let l=t.options,u=null==(n=t.fetchOptions)||null==(i=n.meta)||null==(s=i.fetchMore)?void 0:s.direction,c=(null==(a=t.state.data)?void 0:a.pages)||[],d=(null==(o=t.state.data)?void 0:o.pageParams)||[],h={pages:[],pageParams:[]},f=0,p=async()=>{let r=!1,s=(0,b.ensureQueryFn)(t.options,t.fetchOptions),i=async(e,i,n)=>{if(r)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);let a=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:i,direction:n?"backward":"forward",meta:t.options.meta};return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),e})(),o=await s(a),{maxPages:l}=t.options,u=n?b.addToStart:b.addToEnd;return{pages:u(e.pages,o,l),pageParams:u(e.pageParams,i,l)}};if(u&&c.length){let e="backward"===u,t={pages:c,pageParams:d},r=(e?function(e,t){var r;let{pages:s,pageParams:i}=t;return s.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,s[0],s,i[0],i):void 0}:A)(l,t);h=await i(t,r,e)}else{let t=null!=e?e:c.length;do{var n;let e=0===f?null!=(n=d[0])?n:l.initialPageParam:A(l,h);if(f>0&&null==e)break;h=await i(h,e),f++}while(f<t)}return h};t.options.persister?t.fetchFn=()=>{var e,s;return null==(e=(s=t.options).persister)?void 0:e.call(s,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=p}}}function A(e,t){let{pages:r,pageParams:s}=t,i=r.length-1;return r.length>0?e.getNextPageParam(r[i],r,s[i],s):void 0}var R=(n=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,class{mount(){w(this,c).value++,1===(0,p._)(this,c)&&((0,y._)(this,d,E.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),(0,p._)(this,n).onFocus())})),(0,y._)(this,h,P.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),(0,p._)(this,n).onOnline())})))}unmount(){var e,t;w(this,c).value--,0===(0,p._)(this,c)&&(null==(e=(0,p._)(this,d))||e.call(this),(0,y._)(this,d,void 0),null==(t=(0,p._)(this,h))||t.call(this),(0,y._)(this,h,void 0))}isFetching(e){return(0,p._)(this,n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return(0,p._)(this,a).findAll({...e,status:"pending"}).length}getQueryData(e){var t;let r=this.defaultQueryOptions({queryKey:e});return null==(t=(0,p._)(this,n).get(r.queryHash))?void 0:t.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=(0,p._)(this,n).build(this,t),s=r.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,b.resolveStaleTime)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return(0,p._)(this,n).findAll(e).map(e=>{let{queryKey:t,state:r}=e;return[t,r.data]})}setQueryData(e,t,r){let s=this.defaultQueryOptions({queryKey:e}),i=(0,p._)(this,n).get(s.queryHash),a=null==i?void 0:i.state.data,o=(0,b.functionalUpdate)(t,a);if(void 0!==o)return(0,p._)(this,n).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return _.notifyManager.batch(()=>(0,p._)(this,n).findAll(e).map(e=>{let{queryKey:s}=e;return[s,this.setQueryData(s,t,r)]}))}getQueryState(e){var t;let r=this.defaultQueryOptions({queryKey:e});return null==(t=(0,p._)(this,n).get(r.queryHash))?void 0:t.state}removeQueries(e){let t=(0,p._)(this,n);_.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=(0,p._)(this,n);return _.notifyManager.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={revert:!0,...t};return Promise.all(_.notifyManager.batch(()=>(0,p._)(this,n).findAll(e).map(e=>e.cancel(r)))).then(b.noop).catch(b.noop)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.notifyManager.batch(()=>{var r,s;return((0,p._)(this,n).findAll(e).forEach(e=>{e.invalidate()}),(null==e?void 0:e.refetchType)==="none")?Promise.resolve():this.refetchQueries({...e,type:null!=(s=null!=(r=null==e?void 0:e.refetchType)?r:null==e?void 0:e.type)?s:"active"},t)})}refetchQueries(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={...r,cancelRefetch:null==(t=r.cancelRefetch)||t};return Promise.all(_.notifyManager.batch(()=>(0,p._)(this,n).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,s);return s.throwOnError||(t=t.catch(b.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(b.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=(0,p._)(this,n).build(this,t);return r.isStaleByTime((0,b.resolveStaleTime)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(b.noop).catch(b.noop)}fetchInfiniteQuery(e){return e.behavior=N(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(b.noop).catch(b.noop)}ensureInfiniteQueryData(e){return e.behavior=N(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return P.onlineManager.isOnline()?(0,p._)(this,a).resumePausedMutations():Promise.resolve()}getQueryCache(){return(0,p._)(this,n)}getMutationCache(){return(0,p._)(this,a)}getDefaultOptions(){return(0,p._)(this,o)}setDefaultOptions(e){(0,y._)(this,o,e)}setQueryDefaults(e,t){(0,p._)(this,l).set((0,b.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...(0,p._)(this,l).values()],r={};return t.forEach(t=>{(0,b.partialMatchKey)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){(0,p._)(this,u).set((0,b.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...(0,p._)(this,u).values()],r={};return t.forEach(t=>{(0,b.partialMatchKey)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...(0,p._)(this,o).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,b.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===b.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...(0,p._)(this,o).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){(0,p._)(this,n).clear(),(0,p._)(this,a).clear()}constructor(e={}){(0,m._)(this,n,{writable:!0,value:void 0}),(0,m._)(this,a,{writable:!0,value:void 0}),(0,m._)(this,o,{writable:!0,value:void 0}),(0,m._)(this,l,{writable:!0,value:void 0}),(0,m._)(this,u,{writable:!0,value:void 0}),(0,m._)(this,c,{writable:!0,value:void 0}),(0,m._)(this,d,{writable:!0,value:void 0}),(0,m._)(this,h,{writable:!0,value:void 0}),(0,y._)(this,n,e.queryCache||new C),(0,y._)(this,a,e.mutationCache||new T),(0,y._)(this,o,e.defaultOptions||{}),(0,y._)(this,l,new Map),(0,y._)(this,u,new Map),(0,y._)(this,c,0)}}),O=e.i(12598),I=e.i(71645);function D(e){let{children:t}=e,[r]=(0,I.useState)(()=>new R({defaultOptions:{queries:{staleTime:3e4,gcTime:3e5,retry:1,refetchOnWindowFocus:!0}}}));return(0,f.jsx)(O.QueryClientProvider,{client:r,children:t})}},3484,e=>{"use strict";e.s(["Toaster",()=>u],3484);var t=e.i(18050),r=e.i(23287),r=r,s=e.i(79664),s=s,i=e.i(17521),i=i;let n=(0,e.i(75254).default)("octagon-x",[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var a=e.i(82458),a=a,o=e.i(63178),l=e.i(46696);let u=e=>{let{...u}=e,{theme:c="system"}=(0,o.useTheme)();return(0,t.jsx)(l.Toaster,{theme:c,className:"toaster group",icons:{success:(0,t.jsx)(r.default,{className:"size-4"}),info:(0,t.jsx)(s.default,{className:"size-4"}),warning:(0,t.jsx)(a.default,{className:"size-4"}),error:(0,t.jsx)(n,{className:"size-4"}),loading:(0,t.jsx)(i.default,{className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...u})}},14388,e=>{"use strict";e.s(["UploadQueueWrapper",()=>T],14388);var t=e.i(18050),r=e.i(71645),s=e.i(64659),i=e.i(55900),n=e.i(37727),a=e.i(95242),o=e.i(31343),l=e.i(67240),u=e.i(27612),c=e.i(95468),d=e.i(63209),h=e.i(69074),f=e.i(31278),p=e.i(3116);let m=(0,e.i(75254).default)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);var y=e.i(98361),g=e.i(67881),w=e.i(87336),b=e.i(71435),x=e.i(47163),_=e.i(75688),k=e.i(90347);function C(e){let{status:r}=e,{icon:s,label:i,className:o}={queued:{icon:(0,t.jsx)(p.Clock,{className:"h-3 w-3"}),label:"Queued",className:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"},uploading:{icon:(0,t.jsx)(f.Loader2,{className:"h-3 w-3 animate-spin"}),label:"Uploading",className:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300"},paused:{icon:(0,t.jsx)(a.Pause,{className:"h-3 w-3"}),label:"Paused",className:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300"},completed:{icon:(0,t.jsx)(c.CheckCircle2,{className:"h-3 w-3"}),label:"Complete",className:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"},error:{icon:(0,t.jsx)(d.AlertCircle,{className:"h-3 w-3"}),label:"Failed",className:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"},cancelled:{icon:(0,t.jsx)(n.X,{className:"h-3 w-3"}),label:"Cancelled",className:"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400"}}[r];return(0,t.jsxs)("span",{className:(0,x.cn)("inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium",o),children:[s,i]})}function S(e){let{item:r,onPause:s,onResume:i,onCancel:c,onRetry:d,onRemove:f}=e,p="uploading"===r.status,m="uploading"===r.status,y="paused"===r.status,b="error"===r.status||"cancelled"===r.status,_="uploading"===r.status||"queued"===r.status||"paused"===r.status,S=["completed","error","cancelled"].includes(r.status);return(0,t.jsx)("div",{className:"px-3 py-2 hover:bg-muted/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,t.jsx)("div",{className:(0,x.cn)("w-8 h-8 rounded-lg flex items-center justify-center",p?"bg-blue-100 dark:bg-blue-900":"bg-muted"),children:(0,t.jsx)(h.Upload,{className:(0,x.cn)("h-4 w-4",p?"text-blue-600 dark:text-blue-400":"text-muted-foreground")})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate max-w-[280px]",children:r.fileName}),(0,t.jsx)(C,{status:r.status})]}),(p||"paused"===r.status)&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(w.Progress,{value:r.progress,className:"h-1.5"})}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:[(0,k.formatBytes)(r.uploadedBytes)," / ",(0,k.formatBytes)(r.fileSize)]}),p&&r.speed>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-muted-foreground/50",children:"|"}),(0,t.jsx)("span",{children:(0,k.formatSpeed)(r.speed)})]}),p&&r.eta>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-muted-foreground/50",children:"|"}),(0,t.jsxs)("span",{children:[(0,k.formatTime)(r.eta)," left"]})]}),r.totalChunks&&r.totalChunks>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-muted-foreground/50",children:"|"}),(0,t.jsxs)("span",{children:["Chunk ",r.uploadedChunks||0,"/",r.totalChunks]})]}),"completed"===r.status&&r.startTime&&r.endTime&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-muted-foreground/50",children:"|"}),(0,t.jsxs)("span",{className:"text-green-600 dark:text-green-400",children:[(0,k.formatTime)(Math.round((r.endTime-r.startTime)/1e3))," ","@ ",(0,k.formatSpeed)(r.fileSize/((r.endTime-r.startTime)/1e3))," avg"]})]}),"error"===r.status&&r.error&&(0,t.jsx)("span",{className:"text-red-500 truncate",children:r.error})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[m&&(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s(r.id),title:"Pause",children:(0,t.jsx)(a.Pause,{className:"h-3.5 w-3.5"})}),y&&(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>i(r.id),title:"Resume",children:(0,t.jsx)(o.Play,{className:"h-3.5 w-3.5"})}),b&&(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>d(r.id),title:"Retry",children:(0,t.jsx)(l.RotateCcw,{className:"h-3.5 w-3.5"})}),_&&(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 text-red-500 hover:text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-500/20",onClick:()=>c(r.id),title:"Cancel",children:(0,t.jsx)(n.X,{className:"h-3.5 w-3.5"})}),S&&(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>f(r.id),title:"Remove",children:(0,t.jsx)(u.Trash2,{className:"h-3.5 w-3.5"})})]})]})})}function j(){let[e,n]=(0,r.useState)(!0),[a,o]=(0,r.useState)(!1),{items:l,pause:h,resume:p,cancel:C,retry:j,remove:T,clearCompleted:M,stats:E,overallProgress:P,hasItems:N,hasActiveUploads:A}=(0,_.useUploadQueue)();if(!N)return null;let R=l.filter(e=>"uploading"===e.status||"queued"===e.status),O=l.filter(e=>"completed"===e.status),I=l.filter(e=>"error"===e.status||"cancelled"===e.status);return(0,t.jsxs)("div",{className:(0,x.cn)("fixed bottom-4 right-4 z-50 bg-background border rounded-lg shadow-lg transition-all duration-200",a?"w-72":"w-[520px]"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-muted/50 rounded-t-lg cursor-pointer",onClick:()=>!a&&n(!e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[A?(0,t.jsx)(f.Loader2,{className:"h-4 w-4 animate-spin text-blue-500"}):E.failed>0?(0,t.jsx)(d.AlertCircle,{className:"h-4 w-4 text-red-500"}):(0,t.jsx)(c.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:A?"Uploading ".concat(E.uploading+E.queued," file").concat(E.uploading+E.queued!==1?"s":""):E.failed>0?"".concat(E.failed," failed"):"".concat(E.completed," completed")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(O.length>0||I.length>0)&&(0,t.jsxs)(g.Button,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:e=>{e.stopPropagation(),M()},title:"Clear completed and failed uploads",children:[(0,t.jsx)(u.Trash2,{className:"h-3.5 w-3.5 mr-1"}),"Clear"]}),!a&&(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>{t.stopPropagation(),n(!e)},children:e?(0,t.jsx)(s.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(i.ChevronUp,{className:"h-4 w-4"})}),(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:e=>{e.stopPropagation(),o(!a)},children:a?(0,t.jsx)(y.Maximize2,{className:"h-3.5 w-3.5"}):(0,t.jsx)(m,{className:"h-3.5 w-3.5"})})]})]}),a&&(0,t.jsxs)("div",{className:"px-3 py-2",children:[(0,t.jsx)(w.Progress,{value:P.percent,className:"h-1.5"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-1.5 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:[Math.round(P.percent),"%"]}),(0,t.jsxs)("span",{children:[(0,k.formatBytes)(P.uploadedBytes)," / ",(0,k.formatBytes)(P.totalBytes)]})]})]}),!a&&e&&(0,t.jsxs)(t.Fragment,{children:[A&&(0,t.jsxs)("div",{className:"px-3 py-2 border-b bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1.5 text-xs",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Overall Progress"}),(0,t.jsxs)("span",{className:"font-medium",children:[Math.round(P.percent),"%"]})]}),(0,t.jsx)(w.Progress,{value:P.percent,className:"h-2"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:[(0,k.formatBytes)(P.uploadedBytes)," / ",(0,k.formatBytes)(P.totalBytes)]}),(0,t.jsxs)("span",{children:[E.uploading," active, ",E.queued," queued"]})]})]}),(0,t.jsx)(b.ScrollArea,{className:"max-h-72",children:(0,t.jsxs)("div",{className:"divide-y",children:[R.map(e=>(0,t.jsx)(S,{item:e,onPause:h,onResume:p,onCancel:C,onRetry:j,onRemove:T},e.id)),I.map(e=>(0,t.jsx)(S,{item:e,onPause:h,onResume:p,onCancel:C,onRetry:j,onRemove:T},e.id)),O.map(e=>(0,t.jsx)(S,{item:e,onPause:h,onResume:p,onCancel:C,onRetry:j,onRemove:T},e.id))]})})]})]})}function T(){return(0,t.jsx)(j,{})}}]);