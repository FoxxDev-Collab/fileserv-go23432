(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84767,e=>{"use strict";e.s(["default",()=>tV],84767);var t=e.i(18050),a=e.i(71645),s=e.i(18566),r=e.i(22016),l=e.i(49786),n=e.i(81868),i=e.i(94008),o=e.i(27025),c=e.i(23585),d=e.i(40160),u=e.i(27612),m=e.i(88511),h=e.i(58524),x=e.i(55900),p=e.i(64659),f=e.i(78583),g=e.i(75254);let j=(0,g.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]),v=(0,g.default)("file-image",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),w=(0,g.default)("file-play",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]]),y=(0,g.default)("file-headphone",[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]]),b=(0,g.default)("file-archive",[["path",{d:"M13.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v11.5",key:"4pqfef"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 12v-1",key:"1ej8lb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M8 7V6",key:"1nbb54"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]]),N=(0,g.default)("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),k=(0,g.default)("presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]),C=(0,g.default)("file-type",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]]);var S=e.i(47627),D=e.i(63415),T=e.i(67881),F=e.i(20783),z=e.i(81140),M=e.i(69340),A=e.i(99682),P=e.i(35804),E=e.i(96626);e.i(74080);var _=Symbol("radix.slottable");function I(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===_}var R=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let r=function(e){let s=function(e){let t=a.forwardRef((e,t)=>{let{children:s,...r}=e;if(a.isValidElement(s)){var l,n,i;let e,o,c=(o=(e=null==(n=Object.getOwnPropertyDescriptor((l=s).props,"ref"))?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(o=(e=null==(i=Object.getOwnPropertyDescriptor(l,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref,d=function(e,t){let a={...t};for(let s in t){let r=e[s],l=t[s];/^on[A-Z]/.test(s)?r&&l?a[s]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let s=l(...t);return r(...t),s}:r&&(a[s]=r):"style"===s?a[s]={...r,...l}:"className"===s&&(a[s]=[r,l].filter(Boolean).join(" "))}return{...e,...a}}(r,s.props);return s.type!==a.Fragment&&(d.ref=t?(0,F.composeRefs)(t,c):c),a.cloneElement(s,d)}return a.Children.count(s)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),r=a.forwardRef((e,r)=>{let{children:l,...n}=e,i=a.Children.toArray(l),o=i.find(I);if(o){let e=o.props.children,l=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(s,{...n,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,l):null})}return(0,t.jsx)(s,{...n,ref:r,children:l})});return r.displayName="".concat(e,".Slot"),r}("Primitive.".concat(s)),l=a.forwardRef((e,a)=>{let{asChild:l,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(l?r:s,{...n,ref:a})});return l.displayName="Primitive.".concat(s),{...e,[s]:l}},{}),L="Checkbox",[O,V]=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],l=()=>{let t=r.map(e=>a.createContext(e));return function(s){let r=(null==s?void 0:s[e])||t;return a.useMemo(()=>({["__scope".concat(e)]:{...s,[e]:r}}),[s,r])}};return l.scopeName=e,[function(s,l){let n=a.createContext(l),i=r.length;r=[...r,l];let o=s=>{var r;let{scope:l,children:o,...c}=s,d=(null==l||null==(r=l[e])?void 0:r[i])||n,u=a.useMemo(()=>c,Object.values(c));return(0,t.jsx)(d.Provider,{value:u,children:o})};return o.displayName=s+"Provider",[o,function(t,r){var o;let c=(null==r||null==(o=r[e])?void 0:o[i])||n,d=a.useContext(c);if(d)return d;if(void 0!==l)return l;throw Error("`".concat(t,"` must be used within `").concat(s,"`"))}]},function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let r=t[0];if(1===t.length)return r;let l=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let s=e.reduce((e,a)=>{let{useScope:s,scopeName:r}=a,l=s(t)["__scope".concat(r)];return{...e,...l}},{});return a.useMemo(()=>({["__scope".concat(r.scopeName)]:s}),[s])}};return l.scopeName=r.scopeName,l}(l,...s)]}(L),[B,H]=O(L);function U(e){let{__scopeCheckbox:s,checked:r,children:l,defaultChecked:n,disabled:i,form:o,name:c,onCheckedChange:d,required:u,value:m="on",internal_do_not_use_render:h}=e,[x,p]=(0,M.useControllableState)({prop:r,defaultProp:null!=n&&n,onChange:d,caller:L}),[f,g]=a.useState(null),[j,v]=a.useState(null),w=a.useRef(!1),y=!f||!!o||!!f.closest("form"),b={checked:x,disabled:i,setChecked:p,control:f,setControl:g,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:!X(n)&&n,isFormControl:y,bubbleInput:j,setBubbleInput:v};return(0,t.jsx)(B,{scope:s,...b,children:"function"==typeof h?h(b):l})}var W="CheckboxTrigger",q=a.forwardRef((e,s)=>{let{__scopeCheckbox:r,onKeyDown:l,onClick:n,...i}=e,{control:o,value:c,disabled:d,checked:u,required:m,setControl:h,setChecked:x,hasConsumerStoppedPropagationRef:p,isFormControl:f,bubbleInput:g}=H(W,r),j=(0,F.useComposedRefs)(s,h),v=a.useRef(u);return a.useEffect(()=>{let e=null==o?void 0:o.form;if(e){let t=()=>x(v.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[o,x]),(0,t.jsx)(R.button,{type:"button",role:"checkbox","aria-checked":X(u)?"mixed":u,"aria-required":m,"data-state":Q(u),"data-disabled":d?"":void 0,disabled:d,value:c,...i,ref:j,onKeyDown:(0,z.composeEventHandlers)(l,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,z.composeEventHandlers)(n,e=>{x(e=>!!X(e)||!e),g&&f&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())})})});q.displayName=W;var G=a.forwardRef((e,a)=>{let{__scopeCheckbox:s,name:r,checked:l,defaultChecked:n,required:i,disabled:o,value:c,onCheckedChange:d,form:u,...m}=e;return(0,t.jsx)(U,{__scopeCheckbox:s,checked:l,defaultChecked:n,disabled:o,required:i,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:e=>{let{isFormControl:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q,{...m,ref:a,__scopeCheckbox:s}),r&&(0,t.jsx)(J,{__scopeCheckbox:s})]})}})});G.displayName=L;var Z="CheckboxIndicator",K=a.forwardRef((e,a)=>{let{__scopeCheckbox:s,forceMount:r,...l}=e,n=H(Z,s);return(0,t.jsx)(E.Presence,{present:r||X(n.checked)||!0===n.checked,children:(0,t.jsx)(R.span,{"data-state":Q(n.checked),"data-disabled":n.disabled?"":void 0,...l,ref:a,style:{pointerEvents:"none",...e.style}})})});K.displayName=Z;var Y="CheckboxBubbleInput",J=a.forwardRef((e,s)=>{let{__scopeCheckbox:r,...l}=e,{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:c,required:d,disabled:u,name:m,value:h,form:x,bubbleInput:p,setBubbleInput:f}=H(Y,r),g=(0,F.useComposedRefs)(s,f),j=(0,A.usePrevious)(o),v=(0,P.useSize)(n);a.useEffect(()=>{if(!p)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(j!==o&&e){let a=new Event("click",{bubbles:t});p.indeterminate=X(o),e.call(p,!X(o)&&o),p.dispatchEvent(a)}},[p,j,o,i]);let w=a.useRef(!X(o)&&o);return(0,t.jsx)(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=c?c:w.current,required:d,disabled:u,name:m,value:h,form:x,...l,tabIndex:-1,ref:g,style:{...l.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function X(e){return"indeterminate"===e}function Q(e){return X(e)?"indeterminate":e?"checked":"unchecked"}J.displayName=Y;var $=e.i(78784),ee=e.i(47163);function et(e){let{className:a,...s}=e;return(0,t.jsx)(G,{"data-slot":"checkbox",className:(0,ee.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:(0,t.jsx)(K,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,t.jsx)($.CheckIcon,{className:"size-3.5"})})})}var ea=e.i(94179),es=e.i(26330),er=e.i(10772),el=e.i(53660),en=e.i(74606),ei=Symbol("radix.slottable");function eo(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ei}var ec=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let r=function(e){let s=function(e){let t=a.forwardRef((e,t)=>{let{children:s,...r}=e;if(a.isValidElement(s)){var l,n,i;let e,o,c=(o=(e=null==(n=Object.getOwnPropertyDescriptor((l=s).props,"ref"))?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(o=(e=null==(i=Object.getOwnPropertyDescriptor(l,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref,d=function(e,t){let a={...t};for(let s in t){let r=e[s],l=t[s];/^on[A-Z]/.test(s)?r&&l?a[s]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let s=l(...t);return r(...t),s}:r&&(a[s]=r):"style"===s?a[s]={...r,...l}:"className"===s&&(a[s]=[r,l].filter(Boolean).join(" "))}return{...e,...a}}(r,s.props);return s.type!==a.Fragment&&(d.ref=t?(0,F.composeRefs)(t,c):c),a.cloneElement(s,d)}return a.Children.count(s)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),r=a.forwardRef((e,r)=>{let{children:l,...n}=e,i=a.Children.toArray(l),o=i.find(eo);if(o){let e=o.props.children,l=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(s,{...n,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,l):null})}return(0,t.jsx)(s,{...n,ref:r,children:l})});return r.displayName="".concat(e,".Slot"),r}("Primitive.".concat(s)),l=a.forwardRef((e,a)=>{let{asChild:l,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(l?r:s,{...n,ref:a})});return l.displayName="Primitive.".concat(s),{...e,[s]:l}},{}),ed=e.i(59411),[eu,em]=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],l=()=>{let t=r.map(e=>a.createContext(e));return function(s){let r=(null==s?void 0:s[e])||t;return a.useMemo(()=>({["__scope".concat(e)]:{...s,[e]:r}}),[s,r])}};return l.scopeName=e,[function(s,l){let n=a.createContext(l),i=r.length;r=[...r,l];let o=s=>{var r;let{scope:l,children:o,...c}=s,d=(null==l||null==(r=l[e])?void 0:r[i])||n,u=a.useMemo(()=>c,Object.values(c));return(0,t.jsx)(d.Provider,{value:u,children:o})};return o.displayName=s+"Provider",[o,function(t,r){var o;let c=(null==r||null==(o=r[e])?void 0:o[i])||n,d=a.useContext(c);if(d)return d;if(void 0!==l)return l;throw Error("`".concat(t,"` must be used within `").concat(s,"`"))}]},function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let r=t[0];if(1===t.length)return r;let l=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let s=e.reduce((e,a)=>{let{useScope:s,scopeName:r}=a,l=s(t)["__scope".concat(r)];return{...e,...l}},{});return a.useMemo(()=>({["__scope".concat(r.scopeName)]:s}),[s])}};return l.scopeName=r.scopeName,l}(l,...s)]}("Tooltip",[el.createPopperScope]),eh=(0,el.createPopperScope)(),ex="TooltipProvider",ep="tooltip.open",[ef,eg]=eu(ex),ej=e=>{let{__scopeTooltip:s,delayDuration:r=700,skipDelayDuration:l=300,disableHoverableContent:n=!1,children:i}=e,o=a.useRef(!0),c=a.useRef(!1),d=a.useRef(0);return a.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(ef,{scope:s,isOpenDelayedRef:o,delayDuration:r,onOpen:a.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,l)},[l]),isPointerInTransitRef:c,onPointerInTransitChange:a.useCallback(e=>{c.current=e},[]),disableHoverableContent:n,children:i})};ej.displayName=ex;var ev="Tooltip",[ew,ey]=eu(ev),eb=e=>{let{__scopeTooltip:s,children:r,open:l,defaultOpen:n,onOpenChange:i,disableHoverableContent:o,delayDuration:c}=e,d=eg(ev,e.__scopeTooltip),u=eh(s),[m,h]=a.useState(null),x=(0,er.useId)(),p=a.useRef(0),f=null!=o?o:d.disableHoverableContent,g=null!=c?c:d.delayDuration,j=a.useRef(!1),[v,w]=(0,M.useControllableState)({prop:l,defaultProp:null!=n&&n,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(ep))):d.onClose(),null==i||i(e)},caller:ev}),y=a.useMemo(()=>v?j.current?"delayed-open":"instant-open":"closed",[v]),b=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j.current=!1,w(!0)},[w]),N=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),k=a.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{j.current=!0,w(!0),p.current=0},g)},[g,w]);return a.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,t.jsx)(el.Root,{...u,children:(0,t.jsx)(ew,{scope:s,contentId:x,open:v,stateAttribute:y,trigger:m,onTriggerChange:h,onTriggerEnter:a.useCallback(()=>{d.isOpenDelayedRef.current?k():b()},[d.isOpenDelayedRef,k,b]),onTriggerLeave:a.useCallback(()=>{f?N():(window.clearTimeout(p.current),p.current=0)},[N,f]),onOpen:b,onClose:N,disableHoverableContent:f,children:r})})};eb.displayName=ev;var eN="TooltipTrigger",ek=a.forwardRef((e,s)=>{let{__scopeTooltip:r,...l}=e,n=ey(eN,r),i=eg(eN,r),o=eh(r),c=a.useRef(null),d=(0,F.useComposedRefs)(s,c,n.onTriggerChange),u=a.useRef(!1),m=a.useRef(!1),h=a.useCallback(()=>u.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),(0,t.jsx)(el.Anchor,{asChild:!0,...o,children:(0,t.jsx)(ec.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...l,ref:d,onPointerMove:(0,z.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(m.current||i.isPointerInTransitRef.current||(n.onTriggerEnter(),m.current=!0))}),onPointerLeave:(0,z.composeEventHandlers)(e.onPointerLeave,()=>{n.onTriggerLeave(),m.current=!1}),onPointerDown:(0,z.composeEventHandlers)(e.onPointerDown,()=>{n.open&&n.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:(0,z.composeEventHandlers)(e.onFocus,()=>{u.current||n.onOpen()}),onBlur:(0,z.composeEventHandlers)(e.onBlur,n.onClose),onClick:(0,z.composeEventHandlers)(e.onClick,n.onClose)})})});ek.displayName=eN;var eC="TooltipPortal",[eS,eD]=eu(eC,{forceMount:void 0}),eT=e=>{let{__scopeTooltip:a,forceMount:s,children:r,container:l}=e,n=ey(eC,a);return(0,t.jsx)(eS,{scope:a,forceMount:s,children:(0,t.jsx)(E.Presence,{present:s||n.open,children:(0,t.jsx)(en.Portal,{asChild:!0,container:l,children:r})})})};eT.displayName=eC;var eF="TooltipContent",ez=a.forwardRef((e,a)=>{let s=eD(eF,e.__scopeTooltip),{forceMount:r=s.forceMount,side:l="top",...n}=e,i=ey(eF,e.__scopeTooltip);return(0,t.jsx)(E.Presence,{present:r||i.open,children:i.disableHoverableContent?(0,t.jsx)(e_,{side:l,...n,ref:a}):(0,t.jsx)(eM,{side:l,...n,ref:a})})}),eM=a.forwardRef((e,s)=>{let r=ey(eF,e.__scopeTooltip),l=eg(eF,e.__scopeTooltip),n=a.useRef(null),i=(0,F.useComposedRefs)(s,n),[o,c]=a.useState(null),{trigger:d,onClose:u}=r,m=n.current,{onPointerInTransitChange:h}=l,x=a.useCallback(()=>{c(null),h(!1)},[h]),p=a.useCallback((e,t)=>{let a=e.currentTarget,s={x:e.clientX,y:e.clientY},r=function(e,t){let a=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(a,s,r,l)){case l:return"left";case r:return"right";case a:return"top";case s:return"bottom";default:throw Error("unreachable")}}(s,a.getBoundingClientRect());c(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let a=0;a<e.length;a++){let s=e[a];for(;t.length>=2;){let e=t[t.length-1],a=t[t.length-2];if((e.x-a.x)*(s.y-a.y)>=(e.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();let a=[];for(let t=e.length-1;t>=0;t--){let s=e[t];for(;a.length>=2;){let e=a[a.length-1],t=a[a.length-2];if((e.x-t.x)*(s.y-t.y)>=(e.y-t.y)*(s.x-t.x))a.pop();else break}a.push(s)}return(a.pop(),1===t.length&&1===a.length&&t[0].x===a[0].x&&t[0].y===a[0].y)?t:t.concat(a)}(t)}([...function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=[];switch(t){case"top":s.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":s.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":s.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":s.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a})}return s}(s,r),...function(e){let{top:t,right:a,bottom:s,left:r}=e;return[{x:r,y:t},{x:a,y:t},{x:a,y:s},{x:r,y:s}]}(t.getBoundingClientRect())])),h(!0)},[h]);return a.useEffect(()=>()=>x(),[x]),a.useEffect(()=>{if(d&&m){let e=e=>p(e,m),t=e=>p(e,d);return d.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[d,m,p,x]),a.useEffect(()=>{if(o){let e=e=>{let t=e.target,a={x:e.clientX,y:e.clientY},s=(null==d?void 0:d.contains(t))||(null==m?void 0:m.contains(t)),r=!function(e,t){let{x:a,y:s}=e,r=!1;for(let e=0,l=t.length-1;e<t.length;l=e++){let n=t[e],i=t[l],o=n.x,c=n.y,d=i.x,u=i.y;c>s!=u>s&&a<(d-o)*(s-c)/(u-c)+o&&(r=!r)}return r}(a,o);s?x():r&&(x(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,m,o,u,x]),(0,t.jsx)(e_,{...e,ref:i})}),[eA,eP]=eu(ev,{isInside:!1}),eE=function(e){let a=e=>{let{children:a}=e;return(0,t.jsx)(t.Fragment,{children:a})};return a.displayName="".concat(e,".Slottable"),a.__radixId=ei,a}("TooltipContent"),e_=a.forwardRef((e,s)=>{let{__scopeTooltip:r,children:l,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=e,d=ey(eF,r),u=eh(r),{onClose:m}=d;return a.useEffect(()=>(document.addEventListener(ep,m),()=>document.removeEventListener(ep,m)),[m]),a.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;(null==t?void 0:t.contains(d.trigger))&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,m]),(0,t.jsx)(es.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,t.jsxs)(el.Content,{"data-state":d.stateAttribute,...u,...c,ref:s,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(eE,{children:l}),(0,t.jsx)(eA,{scope:r,isInside:!0,children:(0,t.jsx)(ed.Root,{id:d.contentId,role:"tooltip",children:n||l})})]})})});ez.displayName=eF;var eI="TooltipArrow",eR=a.forwardRef((e,a)=>{let{__scopeTooltip:s,...r}=e,l=eh(s);return eP(eI,s).isInside?null:(0,t.jsx)(el.Arrow,{...l,...r,ref:a})});function eL(e){let{delayDuration:a=0,...s}=e;return(0,t.jsx)(ej,{"data-slot":"tooltip-provider",delayDuration:a,...s})}function eO(e){let{...a}=e;return(0,t.jsx)(eL,{children:(0,t.jsx)(eb,{"data-slot":"tooltip",...a})})}function eV(e){let{...a}=e;return(0,t.jsx)(ek,{"data-slot":"tooltip-trigger",...a})}function eB(e){let{className:a,sideOffset:s=0,children:r,...l}=e;return(0,t.jsx)(eT,{children:(0,t.jsxs)(ez,{"data-slot":"tooltip-content",sideOffset:s,className:(0,ee.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",a),...l,children:[r,(0,t.jsx)(eR,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}eR.displayName=eI;let eH=[{id:"select",label:"Select",visible:!1},{id:"icon",label:"Icon",visible:!0,alwaysVisible:!0},{id:"name",label:"Name",visible:!0,alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"size",label:"Size",visible:!0},{id:"owner",label:"Owner",visible:!0},{id:"group",label:"Group",visible:!1},{id:"permissions",label:"Permissions",visible:!0},{id:"modified",label:"Modified",visible:!0},{id:"actions",label:"Actions",visible:!0,alwaysVisible:!0}];function eU(e){var t,a;if("folder"===e.type)return"Folder";let s=(null==(t=e.extension)?void 0:t.toLowerCase())||"",r=e.mimeType||"",l={pdf:"PDF Document",doc:"Word Document",docx:"Word Document",txt:"Text File",rtf:"Rich Text",odt:"OpenDocument Text",xls:"Excel Spreadsheet",xlsx:"Excel Spreadsheet",csv:"CSV File",ods:"OpenDocument Spreadsheet",ppt:"PowerPoint",pptx:"PowerPoint",odp:"OpenDocument Presentation",jpg:"JPEG Image",jpeg:"JPEG Image",png:"PNG Image",gif:"GIF Image",svg:"SVG Image",webp:"WebP Image",ico:"Icon",bmp:"Bitmap Image",mp4:"MP4 Video",webm:"WebM Video",avi:"AVI Video",mkv:"MKV Video",mov:"QuickTime Video",mp3:"MP3 Audio",wav:"WAV Audio",ogg:"OGG Audio",flac:"FLAC Audio",m4a:"M4A Audio",zip:"ZIP Archive",tar:"TAR Archive",gz:"GZip Archive",rar:"RAR Archive","7z":"7-Zip Archive",js:"JavaScript",ts:"TypeScript",tsx:"TypeScript React",jsx:"JavaScript React",json:"JSON",html:"HTML",css:"CSS",py:"Python",go:"Go",rs:"Rust",java:"Java",c:"C Source",cpp:"C++ Source",h:"Header File",sh:"Shell Script",sql:"SQL",md:"Markdown",yml:"YAML",yaml:"YAML",xml:"XML",log:"Log File",conf:"Config File",cfg:"Config File",ini:"INI File",env:"Environment File"};return l[s]?l[s]:s?s.toUpperCase()+" File":r&&(null==(a=r.split("/")[1])?void 0:a.toUpperCase())||"File"}function eW(e){let{files:s,onNavigate:r,onDownload:l,onDelete:n,onRename:g,onShare:F,onSelectionChange:z,showSelection:M=!1,columns:A,onColumnsChange:P}=e,[E,_]=(0,a.useState)("name"),[I,R]=(0,a.useState)("asc"),[L,O]=(0,a.useState)(new Set),[V,B]=(0,a.useState)(eH.map(e=>({...e,visible:"select"===e.id?M:e.visible}))),H=null!=A?A:V,U=e=>{if(null==e)return"-";if(0===e)return"0 B";let t=["B","KB","MB","GB","TB"],a=e,s=0;for(;a>=1024&&s<t.length-1;)a/=1024,s++;return"".concat(a.toFixed(+(0!==s))," ").concat(t[s])},W=(0,a.useMemo)(()=>[...s].sort((e,t)=>{if("folder"===e.type&&"folder"!==t.type)return -1;if("folder"!==e.type&&"folder"===t.type)return 1;let a=0;switch(E){case"name":a=e.name.localeCompare(t.name,void 0,{numeric:!0});break;case"size":a=(e.size||0)-(t.size||0);break;case"modifiedAt":a=new Date(e.modifiedAt).getTime()-new Date(t.modifiedAt).getTime();break;case"owner":a=(e.owner||"").localeCompare(t.owner||"");break;case"type":a=eU(e).localeCompare(eU(t))}return"asc"===I?a:-a}),[s,E,I]),q=e=>{var t,a;return null!=(a=null==(t=H.find(t=>t.id===e))?void 0:t.visible)&&a},G=e=>{let{field:a}=e;return E!==a?null:"asc"===I?(0,t.jsx)(x.ChevronUp,{className:"h-4 w-4 ml-1"}):(0,t.jsx)(p.ChevronDown,{className:"h-4 w-4 ml-1"})},Z=e=>{let{field:a,children:s,className:r}=e;return(0,t.jsx)(S.TableHead,{className:r,children:(0,t.jsxs)("button",{className:"flex items-center hover:text-foreground transition-colors font-medium",onClick:()=>{E===a?R("asc"===I?"desc":"asc"):(_(a),R("asc"))},children:[s,(0,t.jsx)(G,{field:a})]})})};return 0===s.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground border rounded-lg bg-muted/20",children:[(0,t.jsx)(o.Folder,{className:"h-16 w-16 mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"No files or folders"}),(0,t.jsx)("p",{className:"text-sm",children:"Upload files to get started"})]}):(0,t.jsx)(eL,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,t.jsxs)(S.Table,{children:[(0,t.jsx)(S.TableHeader,{children:(0,t.jsxs)(S.TableRow,{className:"bg-muted/50",children:[q("select")&&(0,t.jsx)(S.TableHead,{className:"w-10",children:(0,t.jsx)(et,{checked:L.size===s.length&&s.length>0,onCheckedChange:e=>{e?(O(new Set(s.map(e=>e.id))),z&&z(s)):(O(new Set),z&&z([]))}})}),(0,t.jsx)(S.TableHead,{className:"w-10"}),(0,t.jsx)(Z,{field:"name",className:"min-w-[200px]",children:"Name"}),q("type")&&(0,t.jsx)(Z,{field:"type",className:"w-32",children:"Type"}),q("size")&&(0,t.jsx)(Z,{field:"size",className:"w-24 text-right",children:"Size"}),q("owner")&&(0,t.jsx)(Z,{field:"owner",className:"w-28",children:"Owner"}),q("group")&&(0,t.jsx)(S.TableHead,{className:"w-28",children:"Group"}),q("permissions")&&(0,t.jsx)(S.TableHead,{className:"w-28",children:"Permissions"}),q("modified")&&(0,t.jsx)(Z,{field:"modifiedAt",className:"w-44",children:"Modified"}),(0,t.jsx)(S.TableHead,{className:"w-12"})]})}),(0,t.jsx)(S.TableBody,{children:W.map(e=>{var a;let x=function(e){if(!e)return{readable:"Unknown",symbolic:"?"};let t=e.length>=10?e.slice(1,10):e,a=[];if(t.length>=9){let e=t.slice(0,3),s=t.slice(3,6),r=t.slice(6,9),l=e=>{let t="";return"r"===e[0]&&(t+="R"),"w"===e[1]&&(t+="W"),("x"===e[2]||"s"===e[2]||"t"===e[2])&&(t+="X"),t||"-"};a.push("Owner: ".concat(l(e))),a.push("Group: ".concat(l(s))),a.push("Other: ".concat(l(r)))}return{readable:a.join(", ")||e,symbolic:t}}(e.mode);return(0,t.jsxs)(S.TableRow,{className:(0,ee.cn)("group","folder"===e.type&&"cursor-pointer hover:bg-muted/50",L.has(e.id)&&"bg-primary/5"),onClick:()=>"folder"===e.type&&void("folder"===e.type&&r&&r(e.path)),children:[q("select")&&(0,t.jsx)(S.TableCell,{onClick:e=>e.stopPropagation(),children:(0,t.jsx)(et,{checked:L.has(e.id),onCheckedChange:t=>((e,t)=>{let a=new Set(L);t?a.add(e):a.delete(e),O(a),z&&z(s.filter(e=>a.has(e.id)))})(e.id,t)})}),(0,t.jsx)(S.TableCell,{className:"text-center",children:function(e){var a;if("folder"===e.type)return(0,t.jsx)(o.Folder,{className:"h-5 w-5 text-blue-500"});let s=e.mimeType||"",r=(null==(a=e.extension)?void 0:a.toLowerCase())||"";return s.startsWith("image/")||["jpg","jpeg","png","gif","svg","webp","ico","bmp"].includes(r)?(0,t.jsx)(v,{className:"h-5 w-5 text-green-500"}):s.startsWith("video/")||["mp4","webm","avi","mkv","mov","wmv","flv"].includes(r)?(0,t.jsx)(w,{className:"h-5 w-5 text-purple-500"}):s.startsWith("audio/")||["mp3","wav","ogg","flac","aac","m4a"].includes(r)?(0,t.jsx)(y,{className:"h-5 w-5 text-pink-500"}):["zip","tar","gz","rar","7z","bz2","xz"].includes(r)||s.includes("zip")||s.includes("compressed")||s.includes("archive")?(0,t.jsx)(b,{className:"h-5 w-5 text-yellow-600"}):["xls","xlsx","csv","ods"].includes(r)||s.includes("spreadsheet")||s.includes("excel")?(0,t.jsx)(N,{className:"h-5 w-5 text-green-600"}):["ppt","pptx","odp"].includes(r)||s.includes("presentation")||s.includes("powerpoint")?(0,t.jsx)(k,{className:"h-5 w-5 text-orange-500"}):["doc","docx","odt","rtf"].includes(r)||s.includes("document")||s.includes("msword")?(0,t.jsx)(f.FileText,{className:"h-5 w-5 text-blue-600"}):"pdf"===r||"application/pdf"===s?(0,t.jsx)(C,{className:"h-5 w-5 text-red-500"}):s.startsWith("text/")||["js","ts","tsx","jsx","json","html","css","py","go","rs","java","c","cpp","h","sh","bash","yml","yaml","xml","md","sql","php","rb","swift","kt"].includes(r)?(0,t.jsx)(j,{className:"h-5 w-5 text-cyan-500"}):["txt","log","conf","cfg","ini","env"].includes(r)?(0,t.jsx)(f.FileText,{className:"h-5 w-5 text-gray-500"}):(0,t.jsx)(i.File,{className:"h-5 w-5 text-muted-foreground"})}(e)}),(0,t.jsx)(S.TableCell,{children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium truncate max-w-[300px]",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground truncate max-w-[300px]",children:e.path})]})}),q("type")&&(0,t.jsx)(S.TableCell,{className:"text-muted-foreground text-sm",children:eU(e)}),q("size")&&(0,t.jsx)(S.TableCell,{className:"text-right text-muted-foreground tabular-nums",children:"folder"===e.type?"-":U(e.size)}),q("owner")&&(0,t.jsx)(S.TableCell,{children:(0,t.jsx)("span",{className:"text-sm",children:e.owner||"-"})}),q("group")&&(0,t.jsx)(S.TableCell,{children:(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.group||"-"})}),q("permissions")&&(0,t.jsx)(S.TableCell,{children:(0,t.jsxs)(eO,{children:[(0,t.jsx)(eV,{asChild:!0,children:(0,t.jsx)(ea.Badge,{variant:"secondary",className:(0,ee.cn)("font-mono text-xs cursor-help",(a=e.mode)?a.length>=10&&"w"===a[8]?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":a.includes("x")?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"),children:x.symbolic})}),(0,t.jsxs)(eB,{side:"top",className:"max-w-xs",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Permissions"}),(0,t.jsx)("p",{className:"text-xs",children:x.readable})]})]})}),q("modified")&&(0,t.jsx)(S.TableCell,{className:"text-muted-foreground text-sm",children:(e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/864e5);return 0===a?"Today, ".concat(t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})):1===a?"Yesterday, ".concat(t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})):a<7?t.toLocaleDateString("en-US",{weekday:"short",hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})(e.modifiedAt)}),(0,t.jsx)(S.TableCell,{children:(0,t.jsxs)(D.DropdownMenu,{children:[(0,t.jsx)(D.DropdownMenuTrigger,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,t.jsx)(T.Button,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(c.MoreVertical,{className:"h-4 w-4"})})}),(0,t.jsxs)(D.DropdownMenuContent,{align:"end",children:["file"===e.type&&l&&(0,t.jsxs)(D.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),l(e)},children:[(0,t.jsx)(d.Download,{className:"mr-2 h-4 w-4"}),"Download"]}),F&&(0,t.jsxs)(D.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),F(e)},children:[(0,t.jsx)(h.Link2,{className:"mr-2 h-4 w-4"}),"Share"]}),g&&(0,t.jsxs)(D.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),g(e)},children:[(0,t.jsx)(m.Edit,{className:"mr-2 h-4 w-4"}),"Rename"]}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.DropdownMenuSeparator,{}),(0,t.jsxs)(D.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),n(e)},className:"text-destructive focus:text-destructive",children:[(0,t.jsx)(u.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},e.id)})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground px-2",children:[(0,t.jsxs)("span",{children:[s.length," item",1!==s.length?"s":"",L.size>0&&" (".concat(L.size," selected)")]}),(0,t.jsxs)("span",{children:["Total size:"," ",U(s.reduce((e,t)=>e+(t.size||0),0))]})]})]})})}var eq=e.i(91918),eG=e.i(63059);function eZ(e){let{...a}=e;return(0,t.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...a})}function eK(e){let{className:a,...s}=e;return(0,t.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,ee.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",a),...s})}function eY(e){let{className:a,...s}=e;return(0,t.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,ee.cn)("inline-flex items-center gap-1.5",a),...s})}function eJ(e){let{asChild:a,className:s,...r}=e,l=a?eq.Slot:"a";return(0,t.jsx)(l,{"data-slot":"breadcrumb-link",className:(0,ee.cn)("hover:text-foreground transition-colors",s),...r})}function eX(e){let{className:a,...s}=e;return(0,t.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,ee.cn)("text-foreground font-normal",a),...s})}function eQ(e){let{children:a,className:s,...r}=e;return(0,t.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,ee.cn)("[&>svg]:size-3.5",s),...r,children:null!=a?a:(0,t.jsx)(eG.ChevronRight,{})})}e.i(41071);var e$=e.i(94351),e0=e.i(52786);function e1(e){let{path:a,onNavigate:s,rootLabel:r}=e,l=a.split("/").filter(Boolean),n=[{name:r||"Home",navPath:"/",isRoot:!0},...l.map((e,t)=>({name:e,navPath:"/"+l.slice(0,t+1).join("/"),isRoot:!1}))];return(0,t.jsx)(eZ,{children:(0,t.jsx)(eK,{children:n.map((e,a)=>{let l=a===n.length-1,i=r?e0.HardDrive:e$.Home;return(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(eY,{children:l?(0,t.jsxs)(eX,{className:"flex items-center gap-2",children:[e.isRoot&&(0,t.jsx)(i,{className:"h-4 w-4"}),e.name]}):(0,t.jsx)(eJ,{asChild:!0,children:(0,t.jsxs)("a",{href:"#",onClick:t=>{var a;return a=e.navPath,void(t.preventDefault(),s&&s(a))},className:"flex items-center gap-2 cursor-pointer",children:[e.isRoot&&(0,t.jsx)(i,{className:"h-4 w-4"}),e.name]})})}),!l&&(0,t.jsx)(eQ,{})]},e.navPath)})})})}var e2=e.i(89902),e4=e.i(69074);let e5=(0,g.default)("file-up",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);var e3=e.i(75688),e6=e.i(46696);function e8(e){let{currentPath:s,zoneId:r,children:l,className:n,disabled:i=!1}=e,[o,c]=(0,a.useState)(!1),d=(0,a.useRef)(0),{addFiles:u}=(0,e3.useUploadQueue)(),m=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),!i&&(d.current++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&c(!0))},[i]),h=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),d.current--,0===d.current&&c(!1)},[]),x=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),p=(0,a.useCallback)(async e=>{if(e.preventDefault(),e.stopPropagation(),c(!1),d.current=0,i)return;let t=[];if(e.dataTransfer.items){for(let s of Array.from(e.dataTransfer.items))if("file"===s.kind){var a;let e=null==(a=s.webkitGetAsEntry)?void 0:a.call(s);if(e){if(e.isFile){let e=s.getAsFile();e&&t.push(e)}else if(e.isDirectory){let a=await e7(e);t.push(...a)}}else{let e=s.getAsFile();e&&t.push(e)}}}else e.dataTransfer.files&&t.push(...Array.from(e.dataTransfer.files));t.length>0&&(u(t,s,r),e6.toast.success("Added ".concat(t.length," file").concat(1!==t.length?"s":""," to upload queue")))},[i,u,s,r]);return(0,a.useEffect)(()=>{d.current=0,c(!1)},[s,r]),(0,t.jsxs)("div",{className:(0,ee.cn)("relative",n),onDragEnter:m,onDragLeave:h,onDragOver:x,onDrop:p,children:[l,o&&!i&&(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-primary/10 border-2 border-dashed border-primary rounded-lg backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 text-primary",children:[(0,t.jsx)("div",{className:"p-4 bg-primary/20 rounded-full",children:(0,t.jsx)(e5,{className:"h-8 w-8"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-lg font-semibold",children:"Drop files here"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Files will be uploaded to current folder"})]})]})})]})}async function e7(e){let t=[],a=e.createReader(),s=()=>new Promise((e,t)=>{a.readEntries(e,t)}),r=e=>new Promise((t,a)=>{e.file(t,a)}),l=[];do for(let e of l=await s())if(e.isFile)try{let a=await r(e),s=e.fullPath.replace(/^\//,""),l=new File([a],s,{type:a.type,lastModified:a.lastModified});t.push(l)}catch(t){console.warn("Could not read file:",e.fullPath,t)}else if(e.isDirectory){let a=await e7(e);t.push(...a)}while(l.length>0)return t}var e9=e.i(23750),te=e.i(30374),tt=e.i(30009),ta=e.i(62870),ts=e.i(70065),tr=e.i(10708),tl=e.i(71428);let tn=(0,g.default)("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var ti=e.i(16715),to=e.i(61911),tc=e.i(48256),td=e.i(75505),tu=e.i(63209),tm=e.i(72520),th=e.i(58041),tx=e.i(98919),tp=e.i(31278);let tf=(0,g.default)("folder-input",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);var tg=e.i(37727);let tj=(0,g.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),tv=(0,g.default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var tw=e.i(86536);let ty=(0,g.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var tb=e.i(54858),tN=e.i(91432),tk=e.i(84762),tC=e.i(19036),tS=e.i(27341),tD=e.i(74886),tT=e.i(43531),tF=e.i(70756),tz=e.i(3116),tM=e.i(39312);function tA(e){let{open:s,onOpenChange:r,targetPath:l,targetName:n,isFolder:i,onShareCreated:o}=e,[c,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),[g,j]=(0,a.useState)("quick"),[v,w]=(0,a.useState)("7d"),[y,b]=(0,a.useState)({name:"",description:"",password:"",expiresIn:168,noExpiry:!1,maxDownloads:0,maxViews:0,allowDownload:!0,allowPreview:!0,allowUpload:!1,allowListing:!0,showOwner:!1,customMessage:""}),N=()=>{x(null),f(!1),j("quick"),w("7d"),b({name:"",description:"",password:"",expiresIn:168,noExpiry:!1,maxDownloads:0,maxViews:0,allowDownload:!0,allowPreview:!0,allowUpload:!1,allowListing:!0,showOwner:!1,customMessage:""})},k=async()=>{u(!0);try{let e;switch(v){case"1h":e=1;break;case"24h":e=24;break;case"7d":default:e=168;break;case"30d":e=720;break;case"never":e=-1}let t={target_path:l,expires_in:e,allow_download:!0,allow_preview:!0,allow_listing:i},a=await tb.shareLinksAPI.create(t);x(a),null==o||o(a),e6.toast.success("Share link created!")}catch(e){e6.toast.error("Failed to create share link: ".concat(e))}finally{u(!1)}},C=async()=>{u(!0);try{let e={target_path:l,name:y.name||void 0,description:y.description||void 0,password:y.password||void 0,expires_in:y.noExpiry?-1:y.expiresIn,max_downloads:y.maxDownloads||void 0,max_views:y.maxViews||void 0,allow_download:y.allowDownload,allow_preview:y.allowPreview,allow_upload:y.allowUpload,allow_listing:y.allowListing,show_owner:y.showOwner,custom_message:y.customMessage||void 0},t=await tb.shareLinksAPI.create(e);x(t),null==o||o(t),e6.toast.success("Share link created!")}catch(e){e6.toast.error("Failed to create share link: ".concat(e))}finally{u(!1)}},S=()=>{N(),r(!1)};return(0,t.jsx)(te.Dialog,{open:s,onOpenChange:S,children:(0,t.jsxs)(te.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(te.DialogHeader,{children:[(0,t.jsxs)(te.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Link2,{className:"h-5 w-5"}),"Share ",i?"Folder":"File"]}),(0,t.jsxs)(te.DialogDescription,{children:['Create a shareable link for "',n,'"']})]}),m?(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:(0,t.jsx)(tT.Check,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"font-medium",children:"Link Created!"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Anyone with this link can access the ",i?"folder":"file"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e9.Input,{value:tb.shareLinksAPI.getShareUrl(m),readOnly:!0,className:"font-mono text-sm"}),(0,t.jsx)(T.Button,{variant:"outline",size:"icon",onClick:()=>{if(!m)return;let e=tb.shareLinksAPI.getShareUrl(m);navigator.clipboard.writeText(e),f(!0),e6.toast.success("Link copied to clipboard!"),setTimeout(()=>f(!1),2e3)},children:p?(0,t.jsx)(tT.Check,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(tD.Copy,{className:"h-4 w-4"})})]}),m.expires_at&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground text-center",children:[(0,t.jsx)(tz.Clock,{className:"h-3 w-3 inline mr-1"}),"Expires ",new Date(m.expires_at).toLocaleDateString()]}),m.password_hash&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground text-center",children:[(0,t.jsx)(tF.Lock,{className:"h-3 w-3 inline mr-1"}),"Password protected"]})]}):(0,t.jsxs)(tS.Tabs,{value:g,onValueChange:e=>j(e),children:[(0,t.jsxs)(tS.TabsList,{className:"grid w-full grid-cols-2",children:[(0,t.jsxs)(tS.TabsTrigger,{value:"quick",className:"flex items-center gap-2",children:[(0,t.jsx)(tM.Zap,{className:"h-4 w-4"}),"Quick Share"]}),(0,t.jsxs)(tS.TabsTrigger,{value:"custom",className:"flex items-center gap-2",children:[(0,t.jsx)(tx.Shield,{className:"h-4 w-4"}),"Custom"]})]}),(0,t.jsxs)(tS.TabsContent,{value:"quick",className:"space-y-4 pt-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tr.Label,{children:"Link Expiration"}),(0,t.jsxs)(ta.Select,{value:v,onValueChange:w,children:[(0,t.jsx)(ta.SelectTrigger,{children:(0,t.jsx)(ta.SelectValue,{})}),(0,t.jsxs)(ta.SelectContent,{children:[(0,t.jsx)(ta.SelectItem,{value:"1h",children:"1 hour"}),(0,t.jsx)(ta.SelectItem,{value:"24h",children:"24 hours"}),(0,t.jsx)(ta.SelectItem,{value:"7d",children:"7 days"}),(0,t.jsx)(ta.SelectItem,{value:"30d",children:"30 days"}),(0,t.jsx)(ta.SelectItem,{value:"never",children:"Never"})]})]})]}),(0,t.jsx)("div",{className:"rounded-lg border p-3 bg-muted/50",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Quick share creates a link with default settings: downloads and preview enabled, no password protection."})})]}),(0,t.jsxs)(tS.TabsContent,{value:"custom",className:"space-y-4 pt-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tr.Label,{htmlFor:"name",children:"Link Name (optional)"}),(0,t.jsx)(e9.Input,{id:"name",placeholder:"My shared file",value:y.name,onChange:e=>b({...y,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tr.Label,{htmlFor:"password",children:"Password (optional)"}),(0,t.jsx)(e9.Input,{id:"password",type:"password",placeholder:"Leave empty for no password",value:y.password,onChange:e=>b({...y,password:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(tr.Label,{children:"Expiration"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Never expires"}),(0,t.jsx)(tC.Switch,{checked:y.noExpiry,onCheckedChange:e=>b({...y,noExpiry:e})})]})]}),!y.noExpiry&&(0,t.jsxs)(ta.Select,{value:y.expiresIn.toString(),onValueChange:e=>b({...y,expiresIn:parseInt(e)}),children:[(0,t.jsx)(ta.SelectTrigger,{children:(0,t.jsx)(ta.SelectValue,{})}),(0,t.jsxs)(ta.SelectContent,{children:[(0,t.jsx)(ta.SelectItem,{value:"1",children:"1 hour"}),(0,t.jsx)(ta.SelectItem,{value:"24",children:"24 hours"}),(0,t.jsx)(ta.SelectItem,{value:"168",children:"7 days"}),(0,t.jsx)(ta.SelectItem,{value:"720",children:"30 days"}),(0,t.jsx)(ta.SelectItem,{value:"2160",children:"90 days"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tr.Label,{children:"Max Downloads"}),(0,t.jsx)(e9.Input,{type:"number",placeholder:"0 = unlimited",value:y.maxDownloads||"",onChange:e=>b({...y,maxDownloads:parseInt(e.target.value)||0})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tr.Label,{children:"Max Views"}),(0,t.jsx)(e9.Input,{type:"number",placeholder:"0 = unlimited",value:y.maxViews||"",onChange:e=>b({...y,maxViews:parseInt(e.target.value)||0})})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(tr.Label,{children:"Permissions"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Download,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:"Download"})]}),(0,t.jsx)(tC.Switch,{checked:y.allowDownload,onCheckedChange:e=>b({...y,allowDownload:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tw.Eye,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:"Preview"})]}),(0,t.jsx)(tC.Switch,{checked:y.allowPreview,onCheckedChange:e=>b({...y,allowPreview:e})})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(td.FolderOpen,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:"List Files"})]}),(0,t.jsx)(tC.Switch,{checked:y.allowListing,onCheckedChange:e=>b({...y,allowListing:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e4.Upload,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:"Upload"})]}),(0,t.jsx)(tC.Switch,{checked:y.allowUpload,onCheckedChange:e=>b({...y,allowUpload:e})})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tr.Label,{htmlFor:"message",children:"Custom Message (optional)"}),(0,t.jsx)(tk.Textarea,{id:"message",placeholder:"Add a message for recipients...",value:y.customMessage,onChange:e=>b({...y,customMessage:e.target.value})})]})]})]}),(0,t.jsx)(te.DialogFooter,{children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.Button,{variant:"outline",onClick:N,children:"Create Another"}),(0,t.jsx)(T.Button,{onClick:S,children:"Done"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.Button,{variant:"outline",onClick:S,children:"Cancel"}),(0,t.jsx)(T.Button,{onClick:"quick"===g?k:C,disabled:c,children:c?(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Link2,{className:"h-4 w-4 mr-2"}),"Create Link"]})})]})})]})})}var tP=e.i(71435);function tE(e){let{open:s,onOpenChange:r,zoneId:l,selectedFiles:n,currentPath:i,onMove:c}=e,[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)("/"),[x,p]=(0,a.useState)(new Set(["/"])),[f,g]=(0,a.useState)(null),[j,v]=(0,a.useState)(new Map),[w,y]=(0,a.useState)(!1),b=(0,a.useCallback)(async e=>{if(j.has(e))return j.get(e);g(e);try{let t=await tb.zoneFilesAPI.listFolders(l,e);return v(a=>new Map(a).set(e,t)),t}catch(e){return console.error("Failed to load folders:",e),[]}finally{g(null)}},[l,j]);(0,a.useEffect)(()=>{s&&(b("/").then(u),h("/"),p(new Set(["/"])),v(new Map))},[s,l]);let N=async e=>{let t=new Set(x);t.has(e)?t.delete(e):(t.add(e),await b(e)),p(t)},k=async()=>{y(!0);try{await c(m),r(!1)}finally{y(!1)}},C=e=>{if(e===i)return!1;for(let t of n)if("folder"===t.type){let a=t.path.replace(/\/$/,"");if(e===a||e.startsWith(a+"/"))return!1}return!0},S=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(j.get(e)||("/"===e?d:[])).map(s=>{let r="/"===e?"/".concat(s.name):"".concat(e,"/").concat(s.name),l=x.has(r),n=m===r,i=f===r,c=C(r),d=!j.has(r)||j.get(r).length>0;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,ee.cn)("flex items-center gap-1 py-1.5 px-2 rounded-md cursor-pointer",n&&c&&"bg-primary text-primary-foreground",!n&&c&&"hover:bg-muted",!c&&"opacity-50 cursor-not-allowed"),style:{paddingLeft:"".concat(16*a+8,"px")},onClick:()=>c&&h(r),children:[(0,t.jsx)("button",{className:"p-0.5 hover:bg-black/10 rounded",onClick:e=>{e.stopPropagation(),N(r)},children:i?(0,t.jsx)(tp.Loader2,{className:"h-4 w-4 animate-spin"}):d?(0,t.jsx)(eG.ChevronRight,{className:(0,ee.cn)("h-4 w-4 transition-transform",l&&"rotate-90")}):(0,t.jsx)("span",{className:"w-4"})}),l?(0,t.jsx)(td.FolderOpen,{className:"h-4 w-4 text-yellow-500"}):(0,t.jsx)(o.Folder,{className:"h-4 w-4 text-yellow-500"}),(0,t.jsx)("span",{className:"truncate text-sm",children:s.name})]}),l&&(0,t.jsx)("div",{children:S(r,a+1)})]},r)})},D=n.length,F=1===D?n[0].name:"".concat(D," items");return(0,t.jsx)(te.Dialog,{open:s,onOpenChange:r,children:(0,t.jsxs)(te.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(te.DialogHeader,{children:[(0,t.jsx)(te.DialogTitle,{children:"Move to..."}),(0,t.jsxs)(te.DialogDescription,{children:["Select a destination folder for ",F]})]}),(0,t.jsxs)("div",{className:"border rounded-md",children:[(0,t.jsxs)("div",{className:(0,ee.cn)("flex items-center gap-2 py-2 px-3 cursor-pointer border-b","/"===m&&C("/")?"bg-primary text-primary-foreground":"hover:bg-muted",!C("/")&&"opacity-50 cursor-not-allowed"),onClick:()=>C("/")&&h("/"),children:[(0,t.jsx)(e$.Home,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Root"})]}),(0,t.jsx)(tP.ScrollArea,{className:"h-[300px]",children:(0,t.jsx)("div",{className:"p-1",children:"/"===f?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(tp.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===d.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No folders found"}):S("/")})})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Moving to: ",(0,t.jsx)("span",{className:"font-medium",children:m||"/"})]}),(0,t.jsxs)(te.DialogFooter,{children:[(0,t.jsx)(T.Button,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),(0,t.jsx)(T.Button,{onClick:k,disabled:w||!C(m),children:w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tp.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Moving..."]}):"Move here"})]})]})})}e.i(73827);var t_=e.i(31686);function tI(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(tl.Skeleton,{className:"h-4 w-24"}),(0,t.jsx)(tl.Skeleton,{className:"h-10 w-64"})]}),(0,t.jsx)(tl.Skeleton,{className:"h-6 w-48"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(tl.Skeleton,{className:"h-10 w-64"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(tl.Skeleton,{className:"h-10 w-10"}),(0,t.jsx)(tl.Skeleton,{className:"h-10 w-32"}),(0,t.jsx)(tl.Skeleton,{className:"h-10 w-32"})]})]}),(0,t.jsx)(ts.Card,{children:(0,t.jsx)(ts.CardContent,{className:"p-0",children:(0,t.jsx)("div",{className:"divide-y",children:[1,2,3,4,5].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4",children:[(0,t.jsx)(tl.Skeleton,{className:"h-10 w-10 rounded"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(tl.Skeleton,{className:"h-4 w-48"}),(0,t.jsx)(tl.Skeleton,{className:"h-3 w-24"})]}),(0,t.jsx)(tl.Skeleton,{className:"h-8 w-20"})]},e))})})})]})}function tR(){return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsxs)(ts.Card,{className:"max-w-2xl w-full",children:[(0,t.jsxs)(ts.CardHeader,{className:"text-center pb-2",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(th.Database,{className:"h-8 w-8 text-primary"})}),(0,t.jsx)(ts.CardTitle,{className:"text-2xl",children:"Set Up Storage Zones"}),(0,t.jsx)(ts.CardDescription,{className:"text-base mt-2",children:"Storage zones define where users can store their files. You need to create at least one storage pool and zone to get started."})]}),(0,t.jsxs)(ts.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/50",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium",children:"1"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Create a Storage Pool"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"A storage pool defines a physical location on your server where files will be stored (e.g., /srv/data)."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/50",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium",children:"2"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Create a Share Zone"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"A share zone is a folder within a pool where users can access files. Set the type (personal, group, or public) and access permissions."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/50",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium",children:"3"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Start Using Files"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Once configured, users can upload, organize, and share files through their accessible zones."})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[(0,t.jsx)(T.Button,{asChild:!0,className:"flex-1",children:(0,t.jsxs)(r.default,{href:"/admin/storage/pools",children:[(0,t.jsx)(th.Database,{className:"mr-2 h-4 w-4"}),"Create Storage Pool",(0,t.jsx)(tm.ArrowRight,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsx)(T.Button,{asChild:!0,variant:"outline",className:"flex-1",children:(0,t.jsxs)(r.default,{href:"/admin/storage/zones",children:[(0,t.jsx)(td.FolderOpen,{className:"mr-2 h-4 w-4"}),"Manage Zones"]})})]})]})]})})}function tL(){return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsxs)(ts.Card,{className:"max-w-lg w-full",children:[(0,t.jsxs)(ts.CardHeader,{className:"text-center pb-2",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-muted flex items-center justify-center",children:(0,t.jsx)(td.FolderOpen,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsx)(ts.CardTitle,{className:"text-xl",children:"No Storage Access"}),(0,t.jsx)(ts.CardDescription,{className:"text-base mt-2",children:"You don't have access to any storage zones yet."})]}),(0,t.jsxs)(ts.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"rounded-lg border bg-muted/50 p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(tx.Shield,{className:"h-5 w-5 text-muted-foreground shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Storage zones are managed by administrators"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contact your system administrator to request access to a storage zone. They can assign you to personal, group, or public storage areas."})]})]})}),(0,t.jsxs)("div",{className:"text-center pt-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Once you have access, you'll be able to:"}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 mt-3",children:[(0,t.jsxs)(ea.Badge,{variant:"secondary",className:"text-xs",children:[(0,t.jsx)(td.FolderOpen,{className:"mr-1 h-3 w-3"}),"Browse Files"]}),(0,t.jsxs)(ea.Badge,{variant:"secondary",className:"text-xs",children:[(0,t.jsx)(e0.HardDrive,{className:"mr-1 h-3 w-3"}),"Upload & Download"]}),(0,t.jsxs)(ea.Badge,{variant:"secondary",className:"text-xs",children:[(0,t.jsx)(to.Users,{className:"mr-1 h-3 w-3"}),"Share with Others"]})]})]})]})]})})}function tO(e){let{message:a,onRetry:s}=e;return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsxs)(ts.Card,{className:"max-w-md w-full",children:[(0,t.jsxs)(ts.CardHeader,{className:"text-center pb-2",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-destructive/10 flex items-center justify-center",children:(0,t.jsx)(tu.AlertCircle,{className:"h-8 w-8 text-destructive"})}),(0,t.jsx)(ts.CardTitle,{className:"text-xl",children:"Unable to Load Storage"}),(0,t.jsx)(ts.CardDescription,{className:"text-base mt-2",children:a})]}),(0,t.jsx)(ts.CardContent,{className:"flex justify-center",children:(0,t.jsxs)(T.Button,{onClick:s,variant:"outline",children:[(0,t.jsx)(ti.RefreshCw,{className:"mr-2 h-4 w-4"}),"Try Again"]})})]})})}function tV(){let[e,r]=(0,a.useState)(""),[i,o]=(0,a.useState)("/"),[c,d]=(0,a.useState)([]),[m,h]=(0,a.useState)(!0),[x,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)([]),[j,v]=(0,a.useState)(null),[w,y]=(0,a.useState)(!0),[b,N]=(0,a.useState)(null),{user:k,isAuthenticated:C,hasCheckedAuth:S}=(0,tN.useAuth)(),F=(0,s.useRouter)(),[z,M]=(0,a.useState)(0),[A,P]=(0,a.useState)(!1),[E,_]=(0,a.useState)(0),I=(0,a.useRef)(null),R=(null==k?void 0:k.role)==="admin",[L,O]=(0,a.useState)(!1),[V,B]=(0,a.useState)(""),[H,U]=(0,a.useState)(!1),[W,q]=(0,a.useState)(null),[G,Z]=(0,a.useState)(!1),[K,Y]=(0,a.useState)(null),[J,X]=(0,a.useState)(""),[Q,$]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(null),[es,er]=(0,a.useState)([]),[el,en]=(0,a.useState)(!1),[ei,eo]=(0,a.useState)(!1),[ec,ed]=(0,a.useState)(!1),[eu,em]=(0,a.useState)(()=>eH.map(e=>({...e,visible:"select"===e.id||e.visible}))),eh=(0,a.useCallback)(async()=>{y(!0),N(null);try{let e=await tb.zoneFilesAPI.getAccessibleZones()||[];g(e),e.length>0&&!j&&v(e[0])}catch(e){console.error("Failed to load zones:",e),N("Failed to connect to the server. Please check your connection and try again."),g([])}finally{y(!1)}},[j]),ex=(0,a.useRef)(E);ex.current=E;let ep=(0,a.useCallback)(async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a?p(!0):(h(!0),_(0));try{let s=a?ex.current:0,r=await tb.zoneFilesAPI.listPaginated(e,t,{limit:100,offset:s}),l=r.files.map((e,t)=>({id:"".concat(e.path,"-").concat(t),name:e.name,type:e.is_dir?"folder":"file",size:e.size,modifiedAt:e.mod_time,path:e.path,owner:e.owner,group:e.group,mode:e.mode,mimeType:e.mime_type,extension:e.extension}));a?d(e=>[...e,...l]):d(l),M(r.total),P(r.has_more),_(s+r.files.length)}catch(e){console.error("Failed to load files:",e),e6.toast.error("Failed to load files"),a||(d([]),M(0),P(!1))}finally{h(!1),p(!1)}},[]);console.log("[Files] RENDER - hasCheckedAuth:",S,"isAuthenticated:",C,"user:",null==k?void 0:k.username),(0,a.useEffect)(()=>{console.log("[Files] useEffect - hasCheckedAuth:",S,"isAuthenticated:",C),S&&!C&&(console.log("[Files] REDIRECTING to / because not authenticated"),F.replace("/"))},[S,C,F]),(0,a.useEffect)(()=>{C&&eh()},[C,eh]),(0,a.useEffect)(()=>{C&&j&&ep(j.zone_id,i)},[j,i,C,ep]),(0,a.useEffect)(()=>{let t=new IntersectionObserver(t=>{let[a]=t;a.isIntersecting&&A&&!x&&j&&!e&&ep(j.zone_id,i,!0)},{threshold:.1,rootMargin:"100px"}),a=I.current;return a&&t.observe(a),()=>{a&&t.unobserve(a)}},[A,x,j,i,e,ep]);let ef=e=>{o(e)},eg=async()=>{if(V.trim()&&j)try{let e="/"===i?"/".concat(V):"".concat(i,"/").concat(V);await tb.zoneFilesAPI.createFolder(j.zone_id,e),e6.toast.success("Folder created successfully"),O(!1),B(""),ep(j.zone_id,i)}catch(e){console.error("Failed to create folder:",e),e6.toast.error("Failed to create folder")}},ej=(0,a.useRef)(null),ev=(0,a.useCallback)(()=>{ej.current&&clearTimeout(ej.current),ej.current=setTimeout(()=>{j&&ep(j.zone_id,i),ej.current=null},500)},[j,i,ep]);(0,a.useEffect)(()=>()=>{ej.current&&clearTimeout(ej.current)},[]),(0,e3.useUploadComplete)(ev);let ew=async()=>{if(W&&j)try{await tb.zoneFilesAPI.delete(j.zone_id,W.path),e6.toast.success("Deleted ".concat(W.name)),U(!1),q(null),ep(j.zone_id,i)}catch(e){console.error("Failed to delete:",e),e6.toast.error("Failed to delete file")}},ey=async e=>{if(j)try{e6.toast.info("Downloading ".concat(e.name,"...")),await tb.zoneFilesAPI.download(j.zone_id,e.path),e6.toast.success("Downloaded ".concat(e.name))}catch(e){console.error("Failed to download:",e),e6.toast.error("Failed to download file")}},eb=async()=>{if(K&&J.trim()&&J!==K.name&&j)try{let e=K.path.substring(0,K.path.lastIndexOf("/"))||"/",t="/"===e?"/".concat(J):"".concat(e,"/").concat(J);await tb.zoneFilesAPI.rename(j.zone_id,K.path,t),e6.toast.success("File renamed successfully"),Z(!1),Y(null),X(""),ep(j.zone_id,i)}catch(e){console.error("Failed to rename:",e),e6.toast.error("Failed to rename file")}},eN=(0,a.useCallback)(e=>{er(e)},[]),ek=async()=>{if(j&&0!==es.length){ed(!0);try{let e=es.map(e=>e.path),t=await tb.zoneFilesAPI.bulkDelete(j.zone_id,e);t.deleted.length>0&&e6.toast.success("Deleted ".concat(t.deleted.length," item").concat(1!==t.deleted.length?"s":"")),t.failed&&t.failed.length>0&&e6.toast.error("Failed to delete ".concat(t.failed.length," item").concat(1!==t.failed.length?"s":"")),eo(!1),er([]),ep(j.zone_id,i)}catch(e){console.error("Failed to bulk delete:",e),e6.toast.error("Failed to delete files")}finally{ed(!1)}}},eC=async e=>{if(j&&0!==es.length){ed(!0);try{let t=es.map(e=>e.path),a=await tb.zoneFilesAPI.bulkMove(j.zone_id,t,e);a.moved.length>0&&e6.toast.success("Moved ".concat(a.moved.length," item").concat(1!==a.moved.length?"s":"")),a.failed&&a.failed.length>0&&e6.toast.error("Failed to move ".concat(a.failed.length," item").concat(1!==a.failed.length?"s":"")),en(!1),er([]),ep(j.zone_id,i)}catch(e){console.error("Failed to bulk move:",e),e6.toast.error("Failed to move files")}finally{ed(!1)}}},eS=c.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()));return S&&C?(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsx)(n.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(l.Header,{title:"Files"}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:w?(0,t.jsx)(tI,{}):b?(0,t.jsx)(tO,{message:b,onRetry:eh}):0===f.length?R?(0,t.jsx)(tR,{}):(0,t.jsx)(tL,{}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tr.Label,{htmlFor:"zone-select",className:"text-sm font-medium whitespace-nowrap",children:"Storage Zone:"}),(0,t.jsxs)(ta.Select,{value:(null==j?void 0:j.zone_id)||"",onValueChange:e=>{let t=f.find(t=>t.zone_id===e);t&&(v(t),o("/"))},children:[(0,t.jsx)(ta.SelectTrigger,{id:"zone-select",className:"w-64",children:(0,t.jsx)(ta.SelectValue,{placeholder:"Select a zone"})}),(0,t.jsx)(ta.SelectContent,{children:f.map(e=>(0,t.jsx)(ta.SelectItem,{value:e.zone_id,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[function(e){switch(e){case"personal":default:return(0,t.jsx)(e0.HardDrive,{className:"h-4 w-4"});case"group":return(0,t.jsx)(to.Users,{className:"h-4 w-4"});case"public":return(0,t.jsx)(tc.Globe,{className:"h-4 w-4"})}}(e.zone_type),(0,t.jsx)("span",{children:e.zone_name}),(0,t.jsx)(ea.Badge,{variant:function(e){switch(e){case"personal":default:return"default";case"group":return"secondary";case"public":return"outline"}}(e.zone_type),className:"ml-2 text-xs",children:e.zone_type})]})},e.zone_id))})]})]}),(null==j?void 0:j.description)&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:j.description})]}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e1,{path:i,onNavigate:ef,rootLabel:j.zone_name}),es.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-primary/10 border border-primary/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tj,{className:"h-4 w-4 text-primary"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[es.length," selected"]})]}),(0,t.jsx)("div",{className:"h-4 w-px bg-border"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[j.can_upload&&(0,t.jsxs)(T.Button,{variant:"outline",size:"sm",onClick:()=>en(!0),disabled:ec,children:[(0,t.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Move"]}),(0,t.jsxs)(T.Button,{variant:"outline",size:"sm",onClick:()=>eo(!0),disabled:ec,className:"text-destructive hover:text-destructive",children:[(0,t.jsx)(u.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)(T.Button,{variant:"ghost",size:"sm",onClick:()=>{er([])},children:[(0,t.jsx)(tg.X,{className:"mr-2 h-4 w-4"}),"Clear"]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsx)(e9.Input,{type:"search",placeholder:"Search files...",value:e,onChange:e=>r(e.target.value),className:"max-w-md"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(T.Button,{variant:"outline",size:"icon",onClick:()=>{j&&ep(j.zone_id,i)},disabled:m,children:(0,t.jsx)(ti.RefreshCw,{className:"h-4 w-4 ".concat(m?"animate-spin":"")})}),j.can_upload&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(T.Button,{variant:"outline",onClick:()=>{B(""),O(!0)},children:[(0,t.jsx)(tn,{className:"mr-2 h-4 w-4"}),"New Folder"]}),(0,t.jsx)(e2.UploadButton,{currentPath:i,onUploadComplete:ev,zoneId:j.zone_id})]}),(0,t.jsxs)(D.DropdownMenu,{children:[(0,t.jsx)(D.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(T.Button,{variant:"outline",size:"sm",className:"h-9",children:[(0,t.jsx)(tv,{className:"h-4 w-4 mr-2"}),"Columns"]})}),(0,t.jsxs)(D.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,t.jsx)(D.DropdownMenuLabel,{children:"Toggle columns"}),(0,t.jsx)(D.DropdownMenuSeparator,{}),eu.filter(e=>!e.alwaysVisible&&"select"!==e.id).map(e=>(0,t.jsxs)(D.DropdownMenuCheckboxItem,{checked:e.visible,onCheckedChange:()=>{var t;return t=e.id,void em(e=>e.map(e=>e.id!==t||e.alwaysVisible?e:{...e,visible:!e.visible}))},children:[e.visible?(0,t.jsx)(tw.Eye,{className:"h-4 w-4 mr-2"}):(0,t.jsx)(ty,{className:"h-4 w-4 mr-2"}),e.label]},e.id))]})]})]})]}),(0,t.jsx)(e8,{currentPath:i,zoneId:j.zone_id,disabled:!j.can_upload,className:"min-h-[300px]",children:m?(0,t.jsx)(ts.Card,{children:(0,t.jsx)(ts.CardContent,{className:"p-0",children:(0,t.jsx)("div",{className:"divide-y",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4",children:[(0,t.jsx)(tl.Skeleton,{className:"h-10 w-10 rounded"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(tl.Skeleton,{className:"h-4 w-48"}),(0,t.jsx)(tl.Skeleton,{className:"h-3 w-24"})]})]},e))})})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eW,{files:eS,onNavigate:ef,onDelete:e=>{q(e),U(!0)},onDownload:ey,onRename:e=>{Y(e),X(e.name),Z(!0)},onShare:j.can_share?e=>{et(e),$(!0)}:void 0,showSelection:!0,onSelectionChange:eN,columns:eu,onColumnsChange:em}),!e&&(0,t.jsx)("div",{ref:I,className:"flex justify-center py-4",children:x?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(tp.Loader2,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:"Loading more files..."})]}):A?(0,t.jsxs)(T.Button,{variant:"ghost",onClick:()=>{j&&A&&!x&&ep(j.zone_id,i,!0)},className:"text-muted-foreground",children:[c.length," of ",z," files loaded"]}):c.length>0?(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[c.length," file",1!==c.length?"s":""," loaded"]}):null})]})})]})]})})})]}),(0,t.jsx)(te.Dialog,{open:L,onOpenChange:O,children:(0,t.jsxs)(te.DialogContent,{children:[(0,t.jsxs)(te.DialogHeader,{children:[(0,t.jsx)(te.DialogTitle,{children:"Create New Folder"}),(0,t.jsx)(te.DialogDescription,{children:"Enter a name for the new folder."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(tr.Label,{htmlFor:"folder-name",children:"Folder name"}),(0,t.jsx)(e9.Input,{id:"folder-name",value:V,onChange:e=>B(e.target.value),placeholder:"New Folder",onKeyDown:e=>{"Enter"===e.key&&eg()}})]})}),(0,t.jsxs)(te.DialogFooter,{children:[(0,t.jsx)(T.Button,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),(0,t.jsx)(T.Button,{onClick:eg,disabled:!V.trim(),children:"Create"})]})]})}),(0,t.jsx)(tt.AlertDialog,{open:H,onOpenChange:U,children:(0,t.jsxs)(tt.AlertDialogContent,{children:[(0,t.jsxs)(tt.AlertDialogHeader,{children:[(0,t.jsxs)(tt.AlertDialogTitle,{children:["Delete ",(null==W?void 0:W.type)==="folder"?"Folder":"File"]}),(0,t.jsxs)(tt.AlertDialogDescription,{children:['Are you sure you want to delete "',null==W?void 0:W.name,'"?',(null==W?void 0:W.type)==="folder"&&" This will delete all contents inside the folder.","This action cannot be undone."]})]}),(0,t.jsxs)(tt.AlertDialogFooter,{children:[(0,t.jsx)(tt.AlertDialogCancel,{children:"Cancel"}),(0,t.jsx)(tt.AlertDialogAction,{onClick:ew,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),(0,t.jsx)(te.Dialog,{open:G,onOpenChange:Z,children:(0,t.jsxs)(te.DialogContent,{children:[(0,t.jsxs)(te.DialogHeader,{children:[(0,t.jsxs)(te.DialogTitle,{children:["Rename ",(null==K?void 0:K.type)==="folder"?"Folder":"File"]}),(0,t.jsxs)(te.DialogDescription,{children:['Enter a new name for "',null==K?void 0:K.name,'".']})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(tr.Label,{htmlFor:"new-name",children:"New name"}),(0,t.jsx)(e9.Input,{id:"new-name",value:J,onChange:e=>X(e.target.value),onKeyDown:e=>{"Enter"===e.key&&eb()}})]})}),(0,t.jsxs)(te.DialogFooter,{children:[(0,t.jsx)(T.Button,{variant:"outline",onClick:()=>Z(!1),children:"Cancel"}),(0,t.jsx)(T.Button,{onClick:eb,disabled:!J.trim()||J===(null==K?void 0:K.name),children:"Rename"})]})]})}),ee&&j&&(0,t.jsx)(tA,{open:Q,onOpenChange:$,targetPath:"".concat(j.full_path).concat(ee.path),isFolder:"folder"===ee.type,targetName:ee.name}),(0,t.jsx)(tt.AlertDialog,{open:ei,onOpenChange:eo,children:(0,t.jsxs)(tt.AlertDialogContent,{children:[(0,t.jsxs)(tt.AlertDialogHeader,{children:[(0,t.jsxs)(tt.AlertDialogTitle,{children:["Delete ",es.length," item",1!==es.length?"s":"","?"]}),(0,t.jsxs)(tt.AlertDialogDescription,{children:["Are you sure you want to delete the selected items?",es.some(e=>"folder"===e.type)&&" Folders will have all their contents deleted.","This action cannot be undone."]})]}),(0,t.jsxs)(tt.AlertDialogFooter,{children:[(0,t.jsx)(tt.AlertDialogCancel,{disabled:ec,children:"Cancel"}),(0,t.jsx)(tt.AlertDialogAction,{onClick:ek,disabled:ec,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tp.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete All"})]})]})}),j&&(0,t.jsx)(tE,{open:el,onOpenChange:en,zoneId:j.zone_id,selectedFiles:es.map(e=>({name:e.name,path:e.path,type:e.type})),currentPath:i,onMove:eC})]}):(0,t.jsx)(t_.FilesSkeleton,{})}}]);