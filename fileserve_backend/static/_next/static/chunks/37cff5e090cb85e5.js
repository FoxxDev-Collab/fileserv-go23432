(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30009,e=>{"use strict";e.s(["AlertDialog",()=>M,"AlertDialogAction",()=>L,"AlertDialogCancel",()=>H,"AlertDialogContent",()=>R,"AlertDialogDescription",()=>z,"AlertDialogFooter",()=>_,"AlertDialogHeader",()=>I,"AlertDialogTitle",()=>B,"AlertDialogTrigger",()=>F],30009);var t=e.i(18050),a=e.i(71645),s=e.i(20783),r=e.i(26999),l=e.i(81140),n=Symbol("radix.slottable"),o="AlertDialog",[i,d]=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],l=()=>{let t=r.map(e=>a.createContext(e));return function(s){let r=(null==s?void 0:s[e])||t;return a.useMemo(()=>({["__scope".concat(e)]:{...s,[e]:r}}),[s,r])}};return l.scopeName=e,[function(s,l){let n=a.createContext(l),o=r.length;r=[...r,l];let i=s=>{var r;let{scope:l,children:i,...d}=s,c=(null==l||null==(r=l[e])?void 0:r[o])||n,u=a.useMemo(()=>d,Object.values(d));return(0,t.jsx)(c.Provider,{value:u,children:i})};return i.displayName=s+"Provider",[i,function(t,r){var i;let d=(null==r||null==(i=r[e])?void 0:i[o])||n,c=a.useContext(d);if(c)return c;if(void 0!==l)return l;throw Error("`".concat(t,"` must be used within `").concat(s,"`"))}]},function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let r=t[0];if(1===t.length)return r;let l=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let s=e.reduce((e,a)=>{let{useScope:s,scopeName:r}=a,l=s(t)["__scope".concat(r)];return{...e,...l}},{});return a.useMemo(()=>({["__scope".concat(r.scopeName)]:s}),[s])}};return l.scopeName=r.scopeName,l}(l,...s)]}(o,[r.createDialogScope]),c=(0,r.createDialogScope)(),u=e=>{let{__scopeAlertDialog:a,...s}=e,l=c(a);return(0,t.jsx)(r.Root,{...l,...s,modal:!0})};u.displayName=o;var m=a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,n=c(s);return(0,t.jsx)(r.Trigger,{...n,...l,ref:a})});m.displayName="AlertDialogTrigger";var x=e=>{let{__scopeAlertDialog:a,...s}=e,l=c(a);return(0,t.jsx)(r.Portal,{...l,...s})};x.displayName="AlertDialogPortal";var g=a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,n=c(s);return(0,t.jsx)(r.Overlay,{...n,...l,ref:a})});g.displayName="AlertDialogOverlay";var p="AlertDialogContent",[h,f]=i(p),j=function(e){let a=e=>{let{children:a}=e;return(0,t.jsx)(t.Fragment,{children:a})};return a.displayName="".concat(e,".Slottable"),a.__radixId=n,a}("AlertDialogContent"),v=a.forwardRef((e,n)=>{let{__scopeAlertDialog:o,children:i,...d}=e,u=c(o),m=a.useRef(null),x=(0,s.useComposedRefs)(n,m),g=a.useRef(null);return(0,t.jsx)(r.WarningProvider,{contentName:p,titleName:y,docsSlug:"alert-dialog",children:(0,t.jsx)(h,{scope:o,cancelRef:g,children:(0,t.jsxs)(r.Content,{role:"alertdialog",...u,...d,ref:x,onOpenAutoFocus:(0,l.composeEventHandlers)(d.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=g.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(j,{children:i}),(0,t.jsx)(k,{contentRef:m})]})})})});v.displayName=p;var y="AlertDialogTitle",b=a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,n=c(s);return(0,t.jsx)(r.Title,{...n,...l,ref:a})});b.displayName=y;var N="AlertDialogDescription",w=a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,n=c(s);return(0,t.jsx)(r.Description,{...n,...l,ref:a})});w.displayName=N;var D=a.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...l}=e,n=c(s);return(0,t.jsx)(r.Close,{...n,...l,ref:a})});D.displayName="AlertDialogAction";var C="AlertDialogCancel",A=a.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...n}=e,{cancelRef:o}=f(C,l),i=c(l),d=(0,s.useComposedRefs)(a,o);return(0,t.jsx)(r.Close,{...i,...n,ref:d})});A.displayName=C;var k=e=>{let{contentRef:t}=e,s="`".concat(p,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(p,"` by passing a `").concat(N,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(p,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return a.useEffect(()=>{var e;document.getElementById(null==(e=t.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},T=e.i(47163),S=e.i(67881);function M(e){let{...a}=e;return(0,t.jsx)(u,{"data-slot":"alert-dialog",...a})}function F(e){let{...a}=e;return(0,t.jsx)(m,{"data-slot":"alert-dialog-trigger",...a})}function G(e){let{...a}=e;return(0,t.jsx)(x,{"data-slot":"alert-dialog-portal",...a})}function P(e){let{className:a,...s}=e;return(0,t.jsx)(g,{"data-slot":"alert-dialog-overlay",className:(0,T.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...s})}function R(e){let{className:a,...s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(P,{}),(0,t.jsx)(v,{"data-slot":"alert-dialog-content",className:(0,T.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...s})]})}function I(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,T.cn)("flex flex-col gap-2 text-center sm:text-left",a),...s})}function _(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,T.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...s})}function B(e){let{className:a,...s}=e;return(0,t.jsx)(b,{"data-slot":"alert-dialog-title",className:(0,T.cn)("text-lg font-semibold",a),...s})}function z(e){let{className:a,...s}=e;return(0,t.jsx)(w,{"data-slot":"alert-dialog-description",className:(0,T.cn)("text-muted-foreground text-sm",a),...s})}function L(e){let{className:a,...s}=e;return(0,t.jsx)(D,{className:(0,T.cn)((0,S.buttonVariants)(),a),...s})}function H(e){let{className:a,...s}=e;return(0,t.jsx)(A,{className:(0,T.cn)((0,S.buttonVariants)({variant:"outline"}),a),...s})}},23750,10708,e=>{"use strict";e.s(["Input",()=>s],23750);var t=e.i(18050),a=e.i(47163);function s(e){let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...l})}e.s(["Label",()=>o],10708);var r=e.i(71645),l=e.i(48425),n=r.forwardRef((e,a)=>(0,t.jsx)(l.Primitive.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function o(e){let{className:s,...r}=e;return(0,t.jsx)(n,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}n.displayName="Label"},30374,e=>{"use strict";e.s(["Dialog",()=>l,"DialogContent",()=>d,"DialogDescription",()=>x,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>m,"DialogTrigger",()=>n],30374);var t=e.i(18050),a=e.i(26999),s=e.i(41947),s=s,r=e.i(47163);function l(e){let{...s}=e;return(0,t.jsx)(a.Root,{"data-slot":"dialog",...s})}function n(e){let{...s}=e;return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...s})}function o(e){let{...s}=e;return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...s})}function i(e){let{className:s,...l}=e;return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...l})}function d(e){let{className:l,children:n,showCloseButton:d=!0,...c}=e;return(0,t.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,t.jsx)(i,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",l),...c,children:[n,d&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",a),...s})}function u(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...s})}function m(e){let{className:s,...l}=e;return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",s),...l})}function x(e){let{className:s,...l}=e;return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...l})}},7233,e=>{"use strict";e.s(["Plus",()=>t],7233);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},23585,e=>{"use strict";e.s(["MoreVertical",()=>t],23585);let t=(0,e.i(75254).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},88699,e=>{"use strict";e.s(["Pencil",()=>t],88699);let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},79002,e=>{"use strict";e.s(["UserPlus",()=>t],79002);let t=(0,e.i(75254).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},8328,e=>{"use strict";e.s(["default",()=>T],8328);var t=e.i(18050),a=e.i(71645),s=e.i(18566),r=e.i(49786),l=e.i(81868),n=e.i(67881),o=e.i(23750),i=e.i(10708),d=e.i(94179),c=e.i(47627),u=e.i(30374),m=e.i(30009),x=e.i(63415),g=e.i(16715),p=e.i(61911),h=e.i(7233),f=e.i(23585),j=e.i(88699),v=e.i(27612),y=e.i(79002);let b=(0,e.i(75254).default)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var N=e.i(98919),w=e.i(46696),D=e.i(91432),C=e.i(54858);e.i(73827);var A=e.i(59467);let k=["root","wheel","sudo","adm","bin","daemon","sys","nobody","users"];function T(){let[e,T]=(0,a.useState)(""),[S,M]=(0,a.useState)([]),[F,G]=(0,a.useState)([]),[P,R]=(0,a.useState)(!0),[I,_]=(0,a.useState)(!1),{user:B,isAuthenticated:z,isLoading:L}=(0,D.useAuth)(),H=(0,s.useRouter)(),[U,O]=(0,a.useState)(!1),[E,q]=(0,a.useState)({name:"",gid:""}),[V,K]=(0,a.useState)(!1),[W,Y]=(0,a.useState)(!1),[J,Q]=(0,a.useState)(null),[X,Z]=(0,a.useState)({new_name:""}),[$,ee]=(0,a.useState)(!1),[et,ea]=(0,a.useState)(!1),[es,er]=(0,a.useState)(null),[el,en]=(0,a.useState)(!1),[eo,ei]=(0,a.useState)(!1),[ed,ec]=(0,a.useState)(null),[eu,em]=(0,a.useState)(!1);(0,a.useEffect)(()=>{L||z?L||(null==B?void 0:B.role)==="admin"||(H.push("/dashboard"),w.toast.error("Admin access required")):H.push("/login")},[L,z,B,H]);let ex=async()=>{R(!0);try{let e=await C.systemUsersAPI.listGroups();M(e||[])}catch(e){console.error("Failed to load groups:",e),w.toast.error("Failed to load groups")}finally{R(!1)}},eg=async()=>{try{let e=await C.systemUsersAPI.list(!0);G(e||[])}catch(e){console.error("Failed to load users:",e)}};(0,a.useEffect)(()=>{z&&(null==B?void 0:B.role)==="admin"&&(ex(),eg())},[z,B]);let ep=S.filter(t=>{let a=t.name.toLowerCase().includes(e.toLowerCase()),s=t.gid<1e3;return a&&(I||!s)}),eh=e=>k.includes(e),ef=async()=>{if(!E.name)return void w.toast.error("Group name is required");K(!0);try{let e={name:E.name};E.gid&&(e.gid=parseInt(E.gid,10)),await C.systemUsersAPI.createGroup(e),w.toast.success('Group "'.concat(E.name,'" created successfully')),O(!1),q({name:"",gid:""}),ex()}catch(t){console.error("Failed to create group:",t);let e=t instanceof Error?t.message:"Failed to create group";w.toast.error(e)}finally{K(!1)}},ej=async()=>{if(!J||!X.new_name)return void w.toast.error("New group name is required");ee(!0);try{await C.systemUsersAPI.updateGroup(J.name,{new_name:X.new_name}),w.toast.success('Group renamed to "'.concat(X.new_name,'" successfully')),Y(!1),Q(null),Z({new_name:""}),ex()}catch(t){console.error("Failed to rename group:",t);let e=t instanceof Error?t.message:"Failed to rename group";w.toast.error(e)}finally{ee(!1)}},ev=async()=>{if(es){en(!0);try{await C.systemUsersAPI.deleteGroup(es.name),w.toast.success('Group "'.concat(es.name,'" deleted successfully')),ea(!1),er(null),ex()}catch(t){console.error("Failed to delete group:",t);let e=t instanceof Error?t.message:"Failed to delete group";w.toast.error(e)}finally{en(!1)}}},ey=async e=>{if(ed){em(!0);try{let t=await C.systemUsersAPI.addGroupMember(ed.name,e);ec(t),w.toast.success('Added "'.concat(e,'" to group "').concat(ed.name,'"')),ex()}catch(t){console.error("Failed to add member:",t);let e=t instanceof Error?t.message:"Failed to add member";w.toast.error(e)}finally{em(!1)}}},eb=async e=>{if(ed){em(!0);try{let t=await C.systemUsersAPI.removeGroupMember(ed.name,e);ec(t),w.toast.success('Removed "'.concat(e,'" from group "').concat(ed.name,'"')),ex()}catch(t){console.error("Failed to remove member:",t);let e=t instanceof Error?t.message:"Failed to remove member";w.toast.error(e)}finally{em(!1)}}},eN=F.filter(e=>!e.is_system&&!(null==ed?void 0:ed.members.includes(e.username)));return L&&!B||!z||B&&"admin"!==B.role?(0,t.jsx)(A.PageSkeleton,{title:"Group Management"}):(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsx)(l.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(r.Header,{title:"Group Management"}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage system groups for access control and permissions"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.Button,{onClick:()=>O(!0),children:[(0,t.jsx)(h.Plus,{className:"mr-2 h-4 w-4"}),"Create Group"]}),(0,t.jsx)(n.Button,{variant:"outline",size:"icon",onClick:ex,disabled:P,children:(0,t.jsx)(g.RefreshCw,{className:"h-4 w-4 ".concat(P?"animate-spin":"")})})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,t.jsx)(o.Input,{type:"search",placeholder:"Search groups by name...",value:e,onChange:e=>T(e.target.value),className:"max-w-md"}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:I,onChange:e=>_(e.target.checked),className:"rounded border-input"}),"Show system groups"]})]}),(0,t.jsx)("div",{className:"border rounded-lg",children:P?(0,t.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"Loading groups..."}):0===ep.length?(0,t.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:e?"No groups match your search":"No groups found"}):(0,t.jsxs)(c.Table,{children:[(0,t.jsx)(c.TableHeader,{children:(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableHead,{children:"Group Name"}),(0,t.jsx)(c.TableHead,{children:"GID"}),(0,t.jsx)(c.TableHead,{children:"Members"}),(0,t.jsx)(c.TableHead,{children:"Type"}),(0,t.jsx)(c.TableHead,{className:"w-12"})]})}),(0,t.jsx)(c.TableBody,{children:ep.map(e=>(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableCell,{className:"font-medium",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Users,{className:"h-4 w-4 text-muted-foreground"}),e.name,eh(e.name)&&(0,t.jsx)("span",{title:"Critical system group",children:(0,t.jsx)(N.Shield,{className:"h-4 w-4 text-orange-500"})})]})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsx)("code",{className:"text-xs bg-muted px-1 rounded",children:e.gid})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.members.length>0?(0,t.jsxs)(t.Fragment,{children:[e.members.slice(0,4).map(e=>(0,t.jsx)(d.Badge,{variant:"outline",className:"text-xs",children:e},e)),e.members.length>4&&(0,t.jsxs)(d.Badge,{variant:"secondary",className:"text-xs",children:["+",e.members.length-4," more"]})]}):(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"No members"})})}),(0,t.jsx)(c.TableCell,{children:e.gid<1e3?(0,t.jsx)(d.Badge,{variant:"outline",className:"text-xs",children:"System"}):(0,t.jsx)(d.Badge,{variant:"secondary",className:"text-xs",children:"User"})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsxs)(x.DropdownMenu,{children:[(0,t.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(f.MoreVertical,{className:"h-4 w-4"})})}),(0,t.jsxs)(x.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(x.DropdownMenuItem,{onClick:()=>{ec(e),ei(!0)},children:[(0,t.jsx)(y.UserPlus,{className:"mr-2 h-4 w-4"}),"Manage Members"]}),!eh(e.name)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.DropdownMenuItem,{onClick:()=>{Q(e),Z({new_name:e.name}),Y(!0)},children:[(0,t.jsx)(j.Pencil,{className:"mr-2 h-4 w-4"}),"Rename Group"]}),(0,t.jsx)(x.DropdownMenuSeparator,{}),(0,t.jsxs)(x.DropdownMenuItem,{onClick:()=>{er(e),ea(!0)},className:"text-destructive focus:text-destructive",children:[(0,t.jsx)(v.Trash2,{className:"mr-2 h-4 w-4"}),"Delete Group"]})]})]})]})})]},e.name))})]})}),(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",ep.length," of ",S.length," groups"]})})]})})]}),(0,t.jsx)(u.Dialog,{open:U,onOpenChange:O,children:(0,t.jsxs)(u.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsx)(u.DialogTitle,{children:"Create New Group"}),(0,t.jsx)(u.DialogDescription,{children:"Create a new system group for organizing users"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"create-name",children:"Group Name *"}),(0,t.jsx)(o.Input,{id:"create-name",placeholder:"mygroup",value:E.name,onChange:e=>q({...E,name:e.target.value.toLowerCase()})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Lowercase letters, numbers, underscores, and hyphens only"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"create-gid",children:"GID (optional)"}),(0,t.jsx)(o.Input,{id:"create-gid",type:"number",placeholder:"Auto-assigned if empty",value:E.gid,onChange:e=>q({...E,gid:e.target.value})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leave empty for automatic assignment"})]})]}),(0,t.jsxs)(u.DialogFooter,{children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),(0,t.jsx)(n.Button,{onClick:ef,disabled:V,children:V?"Creating...":"Create Group"})]})]})}),(0,t.jsx)(u.Dialog,{open:W,onOpenChange:Y,children:(0,t.jsxs)(u.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsxs)(u.DialogTitle,{children:["Rename Group: ",null==J?void 0:J.name]}),(0,t.jsx)(u.DialogDescription,{children:"Change the group name"})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"edit-name",children:"New Group Name *"}),(0,t.jsx)(o.Input,{id:"edit-name",placeholder:"newgroupname",value:X.new_name,onChange:e=>Z({...X,new_name:e.target.value.toLowerCase()})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Lowercase letters, numbers, underscores, and hyphens only"})]})}),(0,t.jsxs)(u.DialogFooter,{children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),(0,t.jsx)(n.Button,{onClick:ej,disabled:$,children:$?"Renaming...":"Rename Group"})]})]})}),(0,t.jsx)(m.AlertDialog,{open:et,onOpenChange:ea,children:(0,t.jsxs)(m.AlertDialogContent,{children:[(0,t.jsxs)(m.AlertDialogHeader,{children:[(0,t.jsxs)(m.AlertDialogTitle,{children:["Delete Group: ",null==es?void 0:es.name]}),(0,t.jsx)(m.AlertDialogDescription,{children:"Are you sure you want to delete this group? Users in this group will lose their membership. This action cannot be undone."})]}),es&&es.members.length>0&&(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["This group has ",es.members.length," member(s):"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[es.members.slice(0,8).map(e=>(0,t.jsx)(d.Badge,{variant:"outline",className:"text-xs",children:e},e)),es.members.length>8&&(0,t.jsxs)(d.Badge,{variant:"secondary",className:"text-xs",children:["+",es.members.length-8," more"]})]})]}),(0,t.jsxs)(m.AlertDialogFooter,{children:[(0,t.jsx)(m.AlertDialogCancel,{children:"Cancel"}),(0,t.jsx)(m.AlertDialogAction,{onClick:ev,disabled:el,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:el?"Deleting...":"Delete Group"})]})]})}),(0,t.jsx)(u.Dialog,{open:eo,onOpenChange:ei,children:(0,t.jsxs)(u.DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsxs)(u.DialogTitle,{children:["Manage Members: ",null==ed?void 0:ed.name]}),(0,t.jsx)(u.DialogDescription,{children:"Add or remove users from this group"})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(i.Label,{className:"text-sm font-medium",children:["Current Members (",(null==ed?void 0:ed.members.length)||0,")"]}),(0,t.jsx)("div",{className:"border rounded-md p-3 max-h-40 overflow-y-auto",children:(null==ed?void 0:ed.members.length)===0?(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No members in this group"}):(0,t.jsx)("div",{className:"space-y-2",children:null==ed?void 0:ed.members.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,t.jsx)("span",{className:"text-sm",children:e}),(0,t.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>eb(e),disabled:eu,className:"h-7 text-destructive hover:text-destructive hover:bg-destructive/10",children:[(0,t.jsx)(b,{className:"h-4 w-4 mr-1"}),"Remove"]})]},e))})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-sm font-medium",children:"Add Members"}),(0,t.jsx)("div",{className:"border rounded-md p-3 max-h-48 overflow-y-auto",children:0===eN.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"All users are already members of this group"}):(0,t.jsx)("div",{className:"space-y-2",children:eN.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.username}),e.name&&(0,t.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["(",e.name,")"]})]}),(0,t.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>ey(e.username),disabled:eu,className:"h-7",children:[(0,t.jsx)(y.UserPlus,{className:"h-4 w-4 mr-1"}),"Add"]})]},e.username))})})]})]}),(0,t.jsx)(u.DialogFooter,{children:(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>ei(!1),children:"Done"})})]})})]})}}]);